{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _userRouter = _interopRequireDefault(require(\"./routers/userRouter\"));\nvar _config = _interopRequireDefault(require(\"./config\"));\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\nvar _orderRouter = _interopRequireDefault(require(\"./routers/orderRouter\"));\nvar _productRouter = _interopRequireDefault(require(\"./routers/productRouter\"));\nvar _uploadRouter = _interopRequireDefault(require(\"./routers/uploadRouter\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n_mongoose.default.connect(_config.default.MONGODB_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  dbName: 'test2'\n}).then(() => {\n  console.log(\"Connected to mongodb.\");\n}).catch(error => {\n  console.log(error.reason);\n});\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_bodyParser.default.json());\napp.use('/api/uploads', _uploadRouter.default);\napp.use(\"/api/users\", _userRouter.default);\napp.use('/api/products', _productRouter.default);\napp.use('/api/orders', _orderRouter.default);\napp.get('/api/paypal/clientId', (req, res) => {\n  res.send({\n    clientId: _config.default.PAYPAL_CLIENT_ID\n  });\n});\napp.use('/uploads', _express.default.static(_path.default.join(__dirname, '/../uploads')));\napp.use(_express.default.static(_path.default.join(__dirname, '/../frontend')));\napp.get('*', (req, res) => {\n  res.sendFile(_path.default.join(__dirname, '/../frontend/index.html'));\n});\napp.use((err, req, res, next) => {\n  const status = err.name && err.name === \"ValidationError\" ? 400 : 500;\n  res.status(status).send({\n    message: err.message\n  });\n});\napp.listen(_config.default.PORT, () => {\n  console.log(\"serve at http://localhost:5000\");\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsImNvbm5lY3QiLCJjb25maWciLCJNT05HT0RCX1VSTCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsImRiTmFtZSIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnJvciIsInJlYXNvbiIsImFwcCIsImV4cHJlc3MiLCJ1c2UiLCJjb3JzIiwiYm9keVBhcnNlciIsImpzb24iLCJ1cGxvYWRSb3V0ZXIiLCJ1c2VyUm91dGVyIiwicHJvZHVjdFJvdXRlciIsIm9yZGVyUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwic2VuZCIsImNsaWVudElkIiwiUEFZUEFMX0NMSUVOVF9JRCIsInN0YXRpYyIsInBhdGgiLCJqb2luIiwiX19kaXJuYW1lIiwic2VuZEZpbGUiLCJlcnIiLCJuZXh0Iiwic3RhdHVzIiwibmFtZSIsIm1lc3NhZ2UiLCJsaXN0ZW4iLCJQT1JUIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGZyYWFuXFxEZXNrdG9wXFxwcmFjdGljYVxcbmV3ZWNvbW1lcmNlM1xcYmFja2VuZFxcIiwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IGNvcnMgZnJvbSBcImNvcnNcIjtcclxuaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5pbXBvcnQgdXNlclJvdXRlciBmcm9tIFwiLi9yb3V0ZXJzL3VzZXJSb3V0ZXJcIjtcclxuaW1wb3J0IGNvbmZpZyBmcm9tIFwiLi9jb25maWdcIjtcclxuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSBcImJvZHktcGFyc2VyXCI7XHJcbmltcG9ydCBvcmRlclJvdXRlciBmcm9tIFwiLi9yb3V0ZXJzL29yZGVyUm91dGVyXCI7XHJcbmltcG9ydCBwcm9kdWN0Um91dGVyIGZyb20gXCIuL3JvdXRlcnMvcHJvZHVjdFJvdXRlclwiO1xyXG5pbXBvcnQgdXBsb2FkUm91dGVyIGZyb20gXCIuL3JvdXRlcnMvdXBsb2FkUm91dGVyXCI7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXHJcblxyXG5tb25nb29zZVxyXG4gIC5jb25uZWN0KGNvbmZpZy5NT05HT0RCX1VSTCwge1xyXG4gICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxyXG4gICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLFxyXG4gICAgZGJOYW1lOiAndGVzdDInLFxyXG4gIH0pXHJcbiAgLnRoZW4oKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJDb25uZWN0ZWQgdG8gbW9uZ29kYi5cIik7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnJvci5yZWFzb24pO1xyXG4gIH0pO1xyXG5cclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5cclxuXHJcbmFwcC51c2UoY29ycygpKTtcclxuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XHJcbmFwcC51c2UoJy9hcGkvdXBsb2FkcycsIHVwbG9hZFJvdXRlcik7XHJcbmFwcC51c2UoXCIvYXBpL3VzZXJzXCIsIHVzZXJSb3V0ZXIpO1xyXG5hcHAudXNlKCcvYXBpL3Byb2R1Y3RzJywgcHJvZHVjdFJvdXRlcik7XHJcbmFwcC51c2UoJy9hcGkvb3JkZXJzJywgb3JkZXJSb3V0ZXIpO1xyXG5hcHAuZ2V0KCcvYXBpL3BheXBhbC9jbGllbnRJZCcsIChyZXEsIHJlcykgPT4ge1xyXG4gIHJlcy5zZW5kKHsgY2xpZW50SWQ6IGNvbmZpZy5QQVlQQUxfQ0xJRU5UX0lEIH0pO1xyXG59KTtcclxuXHJcbmFwcC51c2UoJy91cGxvYWRzJywgZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgJy8uLi91cGxvYWRzJykpKTtcclxuYXBwLnVzZShleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lLCAnLy4uL2Zyb250ZW5kJykpKTtcclxuYXBwLmdldCgnKicsIChyZXEsIHJlcykgPT4ge1xyXG4gIHJlcy5zZW5kRmlsZShwYXRoLmpvaW4oX19kaXJuYW1lLCAnLy4uL2Zyb250ZW5kL2luZGV4Lmh0bWwnKSk7XHJcbn0pO1xyXG5cclxuYXBwLnVzZSgoZXJyLCByZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIGNvbnN0IHN0YXR1cyA9IGVyci5uYW1lICYmIGVyci5uYW1lID09PSBcIlZhbGlkYXRpb25FcnJvclwiID8gNDAwIDogNTAwO1xyXG4gIHJlcy5zdGF0dXMoc3RhdHVzKS5zZW5kKHsgbWVzc2FnZTogZXJyLm1lc3NhZ2UgfSk7XHJcbn0pO1xyXG5cclxuYXBwLmxpc3Rlbihjb25maWcuUE9SVCwgKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKFwic2VydmUgYXQgaHR0cDovL2xvY2FsaG9zdDo1MDAwXCIpO1xyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQXVCO0FBRXZCQSxpQkFBUSxDQUNMQyxPQUFPLENBQUNDLGVBQU0sQ0FBQ0MsV0FBVyxFQUFFO0VBQzNCQyxlQUFlLEVBQUUsSUFBSTtFQUNyQkMsa0JBQWtCLEVBQUUsSUFBSTtFQUN4QkMsTUFBTSxFQUFFO0FBQ1YsQ0FBQyxDQUFDLENBQ0RDLElBQUksQ0FBQyxNQUFNO0VBQ1ZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHVCQUF1QixDQUFDO0FBQ3RDLENBQUMsQ0FBQyxDQUNEQyxLQUFLLENBQUVDLEtBQUssSUFBSztFQUNoQkgsT0FBTyxDQUFDQyxHQUFHLENBQUNFLEtBQUssQ0FBQ0MsTUFBTSxDQUFDO0FBQzNCLENBQUMsQ0FBQztBQUVKLE1BQU1DLEdBQUcsR0FBRyxJQUFBQyxnQkFBTyxHQUFFO0FBR3JCRCxHQUFHLENBQUNFLEdBQUcsQ0FBQyxJQUFBQyxhQUFJLEdBQUUsQ0FBQztBQUNmSCxHQUFHLENBQUNFLEdBQUcsQ0FBQ0UsbUJBQVUsQ0FBQ0MsSUFBSSxFQUFFLENBQUM7QUFDMUJMLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLGNBQWMsRUFBRUkscUJBQVksQ0FBQztBQUNyQ04sR0FBRyxDQUFDRSxHQUFHLENBQUMsWUFBWSxFQUFFSyxtQkFBVSxDQUFDO0FBQ2pDUCxHQUFHLENBQUNFLEdBQUcsQ0FBQyxlQUFlLEVBQUVNLHNCQUFhLENBQUM7QUFDdkNSLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLGFBQWEsRUFBRU8sb0JBQVcsQ0FBQztBQUNuQ1QsR0FBRyxDQUFDVSxHQUFHLENBQUMsc0JBQXNCLEVBQUUsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDNUNBLEdBQUcsQ0FBQ0MsSUFBSSxDQUFDO0lBQUVDLFFBQVEsRUFBRXpCLGVBQU0sQ0FBQzBCO0VBQWlCLENBQUMsQ0FBQztBQUNqRCxDQUFDLENBQUM7QUFFRmYsR0FBRyxDQUFDRSxHQUFHLENBQUMsVUFBVSxFQUFFRCxnQkFBTyxDQUFDZSxNQUFNLENBQUNDLGFBQUksQ0FBQ0MsSUFBSSxDQUFDQyxTQUFTLEVBQUUsYUFBYSxDQUFDLENBQUMsQ0FBQztBQUN4RW5CLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDRCxnQkFBTyxDQUFDZSxNQUFNLENBQUNDLGFBQUksQ0FBQ0MsSUFBSSxDQUFDQyxTQUFTLEVBQUUsY0FBYyxDQUFDLENBQUMsQ0FBQztBQUM3RG5CLEdBQUcsQ0FBQ1UsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN6QkEsR0FBRyxDQUFDUSxRQUFRLENBQUNILGFBQUksQ0FBQ0MsSUFBSSxDQUFDQyxTQUFTLEVBQUUseUJBQXlCLENBQUMsQ0FBQztBQUMvRCxDQUFDLENBQUM7QUFFRm5CLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLENBQUNtQixHQUFHLEVBQUVWLEdBQUcsRUFBRUMsR0FBRyxFQUFFVSxJQUFJLEtBQUs7RUFDL0IsTUFBTUMsTUFBTSxHQUFHRixHQUFHLENBQUNHLElBQUksSUFBSUgsR0FBRyxDQUFDRyxJQUFJLEtBQUssaUJBQWlCLEdBQUcsR0FBRyxHQUFHLEdBQUc7RUFDckVaLEdBQUcsQ0FBQ1csTUFBTSxDQUFDQSxNQUFNLENBQUMsQ0FBQ1YsSUFBSSxDQUFDO0lBQUVZLE9BQU8sRUFBRUosR0FBRyxDQUFDSTtFQUFRLENBQUMsQ0FBQztBQUNuRCxDQUFDLENBQUM7QUFFRnpCLEdBQUcsQ0FBQzBCLE1BQU0sQ0FBQ3JDLGVBQU0sQ0FBQ3NDLElBQUksRUFBRSxNQUFNO0VBQzVCaEMsT0FBTyxDQUFDQyxHQUFHLENBQUMsZ0NBQWdDLENBQUM7QUFDL0MsQ0FBQyxDQUFDIn0=","map":{"version":3,"names":["mongoose","connect","config","MONGODB_URL","useNewUrlParser","useUnifiedTopology","dbName","then","console","log","catch","error","reason","app","express","use","cors","bodyParser","json","uploadRouter","userRouter","productRouter","orderRouter","get","req","res","send","clientId","PAYPAL_CLIENT_ID","static","path","join","__dirname","sendFile","err","next","status","name","message","listen","PORT"],"sourceRoot":"C:\\Users\\fraan\\Desktop\\practica\\newecommerce3\\backend\\","sources":["server.js"],"sourcesContent":["import express from \"express\";\r\nimport cors from \"cors\";\r\nimport mongoose from \"mongoose\";\r\nimport userRouter from \"./routers/userRouter\";\r\nimport config from \"./config\";\r\nimport bodyParser from \"body-parser\";\r\nimport orderRouter from \"./routers/orderRouter\";\r\nimport productRouter from \"./routers/productRouter\";\r\nimport uploadRouter from \"./routers/uploadRouter\";\r\nimport path from 'path'\r\n\r\nmongoose\r\n  .connect(config.MONGODB_URL, {\r\n    useNewUrlParser: true,\r\n    useUnifiedTopology: true,\r\n    dbName: 'test2',\r\n  })\r\n  .then(() => {\r\n    console.log(\"Connected to mongodb.\");\r\n  })\r\n  .catch((error) => {\r\n    console.log(error.reason);\r\n  });\r\n\r\nconst app = express();\r\n\r\n\r\napp.use(cors());\r\napp.use(bodyParser.json());\r\napp.use('/api/uploads', uploadRouter);\r\napp.use(\"/api/users\", userRouter);\r\napp.use('/api/products', productRouter);\r\napp.use('/api/orders', orderRouter);\r\napp.get('/api/paypal/clientId', (req, res) => {\r\n  res.send({ clientId: config.PAYPAL_CLIENT_ID });\r\n});\r\n\r\napp.use('/uploads', express.static(path.join(__dirname, '/../uploads')));\r\napp.use(express.static(path.join(__dirname, '/../frontend')));\r\napp.get('*', (req, res) => {\r\n  res.sendFile(path.join(__dirname, '/../frontend/index.html'));\r\n});\r\n\r\napp.use((err, req, res, next) => {\r\n  const status = err.name && err.name === \"ValidationError\" ? 400 : 500;\r\n  res.status(status).send({ message: err.message });\r\n});\r\n\r\napp.listen(config.PORT, () => {\r\n  console.log(\"serve at http://localhost:5000\");\r\n});\r\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAuB;AAEvBA,iBAAQ,CACLC,OAAO,CAACC,eAAM,CAACC,WAAW,EAAE;EAC3BC,eAAe,EAAE,IAAI;EACrBC,kBAAkB,EAAE,IAAI;EACxBC,MAAM,EAAE;AACV,CAAC,CAAC,CACDC,IAAI,CAAC,MAAM;EACVC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;AACtC,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;EAChBH,OAAO,CAACC,GAAG,CAACE,KAAK,CAACC,MAAM,CAAC;AAC3B,CAAC,CAAC;AAEJ,MAAMC,GAAG,GAAG,IAAAC,gBAAO,GAAE;AAGrBD,GAAG,CAACE,GAAG,CAAC,IAAAC,aAAI,GAAE,CAAC;AACfH,GAAG,CAACE,GAAG,CAACE,mBAAU,CAACC,IAAI,EAAE,CAAC;AAC1BL,GAAG,CAACE,GAAG,CAAC,cAAc,EAAEI,qBAAY,CAAC;AACrCN,GAAG,CAACE,GAAG,CAAC,YAAY,EAAEK,mBAAU,CAAC;AACjCP,GAAG,CAACE,GAAG,CAAC,eAAe,EAAEM,sBAAa,CAAC;AACvCR,GAAG,CAACE,GAAG,CAAC,aAAa,EAAEO,oBAAW,CAAC;AACnCT,GAAG,CAACU,GAAG,CAAC,sBAAsB,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC5CA,GAAG,CAACC,IAAI,CAAC;IAAEC,QAAQ,EAAEzB,eAAM,CAAC0B;EAAiB,CAAC,CAAC;AACjD,CAAC,CAAC;AAEFf,GAAG,CAACE,GAAG,CAAC,UAAU,EAAED,gBAAO,CAACe,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAE,aAAa,CAAC,CAAC,CAAC;AACxEnB,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACe,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAE,cAAc,CAAC,CAAC,CAAC;AAC7DnB,GAAG,CAACU,GAAG,CAAC,GAAG,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EACzBA,GAAG,CAACQ,QAAQ,CAACH,aAAI,CAACC,IAAI,CAACC,SAAS,EAAE,yBAAyB,CAAC,CAAC;AAC/D,CAAC,CAAC;AAEFnB,GAAG,CAACE,GAAG,CAAC,CAACmB,GAAG,EAAEV,GAAG,EAAEC,GAAG,EAAEU,IAAI,KAAK;EAC/B,MAAMC,MAAM,GAAGF,GAAG,CAACG,IAAI,IAAIH,GAAG,CAACG,IAAI,KAAK,iBAAiB,GAAG,GAAG,GAAG,GAAG;EACrEZ,GAAG,CAACW,MAAM,CAACA,MAAM,CAAC,CAACV,IAAI,CAAC;IAAEY,OAAO,EAAEJ,GAAG,CAACI;EAAQ,CAAC,CAAC;AACnD,CAAC,CAAC;AAEFzB,GAAG,CAAC0B,MAAM,CAACrC,eAAM,CAACsC,IAAI,EAAE,MAAM;EAC5BhC,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC;AAC/C,CAAC,CAAC"}},"mtime":1667520987856},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\data.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  products: [{\n    _id: '111111111111111111111111',\n    name: 'Electric Rice Cooker (0,6 L, white) 1460 GR',\n    category: 'na',\n    image: '/images/product1.png',\n    price: 30,\n    brand: 'Tristar',\n    rating: 5,\n    numReviews: 211,\n    countInStock: 303,\n    description: 'Tristar is a very popular brand of rice cookers which is also used by Asian chefs. This small rice cooker has a capacity of 0.6 liters and is suitable for one or two people. With Tristar Electric Rice Cooker you get the perfect consistency, and your rice stays deliciously aromatic and flavorful.'\n  }]\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0cyIsIl9pZCIsIm5hbWUiLCJjYXRlZ29yeSIsImltYWdlIiwicHJpY2UiLCJicmFuZCIsInJhdGluZyIsIm51bVJldmlld3MiLCJjb3VudEluU3RvY2siLCJkZXNjcmlwdGlvbiJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxmcmFhblxcRGVza3RvcFxccHJhY3RpY2FcXG5ld2Vjb21tZXJjZTNcXGJhY2tlbmRcXCIsInNvdXJjZXMiOlsiZGF0YS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICBwcm9kdWN0czogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgX2lkOiAnMTExMTExMTExMTExMTExMTExMTExMTExJyxcclxuICAgICAgICAgICAgbmFtZTogJ0VsZWN0cmljIFJpY2UgQ29va2VyICgwLDYgTCwgd2hpdGUpIDE0NjAgR1InLFxyXG4gICAgICAgICAgICBjYXRlZ29yeTogJ25hJyxcclxuICAgICAgICAgICAgaW1hZ2U6ICcvaW1hZ2VzL3Byb2R1Y3QxLnBuZycsXHJcbiAgICAgICAgICAgIHByaWNlOiAzMCxcclxuICAgICAgICAgICAgYnJhbmQ6ICdUcmlzdGFyJyxcclxuICAgICAgICAgICAgcmF0aW5nOiA1LFxyXG4gICAgICAgICAgICBudW1SZXZpZXdzOiAyMTEsXHJcbiAgICAgICAgICAgIGNvdW50SW5TdG9jazogMzAzLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1RyaXN0YXIgaXMgYSB2ZXJ5IHBvcHVsYXIgYnJhbmQgb2YgcmljZSBjb29rZXJzIHdoaWNoIGlzIGFsc28gdXNlZCBieSBBc2lhbiBjaGVmcy4gVGhpcyBzbWFsbCByaWNlIGNvb2tlciBoYXMgYSBjYXBhY2l0eSBvZiAwLjYgbGl0ZXJzIGFuZCBpcyBzdWl0YWJsZSBmb3Igb25lIG9yIHR3byBwZW9wbGUuIFdpdGggVHJpc3RhciBFbGVjdHJpYyBSaWNlIENvb2tlciB5b3UgZ2V0IHRoZSBwZXJmZWN0IGNvbnNpc3RlbmN5LCBhbmQgeW91ciByaWNlIHN0YXlzIGRlbGljaW91c2x5IGFyb21hdGljIGFuZCBmbGF2b3JmdWwuJyxcclxuICAgICAgICB9LFxyXG4gICAgXVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7ZUFBZTtFQUNYQSxRQUFRLEVBQUUsQ0FDTjtJQUNJQyxHQUFHLEVBQUUsMEJBQTBCO0lBQy9CQyxJQUFJLEVBQUUsNkNBQTZDO0lBQ25EQyxRQUFRLEVBQUUsSUFBSTtJQUNkQyxLQUFLLEVBQUUsc0JBQXNCO0lBQzdCQyxLQUFLLEVBQUUsRUFBRTtJQUNUQyxLQUFLLEVBQUUsU0FBUztJQUNoQkMsTUFBTSxFQUFFLENBQUM7SUFDVEMsVUFBVSxFQUFFLEdBQUc7SUFDZkMsWUFBWSxFQUFFLEdBQUc7SUFDakJDLFdBQVcsRUFBRTtFQUNqQixDQUFDO0FBRVQsQ0FBQztBQUFBIn0=","map":{"version":3,"names":["products","_id","name","category","image","price","brand","rating","numReviews","countInStock","description"],"sourceRoot":"C:\\Users\\fraan\\Desktop\\practica\\newecommerce3\\backend\\","sources":["data.js"],"sourcesContent":["export default {\r\n    products: [\r\n        {\r\n            _id: '111111111111111111111111',\r\n            name: 'Electric Rice Cooker (0,6 L, white) 1460 GR',\r\n            category: 'na',\r\n            image: '/images/product1.png',\r\n            price: 30,\r\n            brand: 'Tristar',\r\n            rating: 5,\r\n            numReviews: 211,\r\n            countInStock: 303,\r\n            description: 'Tristar is a very popular brand of rice cookers which is also used by Asian chefs. This small rice cooker has a capacity of 0.6 liters and is suitable for one or two people. With Tristar Electric Rice Cooker you get the perfect consistency, and your rice stays deliciously aromatic and flavorful.',\r\n        },\r\n    ]\r\n}"],"mappings":";;;;;;eAAe;EACXA,QAAQ,EAAE,CACN;IACIC,GAAG,EAAE,0BAA0B;IAC/BC,IAAI,EAAE,6CAA6C;IACnDC,QAAQ,EAAE,IAAI;IACdC,KAAK,EAAE,sBAAsB;IAC7BC,KAAK,EAAE,EAAE;IACTC,KAAK,EAAE,SAAS;IAChBC,MAAM,EAAE,CAAC;IACTC,UAAU,EAAE,GAAG;IACfC,YAAY,EAAE,GAAG;IACjBC,WAAW,EAAE;EACjB,CAAC;AAET,CAAC;AAAA"}},"mtime":1667348827796},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\data.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  products: [{\n    _id: '111111111111111111111111',\n    name: 'Electric Rice Cooker (0,6 L, white) 1460 GR',\n    category: 'na',\n    image: '/images/product1.png',\n    price: 30,\n    brand: 'Tristar',\n    rating: 5,\n    numReviews: 211,\n    countInStock: 303,\n    description: 'Tristar is a very popular brand of rice cookers which is also used by Asian chefs. This small rice cooker has a capacity of 0.6 liters and is suitable for one or two people. With Tristar Electric Rice Cooker you get the perfect consistency, and your rice stays deliciously aromatic and flavorful.'\n  }]\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0cyIsIl9pZCIsIm5hbWUiLCJjYXRlZ29yeSIsImltYWdlIiwicHJpY2UiLCJicmFuZCIsInJhdGluZyIsIm51bVJldmlld3MiLCJjb3VudEluU3RvY2siLCJkZXNjcmlwdGlvbiJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxmcmFhblxcRGVza3RvcFxccHJhY3RpY2FcXG5ld2Vjb21tZXJjZTNcXGJhY2tlbmRcXCIsInNvdXJjZXMiOlsiZGF0YS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICBwcm9kdWN0czogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgX2lkOiAnMTExMTExMTExMTExMTExMTExMTExMTExJyxcclxuICAgICAgICAgICAgbmFtZTogJ0VsZWN0cmljIFJpY2UgQ29va2VyICgwLDYgTCwgd2hpdGUpIDE0NjAgR1InLFxyXG4gICAgICAgICAgICBjYXRlZ29yeTogJ25hJyxcclxuICAgICAgICAgICAgaW1hZ2U6ICcvaW1hZ2VzL3Byb2R1Y3QxLnBuZycsXHJcbiAgICAgICAgICAgIHByaWNlOiAzMCxcclxuICAgICAgICAgICAgYnJhbmQ6ICdUcmlzdGFyJyxcclxuICAgICAgICAgICAgcmF0aW5nOiA1LFxyXG4gICAgICAgICAgICBudW1SZXZpZXdzOiAyMTEsXHJcbiAgICAgICAgICAgIGNvdW50SW5TdG9jazogMzAzLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1RyaXN0YXIgaXMgYSB2ZXJ5IHBvcHVsYXIgYnJhbmQgb2YgcmljZSBjb29rZXJzIHdoaWNoIGlzIGFsc28gdXNlZCBieSBBc2lhbiBjaGVmcy4gVGhpcyBzbWFsbCByaWNlIGNvb2tlciBoYXMgYSBjYXBhY2l0eSBvZiAwLjYgbGl0ZXJzIGFuZCBpcyBzdWl0YWJsZSBmb3Igb25lIG9yIHR3byBwZW9wbGUuIFdpdGggVHJpc3RhciBFbGVjdHJpYyBSaWNlIENvb2tlciB5b3UgZ2V0IHRoZSBwZXJmZWN0IGNvbnNpc3RlbmN5LCBhbmQgeW91ciByaWNlIHN0YXlzIGRlbGljaW91c2x5IGFyb21hdGljIGFuZCBmbGF2b3JmdWwuJyxcclxuICAgICAgICB9LFxyXG4gICAgXVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7ZUFBZTtFQUNYQSxRQUFRLEVBQUUsQ0FDTjtJQUNJQyxHQUFHLEVBQUUsMEJBQTBCO0lBQy9CQyxJQUFJLEVBQUUsNkNBQTZDO0lBQ25EQyxRQUFRLEVBQUUsSUFBSTtJQUNkQyxLQUFLLEVBQUUsc0JBQXNCO0lBQzdCQyxLQUFLLEVBQUUsRUFBRTtJQUNUQyxLQUFLLEVBQUUsU0FBUztJQUNoQkMsTUFBTSxFQUFFLENBQUM7SUFDVEMsVUFBVSxFQUFFLEdBQUc7SUFDZkMsWUFBWSxFQUFFLEdBQUc7SUFDakJDLFdBQVcsRUFBRTtFQUNqQixDQUFDO0FBRVQsQ0FBQztBQUFBIn0=","map":{"version":3,"names":["products","_id","name","category","image","price","brand","rating","numReviews","countInStock","description"],"sourceRoot":"C:\\Users\\fraan\\Desktop\\practica\\newecommerce3\\backend\\","sources":["data.js"],"sourcesContent":["export default {\r\n    products: [\r\n        {\r\n            _id: '111111111111111111111111',\r\n            name: 'Electric Rice Cooker (0,6 L, white) 1460 GR',\r\n            category: 'na',\r\n            image: '/images/product1.png',\r\n            price: 30,\r\n            brand: 'Tristar',\r\n            rating: 5,\r\n            numReviews: 211,\r\n            countInStock: 303,\r\n            description: 'Tristar is a very popular brand of rice cookers which is also used by Asian chefs. This small rice cooker has a capacity of 0.6 liters and is suitable for one or two people. With Tristar Electric Rice Cooker you get the perfect consistency, and your rice stays deliciously aromatic and flavorful.',\r\n        },\r\n    ]\r\n}"],"mappings":";;;;;;eAAe;EACXA,QAAQ,EAAE,CACN;IACIC,GAAG,EAAE,0BAA0B;IAC/BC,IAAI,EAAE,6CAA6C;IACnDC,QAAQ,EAAE,IAAI;IACdC,KAAK,EAAE,sBAAsB;IAC7BC,KAAK,EAAE,EAAE;IACTC,KAAK,EAAE,SAAS;IAChBC,MAAM,EAAE,CAAC;IACTC,UAAU,EAAE,GAAG;IACfC,YAAY,EAAE,GAAG;IACjBC,WAAW,EAAE;EACjB,CAAC;AAET,CAAC;AAAA"}},"mtime":1667348827796},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\routers\\\\userRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\nvar _utils = require(\"../utils\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst userRouter = _express.default.Router();\nuserRouter.get(\"/createadmin\", (0, _expressAsyncHandler.default)(async (req, res) => {\n  try {\n    const user = new _userModel.default({\n      name: \"admin\",\n      email: \"admin@example.com\",\n      password: \"admin9999\",\n      isAdmin: true\n    });\n    const createdUser = await user.save();\n    res.send(createdUser);\n  } catch (err) {\n    res.status(500).send({\n      message: err.message\n    });\n  }\n}));\nuserRouter.post(\"/signin\", (0, _expressAsyncHandler.default)(async (req, res) => {\n  const signinUser = await _userModel.default.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n  if (!signinUser) {\n    res.status(401).send({\n      message: \"Invalid Email or Password\"\n    });\n  } else {\n    res.send({\n      _id: signinUser._id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: (0, _utils.generateToken)(signinUser)\n    });\n  }\n}));\nuserRouter.post(\"/register\", (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: req.body.password\n  });\n  const createdUser = await user.save();\n  if (!createdUser) {\n    res.status(401).send({\n      message: \"Invalid User Data\"\n    });\n  } else {\n    res.send({\n      _id: createdUser._id,\n      name: createdUser.name,\n      email: createdUser.email,\n      isAdmin: createdUser.isAdmin,\n      token: (0, _utils.generateToken)(createdUser)\n    });\n  }\n}));\nuserRouter.put(\"/:id\", _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n  if (!user) {\n    res.status(404).send({\n      message: \"User Not Found\"\n    });\n  } else {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.password = req.body.password || user.password;\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser._id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      token: (0, _utils.generateToken)(updatedUser)\n    });\n  }\n}));\nvar _default = userRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImV4cHJlc3NBc3luY0hhbmRsZXIiLCJyZXEiLCJyZXMiLCJ1c2VyIiwiVXNlciIsIm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiaXNBZG1pbiIsImNyZWF0ZWRVc2VyIiwic2F2ZSIsInNlbmQiLCJlcnIiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsInNpZ25pblVzZXIiLCJmaW5kT25lIiwiYm9keSIsIl9pZCIsInRva2VuIiwiZ2VuZXJhdGVUb2tlbiIsInB1dCIsImlzQXV0aCIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiLCJ1cGRhdGVkVXNlciJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxmcmFhblxcRGVza3RvcFxccHJhY3RpY2FcXG5ld2Vjb21tZXJjZTNcXGJhY2tlbmRcXHJvdXRlcnNcXCIsInNvdXJjZXMiOlsidXNlclJvdXRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgVXNlciBmcm9tIFwiLi4vbW9kZWxzL3VzZXJNb2RlbFwiO1xyXG5pbXBvcnQgZXhwcmVzc0FzeW5jSGFuZGxlciBmcm9tIFwiZXhwcmVzcy1hc3luYy1oYW5kbGVyXCI7XHJcbmltcG9ydCB7IGdlbmVyYXRlVG9rZW4sIGlzQXV0aCB9IGZyb20gXCIuLi91dGlsc1wiO1xyXG5cclxuY29uc3QgdXNlclJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG51c2VyUm91dGVyLmdldChcclxuICBcIi9jcmVhdGVhZG1pblwiLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIoe1xyXG4gICAgICAgIG5hbWU6IFwiYWRtaW5cIixcclxuICAgICAgICBlbWFpbDogXCJhZG1pbkBleGFtcGxlLmNvbVwiLFxyXG4gICAgICAgIHBhc3N3b3JkOiBcImFkbWluOTk5OVwiLFxyXG4gICAgICAgIGlzQWRtaW46IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zdCBjcmVhdGVkVXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xyXG4gICAgICByZXMuc2VuZChjcmVhdGVkVXNlcik7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBlcnIubWVzc2FnZSB9KTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG51c2VyUm91dGVyLnBvc3QoXHJcbiAgXCIvc2lnbmluXCIsXHJcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHNpZ25pblVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe1xyXG4gICAgICBlbWFpbDogcmVxLmJvZHkuZW1haWwsXHJcbiAgICAgIHBhc3N3b3JkOiByZXEuYm9keS5wYXNzd29yZCxcclxuICAgIH0pO1xyXG4gICAgaWYgKCFzaWduaW5Vc2VyKSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcclxuICAgICAgICBtZXNzYWdlOiBcIkludmFsaWQgRW1haWwgb3IgUGFzc3dvcmRcIixcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuc2VuZCh7XHJcbiAgICAgICAgX2lkOiBzaWduaW5Vc2VyLl9pZCxcclxuICAgICAgICBuYW1lOiBzaWduaW5Vc2VyLm5hbWUsXHJcbiAgICAgICAgZW1haWw6IHNpZ25pblVzZXIuZW1haWwsXHJcbiAgICAgICAgaXNBZG1pbjogc2lnbmluVXNlci5pc0FkbWluLFxyXG4gICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKHNpZ25pblVzZXIpLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG51c2VyUm91dGVyLnBvc3QoXHJcbiAgXCIvcmVnaXN0ZXJcIixcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHtcclxuICAgICAgbmFtZTogcmVxLmJvZHkubmFtZSxcclxuICAgICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxyXG4gICAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmQsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGNyZWF0ZWRVc2VyID0gYXdhaXQgdXNlci5zYXZlKCk7XHJcbiAgICBpZiAoIWNyZWF0ZWRVc2VyKSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcclxuICAgICAgICBtZXNzYWdlOiBcIkludmFsaWQgVXNlciBEYXRhXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzLnNlbmQoe1xyXG4gICAgICAgIF9pZDogY3JlYXRlZFVzZXIuX2lkLFxyXG4gICAgICAgIG5hbWU6IGNyZWF0ZWRVc2VyLm5hbWUsXHJcbiAgICAgICAgZW1haWw6IGNyZWF0ZWRVc2VyLmVtYWlsLFxyXG4gICAgICAgIGlzQWRtaW46IGNyZWF0ZWRVc2VyLmlzQWRtaW4sXHJcbiAgICAgICAgdG9rZW46IGdlbmVyYXRlVG9rZW4oY3JlYXRlZFVzZXIpLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG5cclxudXNlclJvdXRlci5wdXQoXHJcbiAgXCIvOmlkXCIsXHJcbiAgaXNBdXRoLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuXHJcbiAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoe1xyXG4gICAgICAgIG1lc3NhZ2U6IFwiVXNlciBOb3QgRm91bmRcIixcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB1c2VyLm5hbWUgPSByZXEuYm9keS5uYW1lIHx8IHVzZXIubmFtZTtcclxuICAgICAgdXNlci5lbWFpbCA9IHJlcS5ib2R5LmVtYWlsIHx8IHVzZXIuZW1haWw7XHJcbiAgICAgIHVzZXIucGFzc3dvcmQgPSByZXEuYm9keS5wYXNzd29yZCB8fCB1c2VyLnBhc3N3b3JkO1xyXG4gICAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xyXG4gICAgICByZXMuc2VuZCh7XHJcbiAgICAgICAgX2lkOiB1cGRhdGVkVXNlci5faWQsXHJcbiAgICAgICAgbmFtZTogdXBkYXRlZFVzZXIubmFtZSxcclxuICAgICAgICBlbWFpbDogdXBkYXRlZFVzZXIuZW1haWwsXHJcbiAgICAgICAgaXNBZG1pbjogdXBkYXRlZFVzZXIuaXNBZG1pbixcclxuICAgICAgICB0b2tlbjogZ2VuZXJhdGVUb2tlbih1cGRhdGVkVXNlciksXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pXHJcbik7XHJcbmV4cG9ydCBkZWZhdWx0IHVzZXJSb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBaUQ7QUFFakQsTUFBTUEsVUFBVSxHQUFHQyxnQkFBTyxDQUFDQyxNQUFNLEVBQUU7QUFFbkNGLFVBQVUsQ0FBQ0csR0FBRyxDQUNaLGNBQWMsRUFDZCxJQUFBQyw0QkFBbUIsRUFBQyxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN0QyxJQUFJO0lBQ0YsTUFBTUMsSUFBSSxHQUFHLElBQUlDLGtCQUFJLENBQUM7TUFDcEJDLElBQUksRUFBRSxPQUFPO01BQ2JDLEtBQUssRUFBRSxtQkFBbUI7TUFDMUJDLFFBQVEsRUFBRSxXQUFXO01BQ3JCQyxPQUFPLEVBQUU7SUFDWCxDQUFDLENBQUM7SUFDRixNQUFNQyxXQUFXLEdBQUcsTUFBTU4sSUFBSSxDQUFDTyxJQUFJLEVBQUU7SUFDckNSLEdBQUcsQ0FBQ1MsSUFBSSxDQUFDRixXQUFXLENBQUM7RUFDdkIsQ0FBQyxDQUFD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","map":{"version":3,"names":["userRouter","express","Router","get","expressAsyncHandler","req","res","user","User","name","email","password","isAdmin","createdUser","save","send","err","status","message","post","signinUser","findOne","body","_id","token","generateToken","put","isAuth","findById","params","id","updatedUser"],"sourceRoot":"C:\\Users\\fraan\\Desktop\\practica\\newecommerce3\\backend\\routers\\","sources":["userRouter.js"],"sourcesContent":["import express from \"express\";\r\nimport User from \"../models/userModel\";\r\nimport expressAsyncHandler from \"express-async-handler\";\r\nimport { generateToken, isAuth } from \"../utils\";\r\n\r\nconst userRouter = express.Router();\r\n\r\nuserRouter.get(\r\n  \"/createadmin\",\r\n  expressAsyncHandler(async (req, res) => {\r\n    try {\r\n      const user = new User({\r\n        name: \"admin\",\r\n        email: \"admin@example.com\",\r\n        password: \"admin9999\",\r\n        isAdmin: true,\r\n      });\r\n      const createdUser = await user.save();\r\n      res.send(createdUser);\r\n    } catch (err) {\r\n      res.status(500).send({ message: err.message });\r\n    }\r\n  })\r\n);\r\nuserRouter.post(\r\n  \"/signin\",\r\n  expressAsyncHandler(async (req, res) => {\r\n    const signinUser = await User.findOne({\r\n      email: req.body.email,\r\n      password: req.body.password,\r\n    });\r\n    if (!signinUser) {\r\n      res.status(401).send({\r\n        message: \"Invalid Email or Password\",\r\n      });\r\n    } else {\r\n      res.send({\r\n        _id: signinUser._id,\r\n        name: signinUser.name,\r\n        email: signinUser.email,\r\n        isAdmin: signinUser.isAdmin,\r\n        token: generateToken(signinUser),\r\n      });\r\n    }\r\n  })\r\n);\r\nuserRouter.post(\r\n  \"/register\",\r\n  expressAsyncHandler(async (req, res) => {\r\n    const user = new User({\r\n      name: req.body.name,\r\n      email: req.body.email,\r\n      password: req.body.password,\r\n    });\r\n    const createdUser = await user.save();\r\n    if (!createdUser) {\r\n      res.status(401).send({\r\n        message: \"Invalid User Data\",\r\n      });\r\n    } else {\r\n      res.send({\r\n        _id: createdUser._id,\r\n        name: createdUser.name,\r\n        email: createdUser.email,\r\n        isAdmin: createdUser.isAdmin,\r\n        token: generateToken(createdUser),\r\n      });\r\n    }\r\n  })\r\n);\r\n\r\nuserRouter.put(\r\n  \"/:id\",\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const user = await User.findById(req.params.id);\r\n\r\n    if (!user) {\r\n      res.status(404).send({\r\n        message: \"User Not Found\",\r\n      });\r\n    } else {\r\n      user.name = req.body.name || user.name;\r\n      user.email = req.body.email || user.email;\r\n      user.password = req.body.password || user.password;\r\n      const updatedUser = await user.save();\r\n      res.send({\r\n        _id: updatedUser._id,\r\n        name: updatedUser.name,\r\n        email: updatedUser.email,\r\n        isAdmin: updatedUser.isAdmin,\r\n        token: generateToken(updatedUser),\r\n      });\r\n    }\r\n  })\r\n);\r\nexport default userRouter;\r\n"],"mappings":"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"}},"mtime":1667334628618},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\models\\\\userModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    index: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    required: true,\n    default: false\n  }\n});\nconst User = _mongoose.default.model('User', userSchema);\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZW1haWwiLCJpbmRleCIsInVuaXF1ZSIsInBhc3N3b3JkIiwiaXNBZG1pbiIsIkJvb2xlYW4iLCJkZWZhdWx0IiwiVXNlciIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGZyYWFuXFxEZXNrdG9wXFxwcmFjdGljYVxcbmV3ZWNvbW1lcmNlM1xcYmFja2VuZFxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbInVzZXJNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIGVtYWlsOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIGluZGV4OiB0cnVlLFxyXG4gICAgdW5pcXVlOiB0cnVlLFxyXG4gIH0sXHJcbiAgcGFzc3dvcmQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIGlzQWRtaW46IHsgdHlwZTogQm9vbGVhbiwgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6IGZhbHNlIH0sXHJcbn0pO1xyXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoJ1VzZXInLCB1c2VyU2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgVXNlcjtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUFnQztBQUVoQyxNQUFNQSxVQUFVLEdBQUcsSUFBSUMsaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDO0VBQ3JDQyxJQUFJLEVBQUU7SUFBRUMsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDdENDLEtBQUssRUFBRTtJQUNMSCxJQUFJLEVBQUVDLE1BQU07SUFDWkMsUUFBUSxFQUFFLElBQUk7SUFDZEUsS0FBSyxFQUFFLElBQUk7SUFDWEMsTUFBTSxFQUFFO0VBQ1YsQ0FBQztFQUNEQyxRQUFRLEVBQUU7SUFBRU4sSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDMUNLLE9BQU8sRUFBRTtJQUFFUCxJQUFJLEVBQUVRLE9BQU87SUFBRU4sUUFBUSxFQUFFLElBQUk7SUFBRU8sT0FBTyxFQUFFO0VBQU07QUFDM0QsQ0FBQyxDQUFDO0FBQ0YsTUFBTUMsSUFBSSxHQUFHYixpQkFBUSxDQUFDYyxLQUFLLENBQUMsTUFBTSxFQUFFZixVQUFVLENBQUM7QUFBQyxlQUNqQ2MsSUFBSTtBQUFBIn0=","map":{"version":3,"names":["userSchema","mongoose","Schema","name","type","String","required","email","index","unique","password","isAdmin","Boolean","default","User","model"],"sourceRoot":"C:\\Users\\fraan\\Desktop\\practica\\newecommerce3\\backend\\models\\","sources":["userModel.js"],"sourcesContent":["import mongoose from 'mongoose';\r\n\r\nconst userSchema = new mongoose.Schema({\r\n  name: { type: String, required: true },\r\n  email: {\r\n    type: String,\r\n    required: true,\r\n    index: true,\r\n    unique: true,\r\n  },\r\n  password: { type: String, required: true },\r\n  isAdmin: { type: Boolean, required: true, default: false },\r\n});\r\nconst User = mongoose.model('User', userSchema);\r\nexport default User;\r\n"],"mappings":";;;;;;AAAA;AAAgC;AAEhC,MAAMA,UAAU,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EACrCC,IAAI,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtCC,KAAK,EAAE;IACLH,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE,IAAI;IACdE,KAAK,EAAE,IAAI;IACXC,MAAM,EAAE;EACV,CAAC;EACDC,QAAQ,EAAE;IAAEN,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC1CK,OAAO,EAAE;IAAEP,IAAI,EAAEQ,OAAO;IAAEN,QAAQ,EAAE,IAAI;IAAEO,OAAO,EAAE;EAAM;AAC3D,CAAC,CAAC;AACF,MAAMC,IAAI,GAAGb,iBAAQ,CAACc,KAAK,CAAC,MAAM,EAAEf,UAAU,CAAC;AAAC,eACjCc,IAAI;AAAA"}},"mtime":1667274752999},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n_dotenv.default.config();\nvar _default = {\n  PORT: process.env.PORT || 5000,\n  MONGODB_URL: process.env.MONGODB_URL,\n  JWT_SECRET: process.env.JWT_SECRET,\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJQT1JUIiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJMIiwiSldUX1NFQ1JFVCIsIlBBWVBBTF9DTElFTlRfSUQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcZnJhYW5cXERlc2t0b3BcXHByYWN0aWNhXFxuZXdlY29tbWVyY2UzXFxiYWNrZW5kXFwiLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XHJcblxyXG5kb3RlbnYuY29uZmlnKCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgUE9SVDogcHJvY2Vzcy5lbnYuUE9SVCB8fCA1MDAwLFxyXG4gIE1PTkdPREJfVVJMOiBwcm9jZXNzLmVudi5NT05HT0RCX1VSTCxcclxuICBKV1RfU0VDUkVUOiBwcm9jZXNzLmVudi5KV1RfU0VDUkVULFxyXG4gIFBBWVBBTF9DTElFTlRfSUQ6IHByb2Nlc3MuZW52LlBBWVBBTF9DTElFTlRfSUQsXHJcbn07Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUE0QjtBQUU1QkEsZUFBTSxDQUFDQyxNQUFNLEVBQUU7QUFBQyxlQUVEO0VBQ2JDLElBQUksRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLElBQUksSUFBSSxJQUFJO0VBQzlCRyxXQUFXLEVBQUVGLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxXQUFXO0VBQ3BDQyxVQUFVLEVBQUVILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxVQUFVO0VBQ2xDQyxnQkFBZ0IsRUFBRUosT0FBTyxDQUFDQyxHQUFHLENBQUNHO0FBQ2hDLENBQUM7QUFBQSJ9","map":{"version":3,"names":["dotenv","config","PORT","process","env","MONGODB_URL","JWT_SECRET","PAYPAL_CLIENT_ID"],"sourceRoot":"C:\\Users\\fraan\\Desktop\\practica\\newecommerce3\\backend\\","sources":["config.js"],"sourcesContent":["import dotenv from 'dotenv';\r\n\r\ndotenv.config();\r\n\r\nexport default {\r\n  PORT: process.env.PORT || 5000,\r\n  MONGODB_URL: process.env.MONGODB_URL,\r\n  JWT_SECRET: process.env.JWT_SECRET,\r\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID,\r\n};"],"mappings":";;;;;;AAAA;AAA4B;AAE5BA,eAAM,CAACC,MAAM,EAAE;AAAC,eAED;EACbC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACF,IAAI,IAAI,IAAI;EAC9BG,WAAW,EAAEF,OAAO,CAACC,GAAG,CAACC,WAAW;EACpCC,UAAU,EAAEH,OAAO,CAACC,GAAG,CAACE,UAAU;EAClCC,gBAAgB,EAAEJ,OAAO,CAACC,GAAG,CAACG;AAChC,CAAC;AAAA"}},"mtime":1667520960594},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\routers\\\\userRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\nvar _utils = require(\"../utils\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst userRouter = _express.default.Router();\nuserRouter.get(\"/createadmin\", (0, _expressAsyncHandler.default)(async (req, res) => {\n  try {\n    const user = new _userModel.default({\n      name: \"admin\",\n      email: \"admin@example.com\",\n      password: \"admin9999\",\n      isAdmin: true\n    });\n    const createdUser = await user.save();\n    res.send(createdUser);\n  } catch (err) {\n    res.status(500).send({\n      message: err.message\n    });\n  }\n}));\nuserRouter.post(\"/signin\", (0, _expressAsyncHandler.default)(async (req, res) => {\n  const signinUser = await _userModel.default.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n  if (!signinUser) {\n    res.status(401).send({\n      message: \"Invalid Email or Password\"\n    });\n  } else {\n    res.send({\n      _id: signinUser._id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: (0, _utils.generateToken)(signinUser)\n    });\n  }\n}));\nuserRouter.post(\"/register\", (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: req.body.password\n  });\n  const createdUser = await user.save();\n  if (!createdUser) {\n    res.status(401).send({\n      message: \"Invalid User Data\"\n    });\n  } else {\n    res.send({\n      _id: createdUser._id,\n      name: createdUser.name,\n      email: createdUser.email,\n      isAdmin: createdUser.isAdmin,\n      token: (0, _utils.generateToken)(createdUser)\n    });\n  }\n}));\nuserRouter.put(\"/:id\", _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n  if (!user) {\n    res.status(404).send({\n      message: \"User Not Found\"\n    });\n  } else {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.password = req.body.password || user.password;\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser._id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      token: (0, _utils.generateToken)(updatedUser)\n    });\n  }\n}));\nvar _default = userRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImV4cHJlc3NBc3luY0hhbmRsZXIiLCJyZXEiLCJyZXMiLCJ1c2VyIiwiVXNlciIsIm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiaXNBZG1pbiIsImNyZWF0ZWRVc2VyIiwic2F2ZSIsInNlbmQiLCJlcnIiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsInNpZ25pblVzZXIiLCJmaW5kT25lIiwiYm9keSIsIl9pZCIsInRva2VuIiwiZ2VuZXJhdGVUb2tlbiIsInB1dCIsImlzQXV0aCIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiLCJ1cGRhdGVkVXNlciJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxmcmFhblxcRGVza3RvcFxccHJhY3RpY2FcXG5ld2Vjb21tZXJjZTNcXGJhY2tlbmRcXHJvdXRlcnNcXCIsInNvdXJjZXMiOlsidXNlclJvdXRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgVXNlciBmcm9tIFwiLi4vbW9kZWxzL3VzZXJNb2RlbFwiO1xyXG5pbXBvcnQgZXhwcmVzc0FzeW5jSGFuZGxlciBmcm9tIFwiZXhwcmVzcy1hc3luYy1oYW5kbGVyXCI7XHJcbmltcG9ydCB7IGdlbmVyYXRlVG9rZW4sIGlzQXV0aCB9IGZyb20gXCIuLi91dGlsc1wiO1xyXG5cclxuY29uc3QgdXNlclJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG51c2VyUm91dGVyLmdldChcclxuICBcIi9jcmVhdGVhZG1pblwiLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIoe1xyXG4gICAgICAgIG5hbWU6IFwiYWRtaW5cIixcclxuICAgICAgICBlbWFpbDogXCJhZG1pbkBleGFtcGxlLmNvbVwiLFxyXG4gICAgICAgIHBhc3N3b3JkOiBcImFkbWluOTk5OVwiLFxyXG4gICAgICAgIGlzQWRtaW46IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zdCBjcmVhdGVkVXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xyXG4gICAgICByZXMuc2VuZChjcmVhdGVkVXNlcik7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBlcnIubWVzc2FnZSB9KTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG51c2VyUm91dGVyLnBvc3QoXHJcbiAgXCIvc2lnbmluXCIsXHJcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHNpZ25pblVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe1xyXG4gICAgICBlbWFpbDogcmVxLmJvZHkuZW1haWwsXHJcbiAgICAgIHBhc3N3b3JkOiByZXEuYm9keS5wYXNzd29yZCxcclxuICAgIH0pO1xyXG4gICAgaWYgKCFzaWduaW5Vc2VyKSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcclxuICAgICAgICBtZXNzYWdlOiBcIkludmFsaWQgRW1haWwgb3IgUGFzc3dvcmRcIixcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuc2VuZCh7XHJcbiAgICAgICAgX2lkOiBzaWduaW5Vc2VyLl9pZCxcclxuICAgICAgICBuYW1lOiBzaWduaW5Vc2VyLm5hbWUsXHJcbiAgICAgICAgZW1haWw6IHNpZ25pblVzZXIuZW1haWwsXHJcbiAgICAgICAgaXNBZG1pbjogc2lnbmluVXNlci5pc0FkbWluLFxyXG4gICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKHNpZ25pblVzZXIpLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG51c2VyUm91dGVyLnBvc3QoXHJcbiAgXCIvcmVnaXN0ZXJcIixcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHtcclxuICAgICAgbmFtZTogcmVxLmJvZHkubmFtZSxcclxuICAgICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxyXG4gICAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmQsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGNyZWF0ZWRVc2VyID0gYXdhaXQgdXNlci5zYXZlKCk7XHJcbiAgICBpZiAoIWNyZWF0ZWRVc2VyKSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcclxuICAgICAgICBtZXNzYWdlOiBcIkludmFsaWQgVXNlciBEYXRhXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzLnNlbmQoe1xyXG4gICAgICAgIF9pZDogY3JlYXRlZFVzZXIuX2lkLFxyXG4gICAgICAgIG5hbWU6IGNyZWF0ZWRVc2VyLm5hbWUsXHJcbiAgICAgICAgZW1haWw6IGNyZWF0ZWRVc2VyLmVtYWlsLFxyXG4gICAgICAgIGlzQWRtaW46IGNyZWF0ZWRVc2VyLmlzQWRtaW4sXHJcbiAgICAgICAgdG9rZW46IGdlbmVyYXRlVG9rZW4oY3JlYXRlZFVzZXIpLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG5cclxudXNlclJvdXRlci5wdXQoXHJcbiAgXCIvOmlkXCIsXHJcbiAgaXNBdXRoLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuXHJcbiAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoe1xyXG4gICAgICAgIG1lc3NhZ2U6IFwiVXNlciBOb3QgRm91bmRcIixcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB1c2VyLm5hbWUgPSByZXEuYm9keS5uYW1lIHx8IHVzZXIubmFtZTtcclxuICAgICAgdXNlci5lbWFpbCA9IHJlcS5ib2R5LmVtYWlsIHx8IHVzZXIuZW1haWw7XHJcbiAgICAgIHVzZXIucGFzc3dvcmQgPSByZXEuYm9keS5wYXNzd29yZCB8fCB1c2VyLnBhc3N3b3JkO1xyXG4gICAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xyXG4gICAgICByZXMuc2VuZCh7XHJcbiAgICAgICAgX2lkOiB1cGRhdGVkVXNlci5faWQsXHJcbiAgICAgICAgbmFtZTogdXBkYXRlZFVzZXIubmFtZSxcclxuICAgICAgICBlbWFpbDogdXBkYXRlZFVzZXIuZW1haWwsXHJcbiAgICAgICAgaXNBZG1pbjogdXBkYXRlZFVzZXIuaXNBZG1pbixcclxuICAgICAgICB0b2tlbjogZ2VuZXJhdGVUb2tlbih1cGRhdGVkVXNlciksXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pXHJcbik7XHJcbmV4cG9ydCBkZWZhdWx0IHVzZXJSb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBaUQ7QUFFakQsTUFBTUEsVUFBVSxHQUFHQyxnQkFBTyxDQUFDQyxNQUFNLEVBQUU7QUFFbkNGLFVBQVUsQ0FBQ0csR0FBRyxDQUNaLGNBQWMsRUFDZCxJQUFBQyw0QkFBbUIsRUFBQyxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN0QyxJQUFJO0lBQ0YsTUFBTUMsSUFBSSxHQUFHLElBQUlDLGtCQUFJLENBQUM7TUFDcEJDLElBQUksRUFBRSxPQUFPO01BQ2JDLEtBQUssRUFBRSxtQkFBbUI7TUFDMUJDLFFBQVEsRUFBRSxXQUFXO01BQ3JCQyxPQUFPLEVBQUU7SUFDWCxDQUFDLENBQUM7SUFDRixNQUFNQyxXQUFXLEdBQUcsTUFBTU4sSUFBSSxDQUFDTyxJQUFJLEVBQUU7SUFDckNSLEdBQUcsQ0FBQ1MsSUFBSSxDQUFDRixXQUFXLENBQUM7RUFDdkIsQ0FBQyxDQUFD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","map":{"version":3,"names":["userRouter","express","Router","get","expressAsyncHandler","req","res","user","User","name","email","password","isAdmin","createdUser","save","send","err","status","message","post","signinUser","findOne","body","_id","token","generateToken","put","isAuth","findById","params","id","updatedUser"],"sourceRoot":"C:\\Users\\fraan\\Desktop\\practica\\newecommerce3\\backend\\routers\\","sources":["userRouter.js"],"sourcesContent":["import express from \"express\";\r\nimport User from \"../models/userModel\";\r\nimport expressAsyncHandler from \"express-async-handler\";\r\nimport { generateToken, isAuth } from \"../utils\";\r\n\r\nconst userRouter = express.Router();\r\n\r\nuserRouter.get(\r\n  \"/createadmin\",\r\n  expressAsyncHandler(async (req, res) => {\r\n    try {\r\n      const user = new User({\r\n        name: \"admin\",\r\n        email: \"admin@example.com\",\r\n        password: \"admin9999\",\r\n        isAdmin: true,\r\n      });\r\n      const createdUser = await user.save();\r\n      res.send(createdUser);\r\n    } catch (err) {\r\n      res.status(500).send({ message: err.message });\r\n    }\r\n  })\r\n);\r\nuserRouter.post(\r\n  \"/signin\",\r\n  expressAsyncHandler(async (req, res) => {\r\n    const signinUser = await User.findOne({\r\n      email: req.body.email,\r\n      password: req.body.password,\r\n    });\r\n    if (!signinUser) {\r\n      res.status(401).send({\r\n        message: \"Invalid Email or Password\",\r\n      });\r\n    } else {\r\n      res.send({\r\n        _id: signinUser._id,\r\n        name: signinUser.name,\r\n        email: signinUser.email,\r\n        isAdmin: signinUser.isAdmin,\r\n        token: generateToken(signinUser),\r\n      });\r\n    }\r\n  })\r\n);\r\nuserRouter.post(\r\n  \"/register\",\r\n  expressAsyncHandler(async (req, res) => {\r\n    const user = new User({\r\n      name: req.body.name,\r\n      email: req.body.email,\r\n      password: req.body.password,\r\n    });\r\n    const createdUser = await user.save();\r\n    if (!createdUser) {\r\n      res.status(401).send({\r\n        message: \"Invalid User Data\",\r\n      });\r\n    } else {\r\n      res.send({\r\n        _id: createdUser._id,\r\n        name: createdUser.name,\r\n        email: createdUser.email,\r\n        isAdmin: createdUser.isAdmin,\r\n        token: generateToken(createdUser),\r\n      });\r\n    }\r\n  })\r\n);\r\n\r\nuserRouter.put(\r\n  \"/:id\",\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const user = await User.findById(req.params.id);\r\n\r\n    if (!user) {\r\n      res.status(404).send({\r\n        message: \"User Not Found\",\r\n      });\r\n    } else {\r\n      user.name = req.body.name || user.name;\r\n      user.email = req.body.email || user.email;\r\n      user.password = req.body.password || user.password;\r\n      const updatedUser = await user.save();\r\n      res.send({\r\n        _id: updatedUser._id,\r\n        name: updatedUser.name,\r\n        email: updatedUser.email,\r\n        isAdmin: updatedUser.isAdmin,\r\n        token: generateToken(updatedUser),\r\n      });\r\n    }\r\n  })\r\n);\r\nexport default userRouter;\r\n"],"mappings":"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"}},"mtime":1667334628618},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\models\\\\userModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    index: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    required: true,\n    default: false\n  }\n});\nconst User = _mongoose.default.model('User', userSchema);\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZW1haWwiLCJpbmRleCIsInVuaXF1ZSIsInBhc3N3b3JkIiwiaXNBZG1pbiIsIkJvb2xlYW4iLCJkZWZhdWx0IiwiVXNlciIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGZyYWFuXFxEZXNrdG9wXFxwcmFjdGljYVxcbmV3ZWNvbW1lcmNlM1xcYmFja2VuZFxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbInVzZXJNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIGVtYWlsOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIGluZGV4OiB0cnVlLFxyXG4gICAgdW5pcXVlOiB0cnVlLFxyXG4gIH0sXHJcbiAgcGFzc3dvcmQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIGlzQWRtaW46IHsgdHlwZTogQm9vbGVhbiwgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6IGZhbHNlIH0sXHJcbn0pO1xyXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoJ1VzZXInLCB1c2VyU2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgVXNlcjtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUFnQztBQUVoQyxNQUFNQSxVQUFVLEdBQUcsSUFBSUMsaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDO0VBQ3JDQyxJQUFJLEVBQUU7SUFBRUMsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDdENDLEtBQUssRUFBRTtJQUNMSCxJQUFJLEVBQUVDLE1BQU07SUFDWkMsUUFBUSxFQUFFLElBQUk7SUFDZEUsS0FBSyxFQUFFLElBQUk7SUFDWEMsTUFBTSxFQUFFO0VBQ1YsQ0FBQztFQUNEQyxRQUFRLEVBQUU7SUFBRU4sSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDMUNLLE9BQU8sRUFBRTtJQUFFUCxJQUFJLEVBQUVRLE9BQU87SUFBRU4sUUFBUSxFQUFFLElBQUk7SUFBRU8sT0FBTyxFQUFFO0VBQU07QUFDM0QsQ0FBQyxDQUFDO0FBQ0YsTUFBTUMsSUFBSSxHQUFHYixpQkFBUSxDQUFDYyxLQUFLLENBQUMsTUFBTSxFQUFFZixVQUFVLENBQUM7QUFBQyxlQUNqQ2MsSUFBSTtBQUFBIn0=","map":{"version":3,"names":["userSchema","mongoose","Schema","name","type","String","required","email","index","unique","password","isAdmin","Boolean","default","User","model"],"sourceRoot":"C:\\Users\\fraan\\Desktop\\practica\\newecommerce3\\backend\\models\\","sources":["userModel.js"],"sourcesContent":["import mongoose from 'mongoose';\r\n\r\nconst userSchema = new mongoose.Schema({\r\n  name: { type: String, required: true },\r\n  email: {\r\n    type: String,\r\n    required: true,\r\n    index: true,\r\n    unique: true,\r\n  },\r\n  password: { type: String, required: true },\r\n  isAdmin: { type: Boolean, required: true, default: false },\r\n});\r\nconst User = mongoose.model('User', userSchema);\r\nexport default User;\r\n"],"mappings":";;;;;;AAAA;AAAgC;AAEhC,MAAMA,UAAU,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EACrCC,IAAI,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtCC,KAAK,EAAE;IACLH,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE,IAAI;IACdE,KAAK,EAAE,IAAI;IACXC,MAAM,EAAE;EACV,CAAC;EACDC,QAAQ,EAAE;IAAEN,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC1CK,OAAO,EAAE;IAAEP,IAAI,EAAEQ,OAAO;IAAEN,QAAQ,EAAE,IAAI;IAAEO,OAAO,EAAE;EAAM;AAC3D,CAAC,CAAC;AACF,MAAMC,IAAI,GAAGb,iBAAQ,CAACc,KAAK,CAAC,MAAM,EAAEf,UAAU,CAAC;AAAC,eACjCc,IAAI;AAAA"}},"mtime":1667274752999},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n_dotenv.default.config();\nvar _default = {\n  PORT: process.env.PORT || 5000,\n  MONGODB_URL: process.env.MONGODB_URL,\n  JWT_SECRET: process.env.JWT_SECRET,\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJQT1JUIiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJMIiwiSldUX1NFQ1JFVCIsIlBBWVBBTF9DTElFTlRfSUQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcZnJhYW5cXERlc2t0b3BcXHByYWN0aWNhXFxuZXdlY29tbWVyY2UzXFxiYWNrZW5kXFwiLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XHJcblxyXG5kb3RlbnYuY29uZmlnKCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgUE9SVDogcHJvY2Vzcy5lbnYuUE9SVCB8fCA1MDAwLFxyXG4gIE1PTkdPREJfVVJMOiBwcm9jZXNzLmVudi5NT05HT0RCX1VSTCxcclxuICBKV1RfU0VDUkVUOiBwcm9jZXNzLmVudi5KV1RfU0VDUkVULFxyXG4gIFBBWVBBTF9DTElFTlRfSUQ6IHByb2Nlc3MuZW52LlBBWVBBTF9DTElFTlRfSUQsXHJcbn07Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUE0QjtBQUU1QkEsZUFBTSxDQUFDQyxNQUFNLEVBQUU7QUFBQyxlQUVEO0VBQ2JDLElBQUksRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLElBQUksSUFBSSxJQUFJO0VBQzlCRyxXQUFXLEVBQUVGLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxXQUFXO0VBQ3BDQyxVQUFVLEVBQUVILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxVQUFVO0VBQ2xDQyxnQkFBZ0IsRUFBRUosT0FBTyxDQUFDQyxHQUFHLENBQUNHO0FBQ2hDLENBQUM7QUFBQSJ9","map":{"version":3,"names":["dotenv","config","PORT","process","env","MONGODB_URL","JWT_SECRET","PAYPAL_CLIENT_ID"],"sourceRoot":"C:\\Users\\fraan\\Desktop\\practica\\newecommerce3\\backend\\","sources":["config.js"],"sourcesContent":["import dotenv from 'dotenv';\r\n\r\ndotenv.config();\r\n\r\nexport default {\r\n  PORT: process.env.PORT || 5000,\r\n  MONGODB_URL: process.env.MONGODB_URL,\r\n  JWT_SECRET: process.env.JWT_SECRET,\r\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID,\r\n};"],"mappings":";;;;;;AAAA;AAA4B;AAE5BA,eAAM,CAACC,MAAM,EAAE;AAAC,eAED;EACbC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACF,IAAI,IAAI,IAAI;EAC9BG,WAAW,EAAEF,OAAO,CAACC,GAAG,CAACC,WAAW;EACpCC,UAAU,EAAEH,OAAO,CAACC,GAAG,CAACE,UAAU;EAClCC,gBAAgB,EAAEJ,OAAO,CAACC,GAAG,CAACG;AAChC,CAAC;AAAA"}},"mtime":1667520960594},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\utils.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAuth = exports.isAdmin = exports.generateToken = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _config = _interopRequireDefault(require(\"./config\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst generateToken = user => {\n  return _jsonwebtoken.default.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin\n  }, _config.default.JWT_SECRET);\n};\nexports.generateToken = generateToken;\nconst isAuth = (req, res, next) => {\n  const bearerToken = req.headers.authorization;\n  if (!bearerToken) {\n    res.status(401).send({\n      message: \"Token is not supplied\"\n    });\n  } else {\n    const token = bearerToken.slice(7, bearerToken.length);\n    _jsonwebtoken.default.verify(token, _config.default.JWT_SECRET, (err, data) => {\n      if (err) {\n        res.status(401).send({\n          message: \"Invalid Token\"\n        });\n      } else {\n        req.user = data;\n        next();\n      }\n    });\n  }\n};\nexports.isAuth = isAuth;\nconst isAdmin = (req, res, next) => {\n  if (req.user && req.user.isAdmin) {\n    next();\n  } else {\n    res.status(401).send({\n      message: 'Token is not valid for admin user'\n    });\n  }\n};\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZW5lcmF0ZVRva2VuIiwidXNlciIsImp3dCIsInNpZ24iLCJfaWQiLCJuYW1lIiwiZW1haWwiLCJpc0FkbWluIiwiY29uZmlnIiwiSldUX1NFQ1JFVCIsImlzQXV0aCIsInJlcSIsInJlcyIsIm5leHQiLCJiZWFyZXJUb2tlbiIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJ0b2tlbiIsInNsaWNlIiwibGVuZ3RoIiwidmVyaWZ5IiwiZXJyIiwiZGF0YSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxmcmFhblxcRGVza3RvcFxccHJhY3RpY2FcXG5ld2Vjb21tZXJjZTNcXGJhY2tlbmRcXCIsInNvdXJjZXMiOlsidXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCI7XHJcbmltcG9ydCBjb25maWcgZnJvbSBcIi4vY29uZmlnXCI7XHJcblxyXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVUb2tlbiA9ICh1c2VyKSA9PiB7XHJcbiAgcmV0dXJuIGp3dC5zaWduKFxyXG4gICAge1xyXG4gICAgICBfaWQ6IHVzZXIuX2lkLFxyXG4gICAgICBuYW1lOiB1c2VyLm5hbWUsXHJcbiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICBpc0FkbWluOiB1c2VyLmlzQWRtaW4sXHJcbiAgICB9LFxyXG4gICAgY29uZmlnLkpXVF9TRUNSRVRcclxuICApO1xyXG59O1xyXG5leHBvcnQgY29uc3QgaXNBdXRoID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgY29uc3QgYmVhcmVyVG9rZW4gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uO1xyXG4gIGlmICghYmVhcmVyVG9rZW4pIHtcclxuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogXCJUb2tlbiBpcyBub3Qgc3VwcGxpZWRcIiB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgdG9rZW4gPSBiZWFyZXJUb2tlbi5zbGljZSg3LCBiZWFyZXJUb2tlbi5sZW5ndGgpO1xyXG4gICAgand0LnZlcmlmeSh0b2tlbiwgY29uZmlnLkpXVF9TRUNSRVQsIChlcnIsIGRhdGEpID0+IHtcclxuICAgICAgaWYgKGVycikge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogXCJJbnZhbGlkIFRva2VuXCIgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVxLnVzZXIgPSBkYXRhO1xyXG4gICAgICAgIG5leHQoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5leHBvcnQgY29uc3QgaXNBZG1pbiA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIGlmIChyZXEudXNlciAmJiByZXEudXNlci5pc0FkbWluKSB7XHJcbiAgICBuZXh0KCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ1Rva2VuIGlzIG5vdCB2YWxpZCBmb3IgYWRtaW4gdXNlcicgfSk7XHJcbiAgfVxyXG59OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUE4QjtBQUV2QixNQUFNQSxhQUFhLEdBQUlDLElBQUksSUFBSztFQUNyQyxPQUFPQyxxQkFBRyxDQUFDQyxJQUFJLENBQ2I7SUFDRUMsR0FBRyxFQUFFSCxJQUFJLENBQUNHLEdBQUc7SUFDYkMsSUFBSSxFQUFFSixJQUFJLENBQUNJLElBQUk7SUFDZkMsS0FBSyxFQUFFTCxJQUFJLENBQUNLLEtBQUs7SUFDakJDLE9BQU8sRUFBRU4sSUFBSSxDQUFDTTtFQUNoQixDQUFDLEVBQ0RDLGVBQU0sQ0FBQ0MsVUFBVSxDQUNsQjtBQUNILENBQUM7QUFBQztBQUNLLE1BQU1DLE1BQU0sR0FBRyxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0VBQ3hDLE1BQU1DLFdBQVcsR0FBR0gsR0FBRyxDQUFDSSxPQUFPLENBQUNDLGFBQWE7RUFDN0MsSUFBSSxDQUFDRixXQUFXLEVBQUU7SUFDaEJGLEdBQUcsQ0FBQ0ssTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBRUMsT0FBTyxFQUFFO0lBQXdCLENBQUMsQ0FBQztFQUM1RCxDQUFDLE1BQU07SUFDTCxNQUFNQyxLQUFLLEdBQUdOLFdBQVcsQ0FBQ08sS0FBSyxDQUFDLENBQUMsRUFBRVAsV0FBVyxDQUFDUSxNQUFNLENBQUM7SUFDdERwQixxQkFBRyxDQUFDcUIsTUFBTSxDQUFDSCxLQUFLLEVBQUVaLGVBQU0sQ0FBQ0MsVUFBVSxFQUFFLENBQUNlLEdBQUcsRUFBRUMsSUFBSSxLQUFLO01BQ2xELElBQUlELEdBQUcsRUFBRTtRQUNQWixHQUFHLENBQUNLLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQUVDLE9BQU8sRUFBRTtRQUFnQixDQUFDLENBQUM7TUFDcEQsQ0FBQyxNQUFNO1FBQ0xSLEdBQUcsQ0FBQ1YsSUFBSSxHQUFHd0IsSUFBSTtRQUNmWixJQUFJLEVBQUU7TUFDUjtJQUNGLENBQUMsQ0FBQztFQUNKO0FBQ0YsQ0FBQztBQUFDO0FBQ0ssTUFBTU4sT0FBTyxHQUFHLENBQUNJLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFDekMsSUFBSUYsR0FBRyxDQUFDVixJQUFJLElBQUlVLEdBQUcsQ0FBQ1YsSUFBSSxDQUFDTSxPQUFPLEVBQUU7SUFDaENNLElBQUksRUFBRTtFQUNSLENBQUMsTUFBTTtJQUNMRCxHQUFHLENBQUNLLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVDLE9BQU8sRUFBRTtJQUFvQyxDQUFDLENBQUM7RUFDeEU7QUFDRixDQUFDO0FBQUMifQ==","map":{"version":3,"names":["generateToken","user","jwt","sign","_id","name","email","isAdmin","config","JWT_SECRET","isAuth","req","res","next","bearerToken","headers","authorization","status","send","message","token","slice","length","verify","err","data"],"sourceRoot":"C:\\Users\\fraan\\Desktop\\practica\\newecommerce3\\backend\\","sources":["utils.js"],"sourcesContent":["import jwt from \"jsonwebtoken\";\r\nimport config from \"./config\";\r\n\r\nexport const generateToken = (user) => {\r\n  return jwt.sign(\r\n    {\r\n      _id: user._id,\r\n      name: user.name,\r\n      email: user.email,\r\n      isAdmin: user.isAdmin,\r\n    },\r\n    config.JWT_SECRET\r\n  );\r\n};\r\nexport const isAuth = (req, res, next) => {\r\n  const bearerToken = req.headers.authorization;\r\n  if (!bearerToken) {\r\n    res.status(401).send({ message: \"Token is not supplied\" });\r\n  } else {\r\n    const token = bearerToken.slice(7, bearerToken.length);\r\n    jwt.verify(token, config.JWT_SECRET, (err, data) => {\r\n      if (err) {\r\n        res.status(401).send({ message: \"Invalid Token\" });\r\n      } else {\r\n        req.user = data;\r\n        next();\r\n      }\r\n    });\r\n  }\r\n};\r\nexport const isAdmin = (req, res, next) => {\r\n  if (req.user && req.user.isAdmin) {\r\n    next();\r\n  } else {\r\n    res.status(401).send({ message: 'Token is not valid for admin user' });\r\n  }\r\n};"],"mappings":";;;;;;AAAA;AACA;AAA8B;AAEvB,MAAMA,aAAa,GAAIC,IAAI,IAAK;EACrC,OAAOC,qBAAG,CAACC,IAAI,CACb;IACEC,GAAG,EAAEH,IAAI,CAACG,GAAG;IACbC,IAAI,EAAEJ,IAAI,CAACI,IAAI;IACfC,KAAK,EAAEL,IAAI,CAACK,KAAK;IACjBC,OAAO,EAAEN,IAAI,CAACM;EAChB,CAAC,EACDC,eAAM,CAACC,UAAU,CAClB;AACH,CAAC;AAAC;AACK,MAAMC,MAAM,GAAG,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACxC,MAAMC,WAAW,GAAGH,GAAG,CAACI,OAAO,CAACC,aAAa;EAC7C,IAAI,CAACF,WAAW,EAAE;IAChBF,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAE;IAAwB,CAAC,CAAC;EAC5D,CAAC,MAAM;IACL,MAAMC,KAAK,GAAGN,WAAW,CAACO,KAAK,CAAC,CAAC,EAAEP,WAAW,CAACQ,MAAM,CAAC;IACtDpB,qBAAG,CAACqB,MAAM,CAACH,KAAK,EAAEZ,eAAM,CAACC,UAAU,EAAE,CAACe,GAAG,EAAEC,IAAI,KAAK;MAClD,IAAID,GAAG,EAAE;QACPZ,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAAEC,OAAO,EAAE;QAAgB,CAAC,CAAC;MACpD,CAAC,MAAM;QACLR,GAAG,CAACV,IAAI,GAAGwB,IAAI;QACfZ,IAAI,EAAE;MACR;IACF,CAAC,CAAC;EACJ;AACF,CAAC;AAAC;AACK,MAAMN,OAAO,GAAG,CAACI,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACzC,IAAIF,GAAG,CAACV,IAAI,IAAIU,GAAG,CAACV,IAAI,CAACM,OAAO,EAAE;IAChCM,IAAI,EAAE;EACR,CAAC,MAAM;IACLD,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAE;IAAoC,CAAC,CAAC;EACxE;AACF,CAAC;AAAC"}},"mtime":1667423789359},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\utils.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAuth = exports.isAdmin = exports.generateToken = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _config = _interopRequireDefault(require(\"./config\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst generateToken = user => {\n  return _jsonwebtoken.default.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin\n  }, _config.default.JWT_SECRET);\n};\nexports.generateToken = generateToken;\nconst isAuth = (req, res, next) => {\n  const bearerToken = req.headers.authorization;\n  if (!bearerToken) {\n    res.status(401).send({\n      message: \"Token is not supplied\"\n    });\n  } else {\n    const token = bearerToken.slice(7, bearerToken.length);\n    _jsonwebtoken.default.verify(token, _config.default.JWT_SECRET, (err, data) => {\n      if (err) {\n        res.status(401).send({\n          message: \"Invalid Token\"\n        });\n      } else {\n        req.user = data;\n        next();\n      }\n    });\n  }\n};\nexports.isAuth = isAuth;\nconst isAdmin = (req, res, next) => {\n  if (req.user && req.user.isAdmin) {\n    next();\n  } else {\n    res.status(401).send({\n      message: 'Token is not valid for admin user'\n    });\n  }\n};\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZW5lcmF0ZVRva2VuIiwidXNlciIsImp3dCIsInNpZ24iLCJfaWQiLCJuYW1lIiwiZW1haWwiLCJpc0FkbWluIiwiY29uZmlnIiwiSldUX1NFQ1JFVCIsImlzQXV0aCIsInJlcSIsInJlcyIsIm5leHQiLCJiZWFyZXJUb2tlbiIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJ0b2tlbiIsInNsaWNlIiwibGVuZ3RoIiwidmVyaWZ5IiwiZXJyIiwiZGF0YSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxmcmFhblxcRGVza3RvcFxccHJhY3RpY2FcXG5ld2Vjb21tZXJjZTNcXGJhY2tlbmRcXCIsInNvdXJjZXMiOlsidXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCI7XHJcbmltcG9ydCBjb25maWcgZnJvbSBcIi4vY29uZmlnXCI7XHJcblxyXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVUb2tlbiA9ICh1c2VyKSA9PiB7XHJcbiAgcmV0dXJuIGp3dC5zaWduKFxyXG4gICAge1xyXG4gICAgICBfaWQ6IHVzZXIuX2lkLFxyXG4gICAgICBuYW1lOiB1c2VyLm5hbWUsXHJcbiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICBpc0FkbWluOiB1c2VyLmlzQWRtaW4sXHJcbiAgICB9LFxyXG4gICAgY29uZmlnLkpXVF9TRUNSRVRcclxuICApO1xyXG59O1xyXG5leHBvcnQgY29uc3QgaXNBdXRoID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgY29uc3QgYmVhcmVyVG9rZW4gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uO1xyXG4gIGlmICghYmVhcmVyVG9rZW4pIHtcclxuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogXCJUb2tlbiBpcyBub3Qgc3VwcGxpZWRcIiB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgdG9rZW4gPSBiZWFyZXJUb2tlbi5zbGljZSg3LCBiZWFyZXJUb2tlbi5sZW5ndGgpO1xyXG4gICAgand0LnZlcmlmeSh0b2tlbiwgY29uZmlnLkpXVF9TRUNSRVQsIChlcnIsIGRhdGEpID0+IHtcclxuICAgICAgaWYgKGVycikge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogXCJJbnZhbGlkIFRva2VuXCIgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVxLnVzZXIgPSBkYXRhO1xyXG4gICAgICAgIG5leHQoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5leHBvcnQgY29uc3QgaXNBZG1pbiA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIGlmIChyZXEudXNlciAmJiByZXEudXNlci5pc0FkbWluKSB7XHJcbiAgICBuZXh0KCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ1Rva2VuIGlzIG5vdCB2YWxpZCBmb3IgYWRtaW4gdXNlcicgfSk7XHJcbiAgfVxyXG59OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUE4QjtBQUV2QixNQUFNQSxhQUFhLEdBQUlDLElBQUksSUFBSztFQUNyQyxPQUFPQyxxQkFBRyxDQUFDQyxJQUFJLENBQ2I7SUFDRUMsR0FBRyxFQUFFSCxJQUFJLENBQUNHLEdBQUc7SUFDYkMsSUFBSSxFQUFFSixJQUFJLENBQUNJLElBQUk7SUFDZkMsS0FBSyxFQUFFTCxJQUFJLENBQUNLLEtBQUs7SUFDakJDLE9BQU8sRUFBRU4sSUFBSSxDQUFDTTtFQUNoQixDQUFDLEVBQ0RDLGVBQU0sQ0FBQ0MsVUFBVSxDQUNsQjtBQUNILENBQUM7QUFBQztBQUNLLE1BQU1DLE1BQU0sR0FBRyxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0VBQ3hDLE1BQU1DLFdBQVcsR0FBR0gsR0FBRyxDQUFDSSxPQUFPLENBQUNDLGFBQWE7RUFDN0MsSUFBSSxDQUFDRixXQUFXLEVBQUU7SUFDaEJGLEdBQUcsQ0FBQ0ssTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBRUMsT0FBTyxFQUFFO0lBQXdCLENBQUMsQ0FBQztFQUM1RCxDQUFDLE1BQU07SUFDTCxNQUFNQyxLQUFLLEdBQUdOLFdBQVcsQ0FBQ08sS0FBSyxDQUFDLENBQUMsRUFBRVAsV0FBVyxDQUFDUSxNQUFNLENBQUM7SUFDdERwQixxQkFBRyxDQUFDcUIsTUFBTSxDQUFDSCxLQUFLLEVBQUVaLGVBQU0sQ0FBQ0MsVUFBVSxFQUFFLENBQUNlLEdBQUcsRUFBRUMsSUFBSSxLQUFLO01BQ2xELElBQUlELEdBQUcsRUFBRTtRQUNQWixHQUFHLENBQUNLLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQUVDLE9BQU8sRUFBRTtRQUFnQixDQUFDLENBQUM7TUFDcEQsQ0FBQyxNQUFNO1FBQ0xSLEdBQUcsQ0FBQ1YsSUFBSSxHQUFHd0IsSUFBSTtRQUNmWixJQUFJLEVBQUU7TUFDUjtJQUNGLENBQUMsQ0FBQztFQUNKO0FBQ0YsQ0FBQztBQUFDO0FBQ0ssTUFBTU4sT0FBTyxHQUFHLENBQUNJLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFDekMsSUFBSUYsR0FBRyxDQUFDVixJQUFJLElBQUlVLEdBQUcsQ0FBQ1YsSUFBSSxDQUFDTSxPQUFPLEVBQUU7SUFDaENNLElBQUksRUFBRTtFQUNSLENBQUMsTUFBTTtJQUNMRCxHQUFHLENBQUNLLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVDLE9BQU8sRUFBRTtJQUFvQyxDQUFDLENBQUM7RUFDeEU7QUFDRixDQUFDO0FBQUMifQ==","map":{"version":3,"names":["generateToken","user","jwt","sign","_id","name","email","isAdmin","config","JWT_SECRET","isAuth","req","res","next","bearerToken","headers","authorization","status","send","message","token","slice","length","verify","err","data"],"sourceRoot":"C:\\Users\\fraan\\Desktop\\practica\\newecommerce3\\backend\\","sources":["utils.js"],"sourcesContent":["import jwt from \"jsonwebtoken\";\r\nimport config from \"./config\";\r\n\r\nexport const generateToken = (user) => {\r\n  return jwt.sign(\r\n    {\r\n      _id: user._id,\r\n      name: user.name,\r\n      email: user.email,\r\n      isAdmin: user.isAdmin,\r\n    },\r\n    config.JWT_SECRET\r\n  );\r\n};\r\nexport const isAuth = (req, res, next) => {\r\n  const bearerToken = req.headers.authorization;\r\n  if (!bearerToken) {\r\n    res.status(401).send({ message: \"Token is not supplied\" });\r\n  } else {\r\n    const token = bearerToken.slice(7, bearerToken.length);\r\n    jwt.verify(token, config.JWT_SECRET, (err, data) => {\r\n      if (err) {\r\n        res.status(401).send({ message: \"Invalid Token\" });\r\n      } else {\r\n        req.user = data;\r\n        next();\r\n      }\r\n    });\r\n  }\r\n};\r\nexport const isAdmin = (req, res, next) => {\r\n  if (req.user && req.user.isAdmin) {\r\n    next();\r\n  } else {\r\n    res.status(401).send({ message: 'Token is not valid for admin user' });\r\n  }\r\n};"],"mappings":";;;;;;AAAA;AACA;AAA8B;AAEvB,MAAMA,aAAa,GAAIC,IAAI,IAAK;EACrC,OAAOC,qBAAG,CAACC,IAAI,CACb;IACEC,GAAG,EAAEH,IAAI,CAACG,GAAG;IACbC,IAAI,EAAEJ,IAAI,CAACI,IAAI;IACfC,KAAK,EAAEL,IAAI,CAACK,KAAK;IACjBC,OAAO,EAAEN,IAAI,CAACM;EAChB,CAAC,EACDC,eAAM,CAACC,UAAU,CAClB;AACH,CAAC;AAAC;AACK,MAAMC,MAAM,GAAG,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACxC,MAAMC,WAAW,GAAGH,GAAG,CAACI,OAAO,CAACC,aAAa;EAC7C,IAAI,CAACF,WAAW,EAAE;IAChBF,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAE;IAAwB,CAAC,CAAC;EAC5D,CAAC,MAAM;IACL,MAAMC,KAAK,GAAGN,WAAW,CAACO,KAAK,CAAC,CAAC,EAAEP,WAAW,CAACQ,MAAM,CAAC;IACtDpB,qBAAG,CAACqB,MAAM,CAACH,KAAK,EAAEZ,eAAM,CAACC,UAAU,EAAE,CAACe,GAAG,EAAEC,IAAI,KAAK;MAClD,IAAID,GAAG,EAAE;QACPZ,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAAEC,OAAO,EAAE;QAAgB,CAAC,CAAC;MACpD,CAAC,MAAM;QACLR,GAAG,CAACV,IAAI,GAAGwB,IAAI;QACfZ,IAAI,EAAE;MACR;IACF,CAAC,CAAC;EACJ;AACF,CAAC;AAAC;AACK,MAAMN,OAAO,GAAG,CAACI,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACzC,IAAIF,GAAG,CAACV,IAAI,IAAIU,GAAG,CAACV,IAAI,CAACM,OAAO,EAAE;IAChCM,IAAI,EAAE;EACR,CAAC,MAAM;IACLD,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAE;IAAoC,CAAC,CAAC;EACxE;AACF,CAAC;AAAC"}},"mtime":1667423789359},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\routers\\\\orderRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\nvar _utils = require(\"../utils\");\nvar _orderModel = _interopRequireDefault(require(\"../models/orderModel\"));\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst orderRouter = _express.default.Router();\norderRouter.get('/summary', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.aggregate([{\n    $group: {\n      _id: null,\n      numOrders: {\n        $sum: 1\n      },\n      totalSales: {\n        $sum: '$totalPrice'\n      }\n    }\n  }]);\n  const users = await _userModel.default.aggregate([{\n    $group: {\n      _id: null,\n      numUsers: {\n        $sum: 1\n      }\n    }\n  }]);\n  res.send({\n    users,\n    orders\n  });\n}));\norderRouter.get('/', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.find({}).populate('user');\n  res.send(orders);\n}));\norderRouter.get(\"/mine\", _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.find({\n    user: req.user._id\n  });\n  res.send(orders);\n}));\norderRouter.get(\"/:id\", _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send({\n      message: \"Order Not Found\"\n    });\n  }\n}));\norderRouter.post(\"/\", _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = new _orderModel.default({\n    orderItems: req.body.orderItems,\n    user: req.user._id,\n    shipping: req.body.shipping,\n    payment: req.body.payment,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    totalPrice: req.body.totalPrice\n  });\n  const createdOrder = await order.save();\n  res.status(201).send({\n    message: \"New Order Created\",\n    order: createdOrder\n  });\n}));\norderRouter.delete('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n  if (order) {\n    const deletedOrder = await order.remove();\n    res.send({\n      message: 'Order Deleted',\n      product: deletedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\norderRouter.put(\"/:id/pay\", _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.payment.paymentResult = {\n      payerID: req.body.payerID,\n      paymentID: req.body.paymentID,\n      orderID: req.body.orderID\n    };\n    const updatedOrder = await order.save();\n    res.send({\n      message: \"Order Paid\",\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: \"Order Not Found.\"\n    });\n  }\n}));\norderRouter.put('/:id/deliver', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n  if (order) {\n    order.isDelivered = true;\n    order.deliveredAt = Date.now();\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Delivered',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found.'\n    });\n  }\n}));\nvar _default = orderRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJvcmRlclJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJpc0F1dGgiLCJpc0FkbWluIiwiZXhwcmVzc0FzeW5jSGFuZGxlciIsInJlcSIsInJlcyIsIm9yZGVycyIsIk9yZGVyIiwiYWdncmVnYXRlIiwiJGdyb3VwIiwiX2lkIiwibnVtT3JkZXJzIiwiJHN1bSIsInRvdGFsU2FsZXMiLCJ1c2VycyIsIlVzZXIiLCJudW1Vc2VycyIsInNlbmQiLCJmaW5kIiwicG9wdWxhdGUiLCJ1c2VyIiwib3JkZXIiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwic3RhdHVzIiwibWVzc2FnZSIsInBvc3QiLCJvcmRlckl0ZW1zIiwiYm9keSIsInNoaXBwaW5nIiwicGF5bWVudCIsIml0ZW1zUHJpY2UiLCJ0YXhQcmljZSIsInNoaXBwaW5nUHJpY2UiLCJ0b3RhbFByaWNlIiwiY3JlYXRlZE9yZGVyIiwic2F2ZSIsImRlbGV0ZSIsImRlbGV0ZWRPcmRlciIsInJlbW92ZSIsInByb2R1Y3QiLCJwdXQiLCJpc1BhaWQiLCJwYWlkQXQiLCJEYXRlIiwibm93IiwicGF5bWVudFJlc3VsdCIsInBheWVySUQiLCJwYXltZW50SUQiLCJvcmRlcklEIiwidXBkYXRlZE9yZGVyIiwiaXNEZWxpdmVyZWQiLCJkZWxpdmVyZWRBdCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxmcmFhblxcRGVza3RvcFxccHJhY3RpY2FcXG5ld2Vjb21tZXJjZTNcXGJhY2tlbmRcXHJvdXRlcnNcXCIsInNvdXJjZXMiOlsib3JkZXJSb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSBcImV4cHJlc3MtYXN5bmMtaGFuZGxlclwiO1xyXG5pbXBvcnQgeyBpc0F1dGgsIGlzQWRtaW4gfSBmcm9tICcuLi91dGlscyc7XHJcbmltcG9ydCBPcmRlciBmcm9tIFwiLi4vbW9kZWxzL29yZGVyTW9kZWxcIjtcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi4vbW9kZWxzL3VzZXJNb2RlbCc7XHJcblxyXG5jb25zdCBvcmRlclJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG5vcmRlclJvdXRlci5nZXQoXHJcbiAgJy9zdW1tYXJ5JyxcclxuICBpc0F1dGgsXHJcbiAgaXNBZG1pbixcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3Qgb3JkZXJzID0gYXdhaXQgT3JkZXIuYWdncmVnYXRlKFtcclxuICAgICAge1xyXG4gICAgICAgICRncm91cDoge1xyXG4gICAgICAgICAgX2lkOiBudWxsLFxyXG4gICAgICAgICAgbnVtT3JkZXJzOiB7ICRzdW06IDEgfSxcclxuICAgICAgICAgIHRvdGFsU2FsZXM6IHsgJHN1bTogJyR0b3RhbFByaWNlJyB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICBdKTtcclxuICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgVXNlci5hZ2dyZWdhdGUoW1xyXG4gICAgICB7XHJcbiAgICAgICAgJGdyb3VwOiB7XHJcbiAgICAgICAgICBfaWQ6IG51bGwsXHJcbiAgICAgICAgICBudW1Vc2VyczogeyAkc3VtOiAxIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIF0pO1xyXG4gICAgcmVzLnNlbmQoeyB1c2Vycywgb3JkZXJzIH0pO1xyXG4gIH0pXHJcbik7XHJcblxyXG5vcmRlclJvdXRlci5nZXQoXHJcbiAgJy8nLFxyXG4gIGlzQXV0aCxcclxuICBpc0FkbWluLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5maW5kKHt9KS5wb3B1bGF0ZSgndXNlcicpO1xyXG4gICAgcmVzLnNlbmQob3JkZXJzKTtcclxuICB9KVxyXG4pO1xyXG5cclxub3JkZXJSb3V0ZXIuZ2V0KFxyXG4gIFwiL21pbmVcIixcclxuICBpc0F1dGgsXHJcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IE9yZGVyLmZpbmQoeyB1c2VyOiByZXEudXNlci5faWQgfSk7XHJcbiAgICByZXMuc2VuZChvcmRlcnMpO1xyXG4gIH0pXHJcbik7XHJcblxyXG5vcmRlclJvdXRlci5nZXQoXHJcbiAgXCIvOmlkXCIsXHJcbiAgaXNBdXRoLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gICAgaWYgKG9yZGVyKSB7XHJcbiAgICAgIHJlcy5zZW5kKG9yZGVyKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogXCJPcmRlciBOb3QgRm91bmRcIiB9KTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG5cclxub3JkZXJSb3V0ZXIucG9zdChcclxuICBcIi9cIixcclxuICBpc0F1dGgsXHJcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IG9yZGVyID0gbmV3IE9yZGVyKHtcclxuICAgICAgb3JkZXJJdGVtczogcmVxLmJvZHkub3JkZXJJdGVtcyxcclxuICAgICAgdXNlcjogcmVxLnVzZXIuX2lkLFxyXG4gICAgICBzaGlwcGluZzogcmVxLmJvZHkuc2hpcHBpbmcsXHJcbiAgICAgIHBheW1lbnQ6IHJlcS5ib2R5LnBheW1lbnQsXHJcbiAgICAgIGl0ZW1zUHJpY2U6IHJlcS5ib2R5Lml0ZW1zUHJpY2UsXHJcbiAgICAgIHRheFByaWNlOiByZXEuYm9keS50YXhQcmljZSxcclxuICAgICAgc2hpcHBpbmdQcmljZTogcmVxLmJvZHkuc2hpcHBpbmdQcmljZSxcclxuICAgICAgdG90YWxQcmljZTogcmVxLmJvZHkudG90YWxQcmljZSxcclxuICAgIH0pO1xyXG4gICAgY29uc3QgY3JlYXRlZE9yZGVyID0gYXdhaXQgb3JkZXIuc2F2ZSgpO1xyXG4gICAgcmVzLnN0YXR1cygyMDEpLnNlbmQoeyBtZXNzYWdlOiBcIk5ldyBPcmRlciBDcmVhdGVkXCIsIG9yZGVyOiBjcmVhdGVkT3JkZXIgfSk7XHJcbiAgfSlcclxuKTtcclxuXHJcbm9yZGVyUm91dGVyLmRlbGV0ZShcclxuICAnLzppZCcsXHJcbiAgaXNBdXRoLFxyXG4gIGlzQWRtaW4sXHJcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XHJcbiAgICBpZiAob3JkZXIpIHtcclxuICAgICAgY29uc3QgZGVsZXRlZE9yZGVyID0gYXdhaXQgb3JkZXIucmVtb3ZlKCk7XHJcbiAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ09yZGVyIERlbGV0ZWQnLCBwcm9kdWN0OiBkZWxldGVkT3JkZXIgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBOb3QgRm91bmQnIH0pO1xyXG4gICAgfVxyXG4gIH0pXHJcbik7XHJcblxyXG5vcmRlclJvdXRlci5wdXQoXHJcbiAgXCIvOmlkL3BheVwiLFxyXG4gIGlzQXV0aCxcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICAgIGlmIChvcmRlcikge1xyXG4gICAgICBvcmRlci5pc1BhaWQgPSB0cnVlO1xyXG4gICAgICBvcmRlci5wYWlkQXQgPSBEYXRlLm5vdygpO1xyXG4gICAgICBvcmRlci5wYXltZW50LnBheW1lbnRSZXN1bHQgPSB7XHJcbiAgICAgICAgcGF5ZXJJRDogcmVxLmJvZHkucGF5ZXJJRCxcclxuICAgICAgICBwYXltZW50SUQ6IHJlcS5ib2R5LnBheW1lbnRJRCxcclxuICAgICAgICBvcmRlcklEOiByZXEuYm9keS5vcmRlcklELFxyXG4gICAgICB9O1xyXG4gICAgICBjb25zdCB1cGRhdGVkT3JkZXIgPSBhd2FpdCBvcmRlci5zYXZlKCk7XHJcbiAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogXCJPcmRlciBQYWlkXCIsIG9yZGVyOiB1cGRhdGVkT3JkZXIgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6IFwiT3JkZXIgTm90IEZvdW5kLlwiIH0pO1xyXG4gICAgfVxyXG4gIH0pXHJcbik7XHJcblxyXG5vcmRlclJvdXRlci5wdXQoXHJcbiAgJy86aWQvZGVsaXZlcicsXHJcbiAgaXNBdXRoLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gICAgaWYgKG9yZGVyKSB7XHJcbiAgICAgIG9yZGVyLmlzRGVsaXZlcmVkID0gdHJ1ZTtcclxuICAgICAgb3JkZXIuZGVsaXZlcmVkQXQgPSBEYXRlLm5vdygpO1xyXG4gICAgICBjb25zdCB1cGRhdGVkT3JkZXIgPSBhd2FpdCBvcmRlci5zYXZlKCk7XHJcbiAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ09yZGVyIERlbGl2ZXJlZCcsIG9yZGVyOiB1cGRhdGVkT3JkZXIgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBOb3QgRm91bmQuJyB9KTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG5leHBvcnQgZGVmYXVsdCBvcmRlclJvdXRlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNB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","map":{"version":3,"names":["orderRouter","express","Router","get","isAuth","isAdmin","expressAsyncHandler","req","res","orders","Order","aggregate","$group","_id","numOrders","$sum","totalSales","users","User","numUsers","send","find","populate","user","order","findById","params","id","status","message","post","orderItems","body","shipping","payment","itemsPrice","taxPrice","shippingPrice","totalPrice","createdOrder","save","delete","deletedOrder","remove","product","put","isPaid","paidAt","Date","now","paymentResult","payerID","paymentID","orderID","updatedOrder","isDelivered","deliveredAt"],"sourceRoot":"C:\\Users\\fraan\\Desktop\\practica\\newecommerce3\\backend\\routers\\","sources":["orderRouter.js"],"sourcesContent":["import express from \"express\";\r\nimport expressAsyncHandler from \"express-async-handler\";\r\nimport { isAuth, isAdmin } from '../utils';\r\nimport Order from \"../models/orderModel\";\r\nimport User from '../models/userModel';\r\n\r\nconst orderRouter = express.Router();\r\n\r\norderRouter.get(\r\n  '/summary',\r\n  isAuth,\r\n  isAdmin,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const orders = await Order.aggregate([\r\n      {\r\n        $group: {\r\n          _id: null,\r\n          numOrders: { $sum: 1 },\r\n          totalSales: { $sum: '$totalPrice' },\r\n        },\r\n      },\r\n    ]);\r\n    const users = await User.aggregate([\r\n      {\r\n        $group: {\r\n          _id: null,\r\n          numUsers: { $sum: 1 },\r\n        },\r\n      },\r\n    ]);\r\n    res.send({ users, orders });\r\n  })\r\n);\r\n\r\norderRouter.get(\r\n  '/',\r\n  isAuth,\r\n  isAdmin,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const orders = await Order.find({}).populate('user');\r\n    res.send(orders);\r\n  })\r\n);\r\n\r\norderRouter.get(\r\n  \"/mine\",\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const orders = await Order.find({ user: req.user._id });\r\n    res.send(orders);\r\n  })\r\n);\r\n\r\norderRouter.get(\r\n  \"/:id\",\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const order = await Order.findById(req.params.id);\r\n    if (order) {\r\n      res.send(order);\r\n    } else {\r\n      res.status(404).send({ message: \"Order Not Found\" });\r\n    }\r\n  })\r\n);\r\n\r\norderRouter.post(\r\n  \"/\",\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const order = new Order({\r\n      orderItems: req.body.orderItems,\r\n      user: req.user._id,\r\n      shipping: req.body.shipping,\r\n      payment: req.body.payment,\r\n      itemsPrice: req.body.itemsPrice,\r\n      taxPrice: req.body.taxPrice,\r\n      shippingPrice: req.body.shippingPrice,\r\n      totalPrice: req.body.totalPrice,\r\n    });\r\n    const createdOrder = await order.save();\r\n    res.status(201).send({ message: \"New Order Created\", order: createdOrder });\r\n  })\r\n);\r\n\r\norderRouter.delete(\r\n  '/:id',\r\n  isAuth,\r\n  isAdmin,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const order = await Order.findById(req.params.id);\r\n    if (order) {\r\n      const deletedOrder = await order.remove();\r\n      res.send({ message: 'Order Deleted', product: deletedOrder });\r\n    } else {\r\n      res.status(404).send({ message: 'Order Not Found' });\r\n    }\r\n  })\r\n);\r\n\r\norderRouter.put(\r\n  \"/:id/pay\",\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const order = await Order.findById(req.params.id);\r\n    if (order) {\r\n      order.isPaid = true;\r\n      order.paidAt = Date.now();\r\n      order.payment.paymentResult = {\r\n        payerID: req.body.payerID,\r\n        paymentID: req.body.paymentID,\r\n        orderID: req.body.orderID,\r\n      };\r\n      const updatedOrder = await order.save();\r\n      res.send({ message: \"Order Paid\", order: updatedOrder });\r\n    } else {\r\n      res.status(404).send({ message: \"Order Not Found.\" });\r\n    }\r\n  })\r\n);\r\n\r\norderRouter.put(\r\n  '/:id/deliver',\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const order = await Order.findById(req.params.id);\r\n    if (order) {\r\n      order.isDelivered = true;\r\n      order.deliveredAt = Date.now();\r\n      const updatedOrder = await order.save();\r\n      res.send({ message: 'Order Delivered', order: updatedOrder });\r\n    } else {\r\n      res.status(404).send({ message: 'Order Not Found.' });\r\n    }\r\n  })\r\n);\r\nexport default orderRouter"],"mappings":"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"}},"mtime":1667439810574},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\models\\\\orderModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst orderSchema = new _mongoose.default.Schema({\n  orderItems: [{\n    name: {\n      type: String,\n      required: true\n    },\n    image: {\n      type: String,\n      required: true\n    },\n    price: {\n      type: Number,\n      required: true\n    },\n    qty: {\n      type: Number,\n      required: true\n    },\n    product: {\n      type: _mongoose.default.Schema.Types.ObjectId,\n      ref: \"Product\",\n      required: true\n    }\n  }],\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: \"User\",\n    required: true\n  },\n  shipping: {\n    address: String,\n    city: String,\n    postalCode: String,\n    country: String\n  },\n  payment: {\n    paymentMethod: String,\n    paymentResult: {\n      orderID: String,\n      payerID: String,\n      paymentID: String\n    }\n  },\n  itemsPrice: Number,\n  taxPrice: Number,\n  shippingPrice: Number,\n  totalPrice: Number,\n  isPaid: {\n    type: Boolean,\n    required: true,\n    default: false\n  },\n  paidAt: Date,\n  isDelivered: {\n    type: Boolean,\n    required: true,\n    default: false\n  },\n  deliveredAt: Date\n}, {\n  timestamps: true\n});\nconst Order = _mongoose.default.model('Order', orderSchema);\nvar _default = Order;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJvcmRlclNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwib3JkZXJJdGVtcyIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJpbWFnZSIsInByaWNlIiwiTnVtYmVyIiwicXR5IiwicHJvZHVjdCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ1c2VyIiwic2hpcHBpbmciLCJhZGRyZXNzIiwiY2l0eSIsInBvc3RhbENvZGUiLCJjb3VudHJ5IiwicGF5bWVudCIsInBheW1lbnRNZXRob2QiLCJwYXltZW50UmVzdWx0Iiwib3JkZXJJRCIsInBheWVySUQiLCJwYXltZW50SUQiLCJpdGVtc1ByaWNlIiwidGF4UHJpY2UiLCJzaGlwcGluZ1ByaWNlIiwidG90YWxQcmljZSIsImlzUGFpZCIsIkJvb2xlYW4iLCJkZWZhdWx0IiwicGFpZEF0IiwiRGF0ZSIsImlzRGVsaXZlcmVkIiwiZGVsaXZlcmVkQXQiLCJ0aW1lc3RhbXBzIiwiT3JkZXIiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxmcmFhblxcRGVza3RvcFxccHJhY3RpY2FcXG5ld2Vjb21tZXJjZTNcXGJhY2tlbmRcXG1vZGVsc1xcIiwic291cmNlcyI6WyJvcmRlck1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IG9yZGVyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcclxuICB7XHJcbiAgICBvcmRlckl0ZW1zOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgICAgICBpbWFnZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICAgICAgcHJpY2U6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgICAgIHF0eTogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICAgICAgcHJvZHVjdDoge1xyXG4gICAgICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgICAgICAgcmVmOiBcIlByb2R1Y3RcIixcclxuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICBdLFxyXG4gICAgdXNlcjogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogXCJVc2VyXCIsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBzaGlwcGluZzoge1xyXG4gICAgICBhZGRyZXNzOiBTdHJpbmcsXHJcbiAgICAgIGNpdHk6IFN0cmluZyxcclxuICAgICAgcG9zdGFsQ29kZTogU3RyaW5nLFxyXG4gICAgICBjb3VudHJ5OiBTdHJpbmcsXHJcbiAgICB9LFxyXG4gICAgcGF5bWVudDoge1xyXG4gICAgICBwYXltZW50TWV0aG9kOiBTdHJpbmcsXHJcbiAgICAgIHBheW1lbnRSZXN1bHQ6IHtcclxuICAgICAgICBvcmRlcklEOiBTdHJpbmcsXHJcbiAgICAgICAgcGF5ZXJJRDogU3RyaW5nLFxyXG4gICAgICAgIHBheW1lbnRJRDogU3RyaW5nLFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIGl0ZW1zUHJpY2U6IE51bWJlcixcclxuICAgIHRheFByaWNlOiBOdW1iZXIsXHJcbiAgICBzaGlwcGluZ1ByaWNlOiBOdW1iZXIsXHJcbiAgICB0b3RhbFByaWNlOiBOdW1iZXIsXHJcbiAgICBpc1BhaWQ6IHsgdHlwZTogQm9vbGVhbiwgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6IGZhbHNlIH0sXHJcbiAgICBwYWlkQXQ6IERhdGUsXHJcbiAgICBpc0RlbGl2ZXJlZDogeyB0eXBlOiBCb29sZWFuLCByZXF1aXJlZDogdHJ1ZSwgZGVmYXVsdDogZmFsc2UgfSxcclxuICAgIGRlbGl2ZXJlZEF0OiBEYXRlLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZSxcclxuICB9XHJcbik7XHJcbmNvbnN0IE9yZGVyID0gbW9uZ29vc2UubW9kZWwoJ09yZGVyJywgb3JkZXJTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBPcmRlcjtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUFnQztBQUVoQyxNQUFNQSxXQUFXLEdBQUcsSUFBSUMsaUJBQVEsQ0FBQ0MsTUFBTSxDQUNyQztFQUNFQyxVQUFVLEVBQUUsQ0FDVjtJQUNFQyxJQUFJLEVBQUU7TUFBRUMsSUFBSSxFQUFFQyxNQUFNO01BQUVDLFFBQVEsRUFBRTtJQUFLLENBQUM7SUFDdENDLEtBQUssRUFBRTtNQUFFSCxJQUFJLEVBQUVDLE1BQU07TUFBRUMsUUFBUSxFQUFFO0lBQUssQ0FBQztJQUN2Q0UsS0FBSyxFQUFFO01BQUVKLElBQUksRUFBRUssTUFBTTtNQUFFSCxRQUFRLEVBQUU7SUFBSyxDQUFDO0lBQ3ZDSSxHQUFHLEVBQUU7TUFBRU4sSUFBSSxFQUFFSyxNQUFNO01BQUVILFFBQVEsRUFBRTtJQUFLLENBQUM7SUFDckNLLE9BQU8sRUFBRTtNQUNQUCxJQUFJLEVBQUVKLGlCQUFRLENBQUNDLE1BQU0sQ0FBQ1csS0FBSyxDQUFDQyxRQUFRO01BQ3BDQyxHQUFHLEVBQUUsU0FBUztNQUNkUixRQUFRLEVBQUU7SUFDWjtFQUNGLENBQUMsQ0FDRjtFQUNEUyxJQUFJLEVBQUU7SUFBRVgsSUFBSSxFQUFFSixpQkFBUSxDQUFDQyxNQUFNLENBQUNXLEtBQUssQ0FBQ0MsUUFBUTtJQUFFQyxHQUFHLEVBQUUsTUFBTTtJQUFFUixRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQzNFVSxRQUFRLEVBQUU7SUFDUkMsT0FBTyxFQUFFWixNQUFNO0lBQ2ZhLElBQUksRUFBRWIsTUFBTTtJQUNaYyxVQUFVLEVBQUVkLE1BQU07SUFDbEJlLE9BQU8sRUFBRWY7RUFDWCxDQUFDO0VBQ0RnQixPQUFPLEVBQUU7SUFDUEMsYUFBYSxFQUFFakIsTUFBTTtJQUNyQmtCLGFBQWEsRUFBRTtNQUNiQyxPQUFPLEVBQUVuQixNQUFNO01BQ2ZvQixPQUFPLEVBQUVwQixNQUFNO01BQ2ZxQixTQUFTLEVBQUVyQjtJQUNiO0VBQ0YsQ0FBQztFQUNEc0IsVUFBVSxFQUFFbEIsTUFBTTtFQUNsQm1CLFFBQVEsRUFBRW5CLE1BQU07RUFDaEJvQixhQUFhLEVBQUVwQixNQUFNO0VBQ3JCcUIsVUFBVSxFQUFFckIsTUFBTTtFQUNsQnNCLE1BQU0sRUFBRTtJQUFFM0IsSUFBSSxFQUFFNEIsT0FBTztJQUFFMUIsUUFBUSxFQUFFLElBQUk7SUFBRTJCLE9BQU8sRUFBRTtFQUFNLENBQUM7RUFDekRDLE1BQU0sRUFBRUMsSUFBSTtFQUNaQyxXQUFXLEVBQUU7SUFBRWhDLElBQUksRUFBRTRCLE9BQU87SUFBRTFCLFFBQVEsRUFBRSxJQUFJO0lBQUUyQixPQUFPLEVBQUU7RUFBTSxDQUFDO0VBQzlESSxXQUFXLEVBQUVGO0FBQ2YsQ0FBQyxFQUNEO0VBQ0VHLFVBQVUsRUFBRTtBQUNkLENBQUMsQ0FDRjtBQUNELE1BQU1DLEtBQUssR0FBR3ZDLGlCQUFRLENBQUN3QyxLQUFLLENBQUMsT0FBTyxFQUFFekMsV0FBVyxDQUFDO0FBQUMsZUFDcEN3QyxLQUFLO0FBQUEifQ==","map":{"version":3,"names":["orderSchema","mongoose","Schema","orderItems","name","type","String","required","image","price","Number","qty","product","Types","ObjectId","ref","user","shipping","address","city","postalCode","country","payment","paymentMethod","paymentResult","orderID","payerID","paymentID","itemsPrice","taxPrice","shippingPrice","totalPrice","isPaid","Boolean","default","paidAt","Date","isDelivered","deliveredAt","timestamps","Order","model"],"sourceRoot":"C:\\Users\\fraan\\Desktop\\practica\\newecommerce3\\backend\\models\\","sources":["orderModel.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst orderSchema = new mongoose.Schema(\r\n  {\r\n    orderItems: [\r\n      {\r\n        name: { type: String, required: true },\r\n        image: { type: String, required: true },\r\n        price: { type: Number, required: true },\r\n        qty: { type: Number, required: true },\r\n        product: {\r\n          type: mongoose.Schema.Types.ObjectId,\r\n          ref: \"Product\",\r\n          required: true,\r\n        },\r\n      },\r\n    ],\r\n    user: { type: mongoose.Schema.Types.ObjectId, ref: \"User\", required: true },\r\n    shipping: {\r\n      address: String,\r\n      city: String,\r\n      postalCode: String,\r\n      country: String,\r\n    },\r\n    payment: {\r\n      paymentMethod: String,\r\n      paymentResult: {\r\n        orderID: String,\r\n        payerID: String,\r\n        paymentID: String,\r\n      },\r\n    },\r\n    itemsPrice: Number,\r\n    taxPrice: Number,\r\n    shippingPrice: Number,\r\n    totalPrice: Number,\r\n    isPaid: { type: Boolean, required: true, default: false },\r\n    paidAt: Date,\r\n    isDelivered: { type: Boolean, required: true, default: false },\r\n    deliveredAt: Date,\r\n  },\r\n  {\r\n    timestamps: true,\r\n  }\r\n);\r\nconst Order = mongoose.model('Order', orderSchema);\r\nexport default Order;\r\n"],"mappings":";;;;;;AAAA;AAAgC;AAEhC,MAAMA,WAAW,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CACrC;EACEC,UAAU,EAAE,CACV;IACEC,IAAI,EAAE;MAAEC,IAAI,EAAEC,MAAM;MAAEC,QAAQ,EAAE;IAAK,CAAC;IACtCC,KAAK,EAAE;MAAEH,IAAI,EAAEC,MAAM;MAAEC,QAAQ,EAAE;IAAK,CAAC;IACvCE,KAAK,EAAE;MAAEJ,IAAI,EAAEK,MAAM;MAAEH,QAAQ,EAAE;IAAK,CAAC;IACvCI,GAAG,EAAE;MAAEN,IAAI,EAAEK,MAAM;MAAEH,QAAQ,EAAE;IAAK,CAAC;IACrCK,OAAO,EAAE;MACPP,IAAI,EAAEJ,iBAAQ,CAACC,MAAM,CAACW,KAAK,CAACC,QAAQ;MACpCC,GAAG,EAAE,SAAS;MACdR,QAAQ,EAAE;IACZ;EACF,CAAC,CACF;EACDS,IAAI,EAAE;IAAEX,IAAI,EAAEJ,iBAAQ,CAACC,MAAM,CAACW,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAE,MAAM;IAAER,QAAQ,EAAE;EAAK,CAAC;EAC3EU,QAAQ,EAAE;IACRC,OAAO,EAAEZ,MAAM;IACfa,IAAI,EAAEb,MAAM;IACZc,UAAU,EAAEd,MAAM;IAClBe,OAAO,EAAEf;EACX,CAAC;EACDgB,OAAO,EAAE;IACPC,aAAa,EAAEjB,MAAM;IACrBkB,aAAa,EAAE;MACbC,OAAO,EAAEnB,MAAM;MACfoB,OAAO,EAAEpB,MAAM;MACfqB,SAAS,EAAErB;IACb;EACF,CAAC;EACDsB,UAAU,EAAElB,MAAM;EAClBmB,QAAQ,EAAEnB,MAAM;EAChBoB,aAAa,EAAEpB,MAAM;EACrBqB,UAAU,EAAErB,MAAM;EAClBsB,MAAM,EAAE;IAAE3B,IAAI,EAAE4B,OAAO;IAAE1B,QAAQ,EAAE,IAAI;IAAE2B,OAAO,EAAE;EAAM,CAAC;EACzDC,MAAM,EAAEC,IAAI;EACZC,WAAW,EAAE;IAAEhC,IAAI,EAAE4B,OAAO;IAAE1B,QAAQ,EAAE,IAAI;IAAE2B,OAAO,EAAE;EAAM,CAAC;EAC9DI,WAAW,EAAEF;AACf,CAAC,EACD;EACEG,UAAU,EAAE;AACd,CAAC,CACF;AACD,MAAMC,KAAK,GAAGvC,iBAAQ,CAACwC,KAAK,CAAC,OAAO,EAAEzC,WAAW,CAAC;AAAC,eACpCwC,KAAK;AAAA"}},"mtime":1667347363506},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\routers\\\\orderRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\nvar _utils = require(\"../utils\");\nvar _orderModel = _interopRequireDefault(require(\"../models/orderModel\"));\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst orderRouter = _express.default.Router();\norderRouter.get('/summary', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.aggregate([{\n    $group: {\n      _id: null,\n      numOrders: {\n        $sum: 1\n      },\n      totalSales: {\n        $sum: '$totalPrice'\n      }\n    }\n  }]);\n  const users = await _userModel.default.aggregate([{\n    $group: {\n      _id: null,\n      numUsers: {\n        $sum: 1\n      }\n    }\n  }]);\n  res.send({\n    users,\n    orders\n  });\n}));\norderRouter.get('/', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.find({}).populate('user');\n  res.send(orders);\n}));\norderRouter.get(\"/mine\", _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.find({\n    user: req.user._id\n  });\n  res.send(orders);\n}));\norderRouter.get(\"/:id\", _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send({\n      message: \"Order Not Found\"\n    });\n  }\n}));\norderRouter.post(\"/\", _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = new _orderModel.default({\n    orderItems: req.body.orderItems,\n    user: req.user._id,\n    shipping: req.body.shipping,\n    payment: req.body.payment,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    totalPrice: req.body.totalPrice\n  });\n  const createdOrder = await order.save();\n  res.status(201).send({\n    message: \"New Order Created\",\n    order: createdOrder\n  });\n}));\norderRouter.delete('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n  if (order) {\n    const deletedOrder = await order.remove();\n    res.send({\n      message: 'Order Deleted',\n      product: deletedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\norderRouter.put(\"/:id/pay\", _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.payment.paymentResult = {\n      payerID: req.body.payerID,\n      paymentID: req.body.paymentID,\n      orderID: req.body.orderID\n    };\n    const updatedOrder = await order.save();\n    res.send({\n      message: \"Order Paid\",\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: \"Order Not Found.\"\n    });\n  }\n}));\norderRouter.put('/:id/deliver', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n  if (order) {\n    order.isDelivered = true;\n    order.deliveredAt = Date.now();\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Delivered',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found.'\n    });\n  }\n}));\nvar _default = orderRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJvcmRlclJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJpc0F1dGgiLCJpc0FkbWluIiwiZXhwcmVzc0FzeW5jSGFuZGxlciIsInJlcSIsInJlcyIsIm9yZGVycyIsIk9yZGVyIiwiYWdncmVnYXRlIiwiJGdyb3VwIiwiX2lkIiwibnVtT3JkZXJzIiwiJHN1bSIsInRvdGFsU2FsZXMiLCJ1c2VycyIsIlVzZXIiLCJudW1Vc2VycyIsInNlbmQiLCJmaW5kIiwicG9wdWxhdGUiLCJ1c2VyIiwib3JkZXIiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwic3RhdHVzIiwibWVzc2FnZSIsInBvc3QiLCJvcmRlckl0ZW1zIiwiYm9keSIsInNoaXBwaW5nIiwicGF5bWVudCIsIml0ZW1zUHJpY2UiLCJ0YXhQcmljZSIsInNoaXBwaW5nUHJpY2UiLCJ0b3RhbFByaWNlIiwiY3JlYXRlZE9yZGVyIiwic2F2ZSIsImRlbGV0ZSIsImRlbGV0ZWRPcmRlciIsInJlbW92ZSIsInByb2R1Y3QiLCJwdXQiLCJpc1BhaWQiLCJwYWlkQXQiLCJEYXRlIiwibm93IiwicGF5bWVudFJlc3VsdCIsInBheWVySUQiLCJwYXltZW50SUQiLCJvcmRlcklEIiwidXBkYXRlZE9yZGVyIiwiaXNEZWxpdmVyZWQiLCJkZWxpdmVyZWRBdCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxmcmFhblxcRGVza3RvcFxccHJhY3RpY2FcXG5ld2Vjb21tZXJjZTNcXGJhY2tlbmRcXHJvdXRlcnNcXCIsInNvdXJjZXMiOlsib3JkZXJSb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSBcImV4cHJlc3MtYXN5bmMtaGFuZGxlclwiO1xyXG5pbXBvcnQgeyBpc0F1dGgsIGlzQWRtaW4gfSBmcm9tICcuLi91dGlscyc7XHJcbmltcG9ydCBPcmRlciBmcm9tIFwiLi4vbW9kZWxzL29yZGVyTW9kZWxcIjtcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi4vbW9kZWxzL3VzZXJNb2RlbCc7XHJcblxyXG5jb25zdCBvcmRlclJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG5vcmRlclJvdXRlci5nZXQoXHJcbiAgJy9zdW1tYXJ5JyxcclxuICBpc0F1dGgsXHJcbiAgaXNBZG1pbixcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3Qgb3JkZXJzID0gYXdhaXQgT3JkZXIuYWdncmVnYXRlKFtcclxuICAgICAge1xyXG4gICAgICAgICRncm91cDoge1xyXG4gICAgICAgICAgX2lkOiBudWxsLFxyXG4gICAgICAgICAgbnVtT3JkZXJzOiB7ICRzdW06IDEgfSxcclxuICAgICAgICAgIHRvdGFsU2FsZXM6IHsgJHN1bTogJyR0b3RhbFByaWNlJyB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICBdKTtcclxuICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgVXNlci5hZ2dyZWdhdGUoW1xyXG4gICAgICB7XHJcbiAgICAgICAgJGdyb3VwOiB7XHJcbiAgICAgICAgICBfaWQ6IG51bGwsXHJcbiAgICAgICAgICBudW1Vc2VyczogeyAkc3VtOiAxIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIF0pO1xyXG4gICAgcmVzLnNlbmQoeyB1c2Vycywgb3JkZXJzIH0pO1xyXG4gIH0pXHJcbik7XHJcblxyXG5vcmRlclJvdXRlci5nZXQoXHJcbiAgJy8nLFxyXG4gIGlzQXV0aCxcclxuICBpc0FkbWluLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5maW5kKHt9KS5wb3B1bGF0ZSgndXNlcicpO1xyXG4gICAgcmVzLnNlbmQob3JkZXJzKTtcclxuICB9KVxyXG4pO1xyXG5cclxub3JkZXJSb3V0ZXIuZ2V0KFxyXG4gIFwiL21pbmVcIixcclxuICBpc0F1dGgsXHJcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IE9yZGVyLmZpbmQoeyB1c2VyOiByZXEudXNlci5faWQgfSk7XHJcbiAgICByZXMuc2VuZChvcmRlcnMpO1xyXG4gIH0pXHJcbik7XHJcblxyXG5vcmRlclJvdXRlci5nZXQoXHJcbiAgXCIvOmlkXCIsXHJcbiAgaXNBdXRoLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gICAgaWYgKG9yZGVyKSB7XHJcbiAgICAgIHJlcy5zZW5kKG9yZGVyKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogXCJPcmRlciBOb3QgRm91bmRcIiB9KTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG5cclxub3JkZXJSb3V0ZXIucG9zdChcclxuICBcIi9cIixcclxuICBpc0F1dGgsXHJcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IG9yZGVyID0gbmV3IE9yZGVyKHtcclxuICAgICAgb3JkZXJJdGVtczogcmVxLmJvZHkub3JkZXJJdGVtcyxcclxuICAgICAgdXNlcjogcmVxLnVzZXIuX2lkLFxyXG4gICAgICBzaGlwcGluZzogcmVxLmJvZHkuc2hpcHBpbmcsXHJcbiAgICAgIHBheW1lbnQ6IHJlcS5ib2R5LnBheW1lbnQsXHJcbiAgICAgIGl0ZW1zUHJpY2U6IHJlcS5ib2R5Lml0ZW1zUHJpY2UsXHJcbiAgICAgIHRheFByaWNlOiByZXEuYm9keS50YXhQcmljZSxcclxuICAgICAgc2hpcHBpbmdQcmljZTogcmVxLmJvZHkuc2hpcHBpbmdQcmljZSxcclxuICAgICAgdG90YWxQcmljZTogcmVxLmJvZHkudG90YWxQcmljZSxcclxuICAgIH0pO1xyXG4gICAgY29uc3QgY3JlYXRlZE9yZGVyID0gYXdhaXQgb3JkZXIuc2F2ZSgpO1xyXG4gICAgcmVzLnN0YXR1cygyMDEpLnNlbmQoeyBtZXNzYWdlOiBcIk5ldyBPcmRlciBDcmVhdGVkXCIsIG9yZGVyOiBjcmVhdGVkT3JkZXIgfSk7XHJcbiAgfSlcclxuKTtcclxuXHJcbm9yZGVyUm91dGVyLmRlbGV0ZShcclxuICAnLzppZCcsXHJcbiAgaXNBdXRoLFxyXG4gIGlzQWRtaW4sXHJcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XHJcbiAgICBpZiAob3JkZXIpIHtcclxuICAgICAgY29uc3QgZGVsZXRlZE9yZGVyID0gYXdhaXQgb3JkZXIucmVtb3ZlKCk7XHJcbiAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ09yZGVyIERlbGV0ZWQnLCBwcm9kdWN0OiBkZWxldGVkT3JkZXIgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBOb3QgRm91bmQnIH0pO1xyXG4gICAgfVxyXG4gIH0pXHJcbik7XHJcblxyXG5vcmRlclJvdXRlci5wdXQoXHJcbiAgXCIvOmlkL3BheVwiLFxyXG4gIGlzQXV0aCxcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICAgIGlmIChvcmRlcikge1xyXG4gICAgICBvcmRlci5pc1BhaWQgPSB0cnVlO1xyXG4gICAgICBvcmRlci5wYWlkQXQgPSBEYXRlLm5vdygpO1xyXG4gICAgICBvcmRlci5wYXltZW50LnBheW1lbnRSZXN1bHQgPSB7XHJcbiAgICAgICAgcGF5ZXJJRDogcmVxLmJvZHkucGF5ZXJJRCxcclxuICAgICAgICBwYXltZW50SUQ6IHJlcS5ib2R5LnBheW1lbnRJRCxcclxuICAgICAgICBvcmRlcklEOiByZXEuYm9keS5vcmRlcklELFxyXG4gICAgICB9O1xyXG4gICAgICBjb25zdCB1cGRhdGVkT3JkZXIgPSBhd2FpdCBvcmRlci5zYXZlKCk7XHJcbiAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogXCJPcmRlciBQYWlkXCIsIG9yZGVyOiB1cGRhdGVkT3JkZXIgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6IFwiT3JkZXIgTm90IEZvdW5kLlwiIH0pO1xyXG4gICAgfVxyXG4gIH0pXHJcbik7XHJcblxyXG5vcmRlclJvdXRlci5wdXQoXHJcbiAgJy86aWQvZGVsaXZlcicsXHJcbiAgaXNBdXRoLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gICAgaWYgKG9yZGVyKSB7XHJcbiAgICAgIG9yZGVyLmlzRGVsaXZlcmVkID0gdHJ1ZTtcclxuICAgICAgb3JkZXIuZGVsaXZlcmVkQXQgPSBEYXRlLm5vdygpO1xyXG4gICAgICBjb25zdCB1cGRhdGVkT3JkZXIgPSBhd2FpdCBvcmRlci5zYXZlKCk7XHJcbiAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ09yZGVyIERlbGl2ZXJlZCcsIG9yZGVyOiB1cGRhdGVkT3JkZXIgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBOb3QgRm91bmQuJyB9KTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG5leHBvcnQgZGVmYXVsdCBvcmRlclJvdXRlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNB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","map":{"version":3,"names":["orderRouter","express","Router","get","isAuth","isAdmin","expressAsyncHandler","req","res","orders","Order","aggregate","$group","_id","numOrders","$sum","totalSales","users","User","numUsers","send","find","populate","user","order","findById","params","id","status","message","post","orderItems","body","shipping","payment","itemsPrice","taxPrice","shippingPrice","totalPrice","createdOrder","save","delete","deletedOrder","remove","product","put","isPaid","paidAt","Date","now","paymentResult","payerID","paymentID","orderID","updatedOrder","isDelivered","deliveredAt"],"sourceRoot":"C:\\Users\\fraan\\Desktop\\practica\\newecommerce3\\backend\\routers\\","sources":["orderRouter.js"],"sourcesContent":["import express from \"express\";\r\nimport expressAsyncHandler from \"express-async-handler\";\r\nimport { isAuth, isAdmin } from '../utils';\r\nimport Order from \"../models/orderModel\";\r\nimport User from '../models/userModel';\r\n\r\nconst orderRouter = express.Router();\r\n\r\norderRouter.get(\r\n  '/summary',\r\n  isAuth,\r\n  isAdmin,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const orders = await Order.aggregate([\r\n      {\r\n        $group: {\r\n          _id: null,\r\n          numOrders: { $sum: 1 },\r\n          totalSales: { $sum: '$totalPrice' },\r\n        },\r\n      },\r\n    ]);\r\n    const users = await User.aggregate([\r\n      {\r\n        $group: {\r\n          _id: null,\r\n          numUsers: { $sum: 1 },\r\n        },\r\n      },\r\n    ]);\r\n    res.send({ users, orders });\r\n  })\r\n);\r\n\r\norderRouter.get(\r\n  '/',\r\n  isAuth,\r\n  isAdmin,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const orders = await Order.find({}).populate('user');\r\n    res.send(orders);\r\n  })\r\n);\r\n\r\norderRouter.get(\r\n  \"/mine\",\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const orders = await Order.find({ user: req.user._id });\r\n    res.send(orders);\r\n  })\r\n);\r\n\r\norderRouter.get(\r\n  \"/:id\",\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const order = await Order.findById(req.params.id);\r\n    if (order) {\r\n      res.send(order);\r\n    } else {\r\n      res.status(404).send({ message: \"Order Not Found\" });\r\n    }\r\n  })\r\n);\r\n\r\norderRouter.post(\r\n  \"/\",\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const order = new Order({\r\n      orderItems: req.body.orderItems,\r\n      user: req.user._id,\r\n      shipping: req.body.shipping,\r\n      payment: req.body.payment,\r\n      itemsPrice: req.body.itemsPrice,\r\n      taxPrice: req.body.taxPrice,\r\n      shippingPrice: req.body.shippingPrice,\r\n      totalPrice: req.body.totalPrice,\r\n    });\r\n    const createdOrder = await order.save();\r\n    res.status(201).send({ message: \"New Order Created\", order: createdOrder });\r\n  })\r\n);\r\n\r\norderRouter.delete(\r\n  '/:id',\r\n  isAuth,\r\n  isAdmin,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const order = await Order.findById(req.params.id);\r\n    if (order) {\r\n      const deletedOrder = await order.remove();\r\n      res.send({ message: 'Order Deleted', product: deletedOrder });\r\n    } else {\r\n      res.status(404).send({ message: 'Order Not Found' });\r\n    }\r\n  })\r\n);\r\n\r\norderRouter.put(\r\n  \"/:id/pay\",\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const order = await Order.findById(req.params.id);\r\n    if (order) {\r\n      order.isPaid = true;\r\n      order.paidAt = Date.now();\r\n      order.payment.paymentResult = {\r\n        payerID: req.body.payerID,\r\n        paymentID: req.body.paymentID,\r\n        orderID: req.body.orderID,\r\n      };\r\n      const updatedOrder = await order.save();\r\n      res.send({ message: \"Order Paid\", order: updatedOrder });\r\n    } else {\r\n      res.status(404).send({ message: \"Order Not Found.\" });\r\n    }\r\n  })\r\n);\r\n\r\norderRouter.put(\r\n  '/:id/deliver',\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const order = await Order.findById(req.params.id);\r\n    if (order) {\r\n      order.isDelivered = true;\r\n      order.deliveredAt = Date.now();\r\n      const updatedOrder = await order.save();\r\n      res.send({ message: 'Order Delivered', order: updatedOrder });\r\n    } else {\r\n      res.status(404).send({ message: 'Order Not Found.' });\r\n    }\r\n  })\r\n);\r\nexport default orderRouter"],"mappings":"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"}},"mtime":1667439810574},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\models\\\\orderModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst orderSchema = new _mongoose.default.Schema({\n  orderItems: [{\n    name: {\n      type: String,\n      required: true\n    },\n    image: {\n      type: String,\n      required: true\n    },\n    price: {\n      type: Number,\n      required: true\n    },\n    qty: {\n      type: Number,\n      required: true\n    },\n    product: {\n      type: _mongoose.default.Schema.Types.ObjectId,\n      ref: \"Product\",\n      required: true\n    }\n  }],\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: \"User\",\n    required: true\n  },\n  shipping: {\n    address: String,\n    city: String,\n    postalCode: String,\n    country: String\n  },\n  payment: {\n    paymentMethod: String,\n    paymentResult: {\n      orderID: String,\n      payerID: String,\n      paymentID: String\n    }\n  },\n  itemsPrice: Number,\n  taxPrice: Number,\n  shippingPrice: Number,\n  totalPrice: Number,\n  isPaid: {\n    type: Boolean,\n    required: true,\n    default: false\n  },\n  paidAt: Date,\n  isDelivered: {\n    type: Boolean,\n    required: true,\n    default: false\n  },\n  deliveredAt: Date\n}, {\n  timestamps: true\n});\nconst Order = _mongoose.default.model('Order', orderSchema);\nvar _default = Order;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJvcmRlclNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwib3JkZXJJdGVtcyIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJpbWFnZSIsInByaWNlIiwiTnVtYmVyIiwicXR5IiwicHJvZHVjdCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ1c2VyIiwic2hpcHBpbmciLCJhZGRyZXNzIiwiY2l0eSIsInBvc3RhbENvZGUiLCJjb3VudHJ5IiwicGF5bWVudCIsInBheW1lbnRNZXRob2QiLCJwYXltZW50UmVzdWx0Iiwib3JkZXJJRCIsInBheWVySUQiLCJwYXltZW50SUQiLCJpdGVtc1ByaWNlIiwidGF4UHJpY2UiLCJzaGlwcGluZ1ByaWNlIiwidG90YWxQcmljZSIsImlzUGFpZCIsIkJvb2xlYW4iLCJkZWZhdWx0IiwicGFpZEF0IiwiRGF0ZSIsImlzRGVsaXZlcmVkIiwiZGVsaXZlcmVkQXQiLCJ0aW1lc3RhbXBzIiwiT3JkZXIiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxmcmFhblxcRGVza3RvcFxccHJhY3RpY2FcXG5ld2Vjb21tZXJjZTNcXGJhY2tlbmRcXG1vZGVsc1xcIiwic291cmNlcyI6WyJvcmRlck1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IG9yZGVyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcclxuICB7XHJcbiAgICBvcmRlckl0ZW1zOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgICAgICBpbWFnZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICAgICAgcHJpY2U6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgICAgIHF0eTogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICAgICAgcHJvZHVjdDoge1xyXG4gICAgICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgICAgICAgcmVmOiBcIlByb2R1Y3RcIixcclxuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICBdLFxyXG4gICAgdXNlcjogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogXCJVc2VyXCIsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBzaGlwcGluZzoge1xyXG4gICAgICBhZGRyZXNzOiBTdHJpbmcsXHJcbiAgICAgIGNpdHk6IFN0cmluZyxcclxuICAgICAgcG9zdGFsQ29kZTogU3RyaW5nLFxyXG4gICAgICBjb3VudHJ5OiBTdHJpbmcsXHJcbiAgICB9LFxyXG4gICAgcGF5bWVudDoge1xyXG4gICAgICBwYXltZW50TWV0aG9kOiBTdHJpbmcsXHJcbiAgICAgIHBheW1lbnRSZXN1bHQ6IHtcclxuICAgICAgICBvcmRlcklEOiBTdHJpbmcsXHJcbiAgICAgICAgcGF5ZXJJRDogU3RyaW5nLFxyXG4gICAgICAgIHBheW1lbnRJRDogU3RyaW5nLFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIGl0ZW1zUHJpY2U6IE51bWJlcixcclxuICAgIHRheFByaWNlOiBOdW1iZXIsXHJcbiAgICBzaGlwcGluZ1ByaWNlOiBOdW1iZXIsXHJcbiAgICB0b3RhbFByaWNlOiBOdW1iZXIsXHJcbiAgICBpc1BhaWQ6IHsgdHlwZTogQm9vbGVhbiwgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6IGZhbHNlIH0sXHJcbiAgICBwYWlkQXQ6IERhdGUsXHJcbiAgICBpc0RlbGl2ZXJlZDogeyB0eXBlOiBCb29sZWFuLCByZXF1aXJlZDogdHJ1ZSwgZGVmYXVsdDogZmFsc2UgfSxcclxuICAgIGRlbGl2ZXJlZEF0OiBEYXRlLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZSxcclxuICB9XHJcbik7XHJcbmNvbnN0IE9yZGVyID0gbW9uZ29vc2UubW9kZWwoJ09yZGVyJywgb3JkZXJTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBPcmRlcjtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUFnQztBQUVoQyxNQUFNQSxXQUFXLEdBQUcsSUFBSUMsaUJBQVEsQ0FBQ0MsTUFBTSxDQUNyQztFQUNFQyxVQUFVLEVBQUUsQ0FDVjtJQUNFQyxJQUFJLEVBQUU7TUFBRUMsSUFBSSxFQUFFQyxNQUFNO01BQUVDLFFBQVEsRUFBRTtJQUFLLENBQUM7SUFDdENDLEtBQUssRUFBRTtNQUFFSCxJQUFJLEVBQUVDLE1BQU07TUFBRUMsUUFBUSxFQUFFO0lBQUssQ0FBQztJQUN2Q0UsS0FBSyxFQUFFO01BQUVKLElBQUksRUFBRUssTUFBTTtNQUFFSCxRQUFRLEVBQUU7SUFBSyxDQUFDO0lBQ3ZDSSxHQUFHLEVBQUU7TUFBRU4sSUFBSSxFQUFFSyxNQUFNO01BQUVILFFBQVEsRUFBRTtJQUFLLENBQUM7SUFDckNLLE9BQU8sRUFBRTtNQUNQUCxJQUFJLEVBQUVKLGlCQUFRLENBQUNDLE1BQU0sQ0FBQ1csS0FBSyxDQUFDQyxRQUFRO01BQ3BDQyxHQUFHLEVBQUUsU0FBUztNQUNkUixRQUFRLEVBQUU7SUFDWjtFQUNGLENBQUMsQ0FDRjtFQUNEUyxJQUFJLEVBQUU7SUFBRVgsSUFBSSxFQUFFSixpQkFBUSxDQUFDQyxNQUFNLENBQUNXLEtBQUssQ0FBQ0MsUUFBUTtJQUFFQyxHQUFHLEVBQUUsTUFBTTtJQUFFUixRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQzNFVSxRQUFRLEVBQUU7SUFDUkMsT0FBTyxFQUFFWixNQUFNO0lBQ2ZhLElBQUksRUFBRWIsTUFBTTtJQUNaYyxVQUFVLEVBQUVkLE1BQU07SUFDbEJlLE9BQU8sRUFBRWY7RUFDWCxDQUFDO0VBQ0RnQixPQUFPLEVBQUU7SUFDUEMsYUFBYSxFQUFFakIsTUFBTTtJQUNyQmtCLGFBQWEsRUFBRTtNQUNiQyxPQUFPLEVBQUVuQixNQUFNO01BQ2ZvQixPQUFPLEVBQUVwQixNQUFNO01BQ2ZxQixTQUFTLEVBQUVyQjtJQUNiO0VBQ0YsQ0FBQztFQUNEc0IsVUFBVSxFQUFFbEIsTUFBTTtFQUNsQm1CLFFBQVEsRUFBRW5CLE1BQU07RUFDaEJvQixhQUFhLEVBQUVwQixNQUFNO0VBQ3JCcUIsVUFBVSxFQUFFckIsTUFBTTtFQUNsQnNCLE1BQU0sRUFBRTtJQUFFM0IsSUFBSSxFQUFFNEIsT0FBTztJQUFFMUIsUUFBUSxFQUFFLElBQUk7SUFBRTJCLE9BQU8sRUFBRTtFQUFNLENBQUM7RUFDekRDLE1BQU0sRUFBRUMsSUFBSTtFQUNaQyxXQUFXLEVBQUU7SUFBRWhDLElBQUksRUFBRTRCLE9BQU87SUFBRTFCLFFBQVEsRUFBRSxJQUFJO0lBQUUyQixPQUFPLEVBQUU7RUFBTSxDQUFDO0VBQzlESSxXQUFXLEVBQUVGO0FBQ2YsQ0FBQyxFQUNEO0VBQ0VHLFVBQVUsRUFBRTtBQUNkLENBQUMsQ0FDRjtBQUNELE1BQU1DLEtBQUssR0FBR3ZDLGlCQUFRLENBQUN3QyxLQUFLLENBQUMsT0FBTyxFQUFFekMsV0FBVyxDQUFDO0FBQUMsZUFDcEN3QyxLQUFLO0FBQUEifQ==","map":{"version":3,"names":["orderSchema","mongoose","Schema","orderItems","name","type","String","required","image","price","Number","qty","product","Types","ObjectId","ref","user","shipping","address","city","postalCode","country","payment","paymentMethod","paymentResult","orderID","payerID","paymentID","itemsPrice","taxPrice","shippingPrice","totalPrice","isPaid","Boolean","default","paidAt","Date","isDelivered","deliveredAt","timestamps","Order","model"],"sourceRoot":"C:\\Users\\fraan\\Desktop\\practica\\newecommerce3\\backend\\models\\","sources":["orderModel.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst orderSchema = new mongoose.Schema(\r\n  {\r\n    orderItems: [\r\n      {\r\n        name: { type: String, required: true },\r\n        image: { type: String, required: true },\r\n        price: { type: Number, required: true },\r\n        qty: { type: Number, required: true },\r\n        product: {\r\n          type: mongoose.Schema.Types.ObjectId,\r\n          ref: \"Product\",\r\n          required: true,\r\n        },\r\n      },\r\n    ],\r\n    user: { type: mongoose.Schema.Types.ObjectId, ref: \"User\", required: true },\r\n    shipping: {\r\n      address: String,\r\n      city: String,\r\n      postalCode: String,\r\n      country: String,\r\n    },\r\n    payment: {\r\n      paymentMethod: String,\r\n      paymentResult: {\r\n        orderID: String,\r\n        payerID: String,\r\n        paymentID: String,\r\n      },\r\n    },\r\n    itemsPrice: Number,\r\n    taxPrice: Number,\r\n    shippingPrice: Number,\r\n    totalPrice: Number,\r\n    isPaid: { type: Boolean, required: true, default: false },\r\n    paidAt: Date,\r\n    isDelivered: { type: Boolean, required: true, default: false },\r\n    deliveredAt: Date,\r\n  },\r\n  {\r\n    timestamps: true,\r\n  }\r\n);\r\nconst Order = mongoose.model('Order', orderSchema);\r\nexport default Order;\r\n"],"mappings":";;;;;;AAAA;AAAgC;AAEhC,MAAMA,WAAW,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CACrC;EACEC,UAAU,EAAE,CACV;IACEC,IAAI,EAAE;MAAEC,IAAI,EAAEC,MAAM;MAAEC,QAAQ,EAAE;IAAK,CAAC;IACtCC,KAAK,EAAE;MAAEH,IAAI,EAAEC,MAAM;MAAEC,QAAQ,EAAE;IAAK,CAAC;IACvCE,KAAK,EAAE;MAAEJ,IAAI,EAAEK,MAAM;MAAEH,QAAQ,EAAE;IAAK,CAAC;IACvCI,GAAG,EAAE;MAAEN,IAAI,EAAEK,MAAM;MAAEH,QAAQ,EAAE;IAAK,CAAC;IACrCK,OAAO,EAAE;MACPP,IAAI,EAAEJ,iBAAQ,CAACC,MAAM,CAACW,KAAK,CAACC,QAAQ;MACpCC,GAAG,EAAE,SAAS;MACdR,QAAQ,EAAE;IACZ;EACF,CAAC,CACF;EACDS,IAAI,EAAE;IAAEX,IAAI,EAAEJ,iBAAQ,CAACC,MAAM,CAACW,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAE,MAAM;IAAER,QAAQ,EAAE;EAAK,CAAC;EAC3EU,QAAQ,EAAE;IACRC,OAAO,EAAEZ,MAAM;IACfa,IAAI,EAAEb,MAAM;IACZc,UAAU,EAAEd,MAAM;IAClBe,OAAO,EAAEf;EACX,CAAC;EACDgB,OAAO,EAAE;IACPC,aAAa,EAAEjB,MAAM;IACrBkB,aAAa,EAAE;MACbC,OAAO,EAAEnB,MAAM;MACfoB,OAAO,EAAEpB,MAAM;MACfqB,SAAS,EAAErB;IACb;EACF,CAAC;EACDsB,UAAU,EAAElB,MAAM;EAClBmB,QAAQ,EAAEnB,MAAM;EAChBoB,aAAa,EAAEpB,MAAM;EACrBqB,UAAU,EAAErB,MAAM;EAClBsB,MAAM,EAAE;IAAE3B,IAAI,EAAE4B,OAAO;IAAE1B,QAAQ,EAAE,IAAI;IAAE2B,OAAO,EAAE;EAAM,CAAC;EACzDC,MAAM,EAAEC,IAAI;EACZC,WAAW,EAAE;IAAEhC,IAAI,EAAE4B,OAAO;IAAE1B,QAAQ,EAAE,IAAI;IAAE2B,OAAO,EAAE;EAAM,CAAC;EAC9DI,WAAW,EAAEF;AACf,CAAC,EACD;EACEG,UAAU,EAAE;AACd,CAAC,CACF;AACD,MAAMC,KAAK,GAAGvC,iBAAQ,CAACwC,KAAK,CAAC,OAAO,EAAEzC,WAAW,CAAC;AAAC,eACpCwC,KAAK;AAAA"}},"mtime":1667347363506},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\routers\\\\productRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\nvar _utils = require(\"../utils\");\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst productRouter = _express.default.Router();\nproductRouter.get(\"/\", (0, _expressAsyncHandler.default)(async (req, res) => {\n  const products = await _productModel.default.find({});\n  res.send(products);\n}));\nproductRouter.get(\"/:id\", (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n  res.send(product);\n}));\nproductRouter.post(\"/\", _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = new _productModel.default({\n    name: \"sample product\",\n    description: \"sample desc\",\n    category: \"sample category\",\n    brand: \"sample brand\",\n    image: \"/images/product-1.jpg\"\n  });\n  const createdProduct = await product.save();\n  if (createdProduct) {\n    res.status(201).send({\n      message: \"Product Created\",\n      product: createdProduct\n    });\n  } else {\n    res.status(500).send({\n      message: \"Error in creating product\"\n    });\n  }\n}));\nproductRouter.put(\"/:id\", _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.brand = req.body.brand;\n    product.category = req.body.category;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n    if (updatedProduct) {\n      res.send({\n        message: \"Product Updated\",\n        product: updatedProduct\n      });\n    } else {\n      res.status(500).send({\n        message: \"Error in updaing product\"\n      });\n    }\n  } else {\n    res.status(404).send({\n      message: \"Product Not Found\"\n    });\n  }\n}));\nproductRouter.delete('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n  if (product) {\n    const deletedProduct = await product.remove();\n    res.send({\n      message: 'Product Deleted',\n      product: deletedProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nvar _default = productRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0Um91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImV4cHJlc3NBc3luY0hhbmRsZXIiLCJyZXEiLCJyZXMiLCJwcm9kdWN0cyIsIlByb2R1Y3QiLCJmaW5kIiwic2VuZCIsInByb2R1Y3QiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwicG9zdCIsImlzQXV0aCIsImlzQWRtaW4iLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJjYXRlZ29yeSIsImJyYW5kIiwiaW1hZ2UiLCJjcmVhdGVkUHJvZHVjdCIsInNhdmUiLCJzdGF0dXMiLCJtZXNzYWdlIiwicHV0IiwicHJvZHVjdElkIiwiYm9keSIsInByaWNlIiwiY291bnRJblN0b2NrIiwidXBkYXRlZFByb2R1Y3QiLCJkZWxldGUiLCJkZWxldGVkUHJvZHVjdCIsInJlbW92ZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxmcmFhblxcRGVza3RvcFxccHJhY3RpY2FcXG5ld2Vjb21tZXJjZTNcXGJhY2tlbmRcXHJvdXRlcnNcXCIsInNvdXJjZXMiOlsicHJvZHVjdFJvdXRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgZXhwcmVzc0FzeW5jSGFuZGxlciBmcm9tIFwiZXhwcmVzcy1hc3luYy1oYW5kbGVyXCI7XHJcbmltcG9ydCB7IGlzQXV0aCwgaXNBZG1pbiB9IGZyb20gXCIuLi91dGlsc1wiO1xyXG5pbXBvcnQgUHJvZHVjdCBmcm9tIFwiLi4vbW9kZWxzL3Byb2R1Y3RNb2RlbFwiO1xyXG5cclxuY29uc3QgcHJvZHVjdFJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbnByb2R1Y3RSb3V0ZXIuZ2V0KFxyXG4gIFwiL1wiLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IFByb2R1Y3QuZmluZCh7fSk7XHJcbiAgICByZXMuc2VuZChwcm9kdWN0cyk7XHJcbiAgfSlcclxuKTtcclxucHJvZHVjdFJvdXRlci5nZXQoXHJcbiAgXCIvOmlkXCIsXHJcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gICAgcmVzLnNlbmQocHJvZHVjdCk7XHJcbiAgfSlcclxuKTtcclxuXHJcbnByb2R1Y3RSb3V0ZXIucG9zdChcclxuICBcIi9cIixcclxuICBpc0F1dGgsXHJcbiAgaXNBZG1pbixcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgcHJvZHVjdCA9IG5ldyBQcm9kdWN0KHtcclxuICAgICAgbmFtZTogXCJzYW1wbGUgcHJvZHVjdFwiLFxyXG4gICAgICBkZXNjcmlwdGlvbjogXCJzYW1wbGUgZGVzY1wiLFxyXG4gICAgICBjYXRlZ29yeTogXCJzYW1wbGUgY2F0ZWdvcnlcIixcclxuICAgICAgYnJhbmQ6IFwic2FtcGxlIGJyYW5kXCIsXHJcbiAgICAgIGltYWdlOiBcIi9pbWFnZXMvcHJvZHVjdC0xLmpwZ1wiLFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBjcmVhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xyXG4gICAgaWYgKGNyZWF0ZWRQcm9kdWN0KSB7XHJcbiAgICAgIHJlc1xyXG4gICAgICAgIC5zdGF0dXMoMjAxKVxyXG4gICAgICAgIC5zZW5kKHsgbWVzc2FnZTogXCJQcm9kdWN0IENyZWF0ZWRcIiwgcHJvZHVjdDogY3JlYXRlZFByb2R1Y3QgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiRXJyb3IgaW4gY3JlYXRpbmcgcHJvZHVjdFwiIH0pO1xyXG4gICAgfVxyXG4gIH0pXHJcbik7XHJcblxyXG5wcm9kdWN0Um91dGVyLnB1dChcclxuICBcIi86aWRcIixcclxuICBpc0F1dGgsXHJcbiAgaXNBZG1pbixcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgcHJvZHVjdElkID0gcmVxLnBhcmFtcy5pZDtcclxuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHByb2R1Y3RJZCk7XHJcbiAgICBpZiAocHJvZHVjdCkge1xyXG4gICAgICBwcm9kdWN0Lm5hbWUgPSByZXEuYm9keS5uYW1lO1xyXG4gICAgICBwcm9kdWN0LnByaWNlID0gcmVxLmJvZHkucHJpY2U7XHJcbiAgICAgIHByb2R1Y3QuaW1hZ2UgPSByZXEuYm9keS5pbWFnZTtcclxuICAgICAgcHJvZHVjdC5icmFuZCA9IHJlcS5ib2R5LmJyYW5kO1xyXG4gICAgICBwcm9kdWN0LmNhdGVnb3J5ID0gcmVxLmJvZHkuY2F0ZWdvcnk7XHJcbiAgICAgIHByb2R1Y3QuY291bnRJblN0b2NrID0gcmVxLmJvZHkuY291bnRJblN0b2NrO1xyXG4gICAgICBwcm9kdWN0LmRlc2NyaXB0aW9uID0gcmVxLmJvZHkuZGVzY3JpcHRpb247XHJcbiAgICAgIGNvbnN0IHVwZGF0ZWRQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5zYXZlKCk7XHJcbiAgICAgIGlmICh1cGRhdGVkUHJvZHVjdCkge1xyXG4gICAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogXCJQcm9kdWN0IFVwZGF0ZWRcIiwgcHJvZHVjdDogdXBkYXRlZFByb2R1Y3QgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIkVycm9yIGluIHVwZGFpbmcgcHJvZHVjdFwiIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6IFwiUHJvZHVjdCBOb3QgRm91bmRcIiB9KTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG5cclxucHJvZHVjdFJvdXRlci5kZWxldGUoXHJcbiAgJy86aWQnLFxyXG4gIGlzQXV0aCxcclxuICBpc0FkbWluLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICAgIGlmIChwcm9kdWN0KSB7XHJcbiAgICAgIGNvbnN0IGRlbGV0ZWRQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5yZW1vdmUoKTtcclxuICAgICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBEZWxldGVkJywgcHJvZHVjdDogZGVsZXRlZFByb2R1Y3QgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IE5vdCBGb3VuZCcgfSk7XHJcbiAgICB9XHJcbiAgfSlcclxuKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHByb2R1Y3RSb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBNkM7QUFFN0MsTUFBTUEsYUFBYSxHQUFHQyxnQkFBTyxDQUFDQyxNQUFNLEVBQUU7QUFDdENGLGFBQWEsQ0FBQ0csR0FBRyxDQUNmLEdBQUcsRUFDSCxJQUFBQyw0QkFBbUIsRUFBQyxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN0QyxNQUFNQyxRQUFRLEdBQUcsTUFBTUMscUJBQU8sQ0FBQ0MsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0VBQ3ZDSCxHQUFHLENBQUNJLElBQUksQ0FBQ0gsUUFBUSxDQUFDO0FBQ3BCLENBQUMsQ0FBQyxDQUNIO0FBQ0RQLGFBQWEsQ0FBQ0csR0FBRyxDQUNmLE1BQU0sRUFDTixJQUFBQyw0QkFBbUIsRUFBQyxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN0QyxNQUFNSyxPQUFPLEdBQUcsTUFBTUgscUJBQU8s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","map":{"version":3,"names":["productRouter","express","Router","get","expressAsyncHandler","req","res","products","Product","find","send","product","findById","params","id","post","isAuth","isAdmin","name","description","category","brand","image","createdProduct","save","status","message","put","productId","body","price","countInStock","updatedProduct","delete","deletedProduct","remove"],"sourceRoot":"C:\\Users\\fraan\\Desktop\\practica\\newecommerce3\\backend\\routers\\","sources":["productRouter.js"],"sourcesContent":["import express from \"express\";\r\nimport expressAsyncHandler from \"express-async-handler\";\r\nimport { isAuth, isAdmin } from \"../utils\";\r\nimport Product from \"../models/productModel\";\r\n\r\nconst productRouter = express.Router();\r\nproductRouter.get(\r\n  \"/\",\r\n  expressAsyncHandler(async (req, res) => {\r\n    const products = await Product.find({});\r\n    res.send(products);\r\n  })\r\n);\r\nproductRouter.get(\r\n  \"/:id\",\r\n  expressAsyncHandler(async (req, res) => {\r\n    const product = await Product.findById(req.params.id);\r\n    res.send(product);\r\n  })\r\n);\r\n\r\nproductRouter.post(\r\n  \"/\",\r\n  isAuth,\r\n  isAdmin,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const product = new Product({\r\n      name: \"sample product\",\r\n      description: \"sample desc\",\r\n      category: \"sample category\",\r\n      brand: \"sample brand\",\r\n      image: \"/images/product-1.jpg\",\r\n    });\r\n    const createdProduct = await product.save();\r\n    if (createdProduct) {\r\n      res\r\n        .status(201)\r\n        .send({ message: \"Product Created\", product: createdProduct });\r\n    } else {\r\n      res.status(500).send({ message: \"Error in creating product\" });\r\n    }\r\n  })\r\n);\r\n\r\nproductRouter.put(\r\n  \"/:id\",\r\n  isAuth,\r\n  isAdmin,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const productId = req.params.id;\r\n    const product = await Product.findById(productId);\r\n    if (product) {\r\n      product.name = req.body.name;\r\n      product.price = req.body.price;\r\n      product.image = req.body.image;\r\n      product.brand = req.body.brand;\r\n      product.category = req.body.category;\r\n      product.countInStock = req.body.countInStock;\r\n      product.description = req.body.description;\r\n      const updatedProduct = await product.save();\r\n      if (updatedProduct) {\r\n        res.send({ message: \"Product Updated\", product: updatedProduct });\r\n      } else {\r\n        res.status(500).send({ message: \"Error in updaing product\" });\r\n      }\r\n    } else {\r\n      res.status(404).send({ message: \"Product Not Found\" });\r\n    }\r\n  })\r\n);\r\n\r\nproductRouter.delete(\r\n  '/:id',\r\n  isAuth,\r\n  isAdmin,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const product = await Product.findById(req.params.id);\r\n    if (product) {\r\n      const deletedProduct = await product.remove();\r\n      res.send({ message: 'Product Deleted', product: deletedProduct });\r\n    } else {\r\n      res.status(404).send({ message: 'Product Not Found' });\r\n    }\r\n  })\r\n);\r\n\r\nexport default productRouter;\r\n"],"mappings":"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"}},"mtime":1667426323047},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\routers\\\\productRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\nvar _utils = require(\"../utils\");\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst productRouter = _express.default.Router();\nproductRouter.get(\"/\", (0, _expressAsyncHandler.default)(async (req, res) => {\n  const products = await _productModel.default.find({});\n  res.send(products);\n}));\nproductRouter.get(\"/:id\", (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n  res.send(product);\n}));\nproductRouter.post(\"/\", _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = new _productModel.default({\n    name: \"sample product\",\n    description: \"sample desc\",\n    category: \"sample category\",\n    brand: \"sample brand\",\n    image: \"/images/product-1.jpg\"\n  });\n  const createdProduct = await product.save();\n  if (createdProduct) {\n    res.status(201).send({\n      message: \"Product Created\",\n      product: createdProduct\n    });\n  } else {\n    res.status(500).send({\n      message: \"Error in creating product\"\n    });\n  }\n}));\nproductRouter.put(\"/:id\", _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.brand = req.body.brand;\n    product.category = req.body.category;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n    if (updatedProduct) {\n      res.send({\n        message: \"Product Updated\",\n        product: updatedProduct\n      });\n    } else {\n      res.status(500).send({\n        message: \"Error in updaing product\"\n      });\n    }\n  } else {\n    res.status(404).send({\n      message: \"Product Not Found\"\n    });\n  }\n}));\nproductRouter.delete('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n  if (product) {\n    const deletedProduct = await product.remove();\n    res.send({\n      message: 'Product Deleted',\n      product: deletedProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nvar _default = productRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0Um91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImV4cHJlc3NBc3luY0hhbmRsZXIiLCJyZXEiLCJyZXMiLCJwcm9kdWN0cyIsIlByb2R1Y3QiLCJmaW5kIiwic2VuZCIsInByb2R1Y3QiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwicG9zdCIsImlzQXV0aCIsImlzQWRtaW4iLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJjYXRlZ29yeSIsImJyYW5kIiwiaW1hZ2UiLCJjcmVhdGVkUHJvZHVjdCIsInNhdmUiLCJzdGF0dXMiLCJtZXNzYWdlIiwicHV0IiwicHJvZHVjdElkIiwiYm9keSIsInByaWNlIiwiY291bnRJblN0b2NrIiwidXBkYXRlZFByb2R1Y3QiLCJkZWxldGUiLCJkZWxldGVkUHJvZHVjdCIsInJlbW92ZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxmcmFhblxcRGVza3RvcFxccHJhY3RpY2FcXG5ld2Vjb21tZXJjZTNcXGJhY2tlbmRcXHJvdXRlcnNcXCIsInNvdXJjZXMiOlsicHJvZHVjdFJvdXRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgZXhwcmVzc0FzeW5jSGFuZGxlciBmcm9tIFwiZXhwcmVzcy1hc3luYy1oYW5kbGVyXCI7XHJcbmltcG9ydCB7IGlzQXV0aCwgaXNBZG1pbiB9IGZyb20gXCIuLi91dGlsc1wiO1xyXG5pbXBvcnQgUHJvZHVjdCBmcm9tIFwiLi4vbW9kZWxzL3Byb2R1Y3RNb2RlbFwiO1xyXG5cclxuY29uc3QgcHJvZHVjdFJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbnByb2R1Y3RSb3V0ZXIuZ2V0KFxyXG4gIFwiL1wiLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IFByb2R1Y3QuZmluZCh7fSk7XHJcbiAgICByZXMuc2VuZChwcm9kdWN0cyk7XHJcbiAgfSlcclxuKTtcclxucHJvZHVjdFJvdXRlci5nZXQoXHJcbiAgXCIvOmlkXCIsXHJcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gICAgcmVzLnNlbmQocHJvZHVjdCk7XHJcbiAgfSlcclxuKTtcclxuXHJcbnByb2R1Y3RSb3V0ZXIucG9zdChcclxuICBcIi9cIixcclxuICBpc0F1dGgsXHJcbiAgaXNBZG1pbixcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgcHJvZHVjdCA9IG5ldyBQcm9kdWN0KHtcclxuICAgICAgbmFtZTogXCJzYW1wbGUgcHJvZHVjdFwiLFxyXG4gICAgICBkZXNjcmlwdGlvbjogXCJzYW1wbGUgZGVzY1wiLFxyXG4gICAgICBjYXRlZ29yeTogXCJzYW1wbGUgY2F0ZWdvcnlcIixcclxuICAgICAgYnJhbmQ6IFwic2FtcGxlIGJyYW5kXCIsXHJcbiAgICAgIGltYWdlOiBcIi9pbWFnZXMvcHJvZHVjdC0xLmpwZ1wiLFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBjcmVhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xyXG4gICAgaWYgKGNyZWF0ZWRQcm9kdWN0KSB7XHJcbiAgICAgIHJlc1xyXG4gICAgICAgIC5zdGF0dXMoMjAxKVxyXG4gICAgICAgIC5zZW5kKHsgbWVzc2FnZTogXCJQcm9kdWN0IENyZWF0ZWRcIiwgcHJvZHVjdDogY3JlYXRlZFByb2R1Y3QgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiRXJyb3IgaW4gY3JlYXRpbmcgcHJvZHVjdFwiIH0pO1xyXG4gICAgfVxyXG4gIH0pXHJcbik7XHJcblxyXG5wcm9kdWN0Um91dGVyLnB1dChcclxuICBcIi86aWRcIixcclxuICBpc0F1dGgsXHJcbiAgaXNBZG1pbixcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgcHJvZHVjdElkID0gcmVxLnBhcmFtcy5pZDtcclxuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHByb2R1Y3RJZCk7XHJcbiAgICBpZiAocHJvZHVjdCkge1xyXG4gICAgICBwcm9kdWN0Lm5hbWUgPSByZXEuYm9keS5uYW1lO1xyXG4gICAgICBwcm9kdWN0LnByaWNlID0gcmVxLmJvZHkucHJpY2U7XHJcbiAgICAgIHByb2R1Y3QuaW1hZ2UgPSByZXEuYm9keS5pbWFnZTtcclxuICAgICAgcHJvZHVjdC5icmFuZCA9IHJlcS5ib2R5LmJyYW5kO1xyXG4gICAgICBwcm9kdWN0LmNhdGVnb3J5ID0gcmVxLmJvZHkuY2F0ZWdvcnk7XHJcbiAgICAgIHByb2R1Y3QuY291bnRJblN0b2NrID0gcmVxLmJvZHkuY291bnRJblN0b2NrO1xyXG4gICAgICBwcm9kdWN0LmRlc2NyaXB0aW9uID0gcmVxLmJvZHkuZGVzY3JpcHRpb247XHJcbiAgICAgIGNvbnN0IHVwZGF0ZWRQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5zYXZlKCk7XHJcbiAgICAgIGlmICh1cGRhdGVkUHJvZHVjdCkge1xyXG4gICAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogXCJQcm9kdWN0IFVwZGF0ZWRcIiwgcHJvZHVjdDogdXBkYXRlZFByb2R1Y3QgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIkVycm9yIGluIHVwZGFpbmcgcHJvZHVjdFwiIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6IFwiUHJvZHVjdCBOb3QgRm91bmRcIiB9KTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG5cclxucHJvZHVjdFJvdXRlci5kZWxldGUoXHJcbiAgJy86aWQnLFxyXG4gIGlzQXV0aCxcclxuICBpc0FkbWluLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICAgIGlmIChwcm9kdWN0KSB7XHJcbiAgICAgIGNvbnN0IGRlbGV0ZWRQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5yZW1vdmUoKTtcclxuICAgICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBEZWxldGVkJywgcHJvZHVjdDogZGVsZXRlZFByb2R1Y3QgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IE5vdCBGb3VuZCcgfSk7XHJcbiAgICB9XHJcbiAgfSlcclxuKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHByb2R1Y3RSb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBNkM7QUFFN0MsTUFBTUEsYUFBYSxHQUFHQyxnQkFBTyxDQUFDQyxNQUFNLEVBQUU7QUFDdENGLGFBQWEsQ0FBQ0csR0FBRyxDQUNmLEdBQUcsRUFDSCxJQUFBQyw0QkFBbUIsRUFBQyxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN0QyxNQUFNQyxRQUFRLEdBQUcsTUFBTUMscUJBQU8sQ0FBQ0MsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0VBQ3ZDSCxHQUFHLENBQUNJLElBQUksQ0FBQ0gsUUFBUSxDQUFDO0FBQ3BCLENBQUMsQ0FBQyxDQUNIO0FBQ0RQLGFBQWEsQ0FBQ0csR0FBRyxDQUNmLE1BQU0sRUFDTixJQUFBQyw0QkFBbUIsRUFBQyxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN0QyxNQUFNSyxPQUFPLEdBQUcsTUFBTUgscUJBQU8s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","map":{"version":3,"names":["productRouter","express","Router","get","expressAsyncHandler","req","res","products","Product","find","send","product","findById","params","id","post","isAuth","isAdmin","name","description","category","brand","image","createdProduct","save","status","message","put","productId","body","price","countInStock","updatedProduct","delete","deletedProduct","remove"],"sourceRoot":"C:\\Users\\fraan\\Desktop\\practica\\newecommerce3\\backend\\routers\\","sources":["productRouter.js"],"sourcesContent":["import express from \"express\";\r\nimport expressAsyncHandler from \"express-async-handler\";\r\nimport { isAuth, isAdmin } from \"../utils\";\r\nimport Product from \"../models/productModel\";\r\n\r\nconst productRouter = express.Router();\r\nproductRouter.get(\r\n  \"/\",\r\n  expressAsyncHandler(async (req, res) => {\r\n    const products = await Product.find({});\r\n    res.send(products);\r\n  })\r\n);\r\nproductRouter.get(\r\n  \"/:id\",\r\n  expressAsyncHandler(async (req, res) => {\r\n    const product = await Product.findById(req.params.id);\r\n    res.send(product);\r\n  })\r\n);\r\n\r\nproductRouter.post(\r\n  \"/\",\r\n  isAuth,\r\n  isAdmin,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const product = new Product({\r\n      name: \"sample product\",\r\n      description: \"sample desc\",\r\n      category: \"sample category\",\r\n      brand: \"sample brand\",\r\n      image: \"/images/product-1.jpg\",\r\n    });\r\n    const createdProduct = await product.save();\r\n    if (createdProduct) {\r\n      res\r\n        .status(201)\r\n        .send({ message: \"Product Created\", product: createdProduct });\r\n    } else {\r\n      res.status(500).send({ message: \"Error in creating product\" });\r\n    }\r\n  })\r\n);\r\n\r\nproductRouter.put(\r\n  \"/:id\",\r\n  isAuth,\r\n  isAdmin,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const productId = req.params.id;\r\n    const product = await Product.findById(productId);\r\n    if (product) {\r\n      product.name = req.body.name;\r\n      product.price = req.body.price;\r\n      product.image = req.body.image;\r\n      product.brand = req.body.brand;\r\n      product.category = req.body.category;\r\n      product.countInStock = req.body.countInStock;\r\n      product.description = req.body.description;\r\n      const updatedProduct = await product.save();\r\n      if (updatedProduct) {\r\n        res.send({ message: \"Product Updated\", product: updatedProduct });\r\n      } else {\r\n        res.status(500).send({ message: \"Error in updaing product\" });\r\n      }\r\n    } else {\r\n      res.status(404).send({ message: \"Product Not Found\" });\r\n    }\r\n  })\r\n);\r\n\r\nproductRouter.delete(\r\n  '/:id',\r\n  isAuth,\r\n  isAdmin,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const product = await Product.findById(req.params.id);\r\n    if (product) {\r\n      const deletedProduct = await product.remove();\r\n      res.send({ message: 'Product Deleted', product: deletedProduct });\r\n    } else {\r\n      res.status(404).send({ message: 'Product Not Found' });\r\n    }\r\n  })\r\n);\r\n\r\nexport default productRouter;\r\n"],"mappings":"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"}},"mtime":1667426323047},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\models\\\\productModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst productSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  brand: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    default: 0.0,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0.0,\n    required: true\n  },\n  numReviews: {\n    type: Number,\n    default: 0,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Product = _mongoose.default.model('Product', productSchema);\nvar _default = Product;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0U2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZGVzY3JpcHRpb24iLCJjYXRlZ29yeSIsImJyYW5kIiwiaW1hZ2UiLCJwcmljZSIsIk51bWJlciIsImRlZmF1bHQiLCJjb3VudEluU3RvY2siLCJyYXRpbmciLCJudW1SZXZpZXdzIiwidGltZXN0YW1wcyIsIlByb2R1Y3QiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxmcmFhblxcRGVza3RvcFxccHJhY3RpY2FcXG5ld2Vjb21tZXJjZTNcXGJhY2tlbmRcXG1vZGVsc1xcIiwic291cmNlcyI6WyJwcm9kdWN0TW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IHByb2R1Y3RTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKFxyXG4gIHtcclxuICAgIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgZGVzY3JpcHRpb246IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgY2F0ZWdvcnk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgYnJhbmQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgaW1hZ2U6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgcHJpY2U6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLjAsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBjb3VudEluU3RvY2s6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgcmF0aW5nOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMC4wLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgbnVtUmV2aWV3czogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgfSxcclxuICB7IHRpbWVzdGFtcHM6IHRydWUgfVxyXG4pO1xyXG5jb25zdCBQcm9kdWN0ID0gbW9uZ29vc2UubW9kZWwoJ1Byb2R1Y3QnLCBwcm9kdWN0U2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgUHJvZHVjdDsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQWdDO0FBRWhDLE1BQU1BLGFBQWEsR0FBRyxJQUFJQyxpQkFBUSxDQUFDQyxNQUFNLENBQ3ZDO0VBQ0VDLElBQUksRUFBRTtJQUFFQyxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUN0Q0MsV0FBVyxFQUFFO0lBQUVILElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQzdDRSxRQUFRLEVBQUU7SUFBRUosSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDMUNHLEtBQUssRUFBRTtJQUFFTCxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUN2Q0ksS0FBSyxFQUFFO0lBQUVOLElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ3ZDSyxLQUFLLEVBQUU7SUFBRVAsSUFBSSxFQUFFUSxNQUFNO0lBQUVDLE9BQU8sRUFBRSxHQUFHO0lBQUVQLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDckRRLFlBQVksRUFBRTtJQUFFVixJQUFJLEVBQUVRLE1BQU07SUFBRUMsT0FBTyxFQUFFLENBQUM7SUFBRVAsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUMxRFMsTUFBTSxFQUFFO0lBQUVYLElBQUksRUFBRVEsTUFBTTtJQUFFQyxPQUFPLEVBQUUsR0FBRztJQUFFUCxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ3REVSxVQUFVLEVBQUU7SUFBRVosSUFBSSxFQUFFUSxNQUFNO0lBQUVDLE9BQU8sRUFBRSxDQUFDO0lBQUVQLFFBQVEsRUFBRTtFQUFLO0FBQ3pELENBQUMsRUFDRDtFQUFFVyxVQUFVLEVBQUU7QUFBSyxDQUFDLENBQ3JCO0FBQ0QsTUFBTUMsT0FBTyxHQUFHakIsaUJBQVEsQ0FBQ2tCLEtBQUssQ0FBQyxTQUFTLEVBQUVuQixhQUFhLENBQUM7QUFBQyxlQUMxQ2tCLE9BQU87QUFBQSJ9","map":{"version":3,"names":["productSchema","mongoose","Schema","name","type","String","required","description","category","brand","image","price","Number","default","countInStock","rating","numReviews","timestamps","Product","model"],"sourceRoot":"C:\\Users\\fraan\\Desktop\\practica\\newecommerce3\\backend\\models\\","sources":["productModel.js"],"sourcesContent":["import mongoose from 'mongoose';\r\n\r\nconst productSchema = new mongoose.Schema(\r\n  {\r\n    name: { type: String, required: true },\r\n    description: { type: String, required: true },\r\n    category: { type: String, required: true },\r\n    brand: { type: String, required: true },\r\n    image: { type: String, required: true },\r\n    price: { type: Number, default: 0.0, required: true },\r\n    countInStock: { type: Number, default: 0, required: true },\r\n    rating: { type: Number, default: 0.0, required: true },\r\n    numReviews: { type: Number, default: 0, required: true },\r\n  },\r\n  { timestamps: true }\r\n);\r\nconst Product = mongoose.model('Product', productSchema);\r\nexport default Product;"],"mappings":";;;;;;AAAA;AAAgC;AAEhC,MAAMA,aAAa,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CACvC;EACEC,IAAI,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtCC,WAAW,EAAE;IAAEH,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC7CE,QAAQ,EAAE;IAAEJ,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC1CG,KAAK,EAAE;IAAEL,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACvCI,KAAK,EAAE;IAAEN,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACvCK,KAAK,EAAE;IAAEP,IAAI,EAAEQ,MAAM;IAAEC,OAAO,EAAE,GAAG;IAAEP,QAAQ,EAAE;EAAK,CAAC;EACrDQ,YAAY,EAAE;IAAEV,IAAI,EAAEQ,MAAM;IAAEC,OAAO,EAAE,CAAC;IAAEP,QAAQ,EAAE;EAAK,CAAC;EAC1DS,MAAM,EAAE;IAAEX,IAAI,EAAEQ,MAAM;IAAEC,OAAO,EAAE,GAAG;IAAEP,QAAQ,EAAE;EAAK,CAAC;EACtDU,UAAU,EAAE;IAAEZ,IAAI,EAAEQ,MAAM;IAAEC,OAAO,EAAE,CAAC;IAAEP,QAAQ,EAAE;EAAK;AACzD,CAAC,EACD;EAAEW,UAAU,EAAE;AAAK,CAAC,CACrB;AACD,MAAMC,OAAO,GAAGjB,iBAAQ,CAACkB,KAAK,CAAC,SAAS,EAAEnB,aAAa,CAAC;AAAC,eAC1CkB,OAAO;AAAA"}},"mtime":1667423871534},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\models\\\\productModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst productSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  brand: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    default: 0.0,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0.0,\n    required: true\n  },\n  numReviews: {\n    type: Number,\n    default: 0,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Product = _mongoose.default.model('Product', productSchema);\nvar _default = Product;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0U2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZGVzY3JpcHRpb24iLCJjYXRlZ29yeSIsImJyYW5kIiwiaW1hZ2UiLCJwcmljZSIsIk51bWJlciIsImRlZmF1bHQiLCJjb3VudEluU3RvY2siLCJyYXRpbmciLCJudW1SZXZpZXdzIiwidGltZXN0YW1wcyIsIlByb2R1Y3QiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxmcmFhblxcRGVza3RvcFxccHJhY3RpY2FcXG5ld2Vjb21tZXJjZTNcXGJhY2tlbmRcXG1vZGVsc1xcIiwic291cmNlcyI6WyJwcm9kdWN0TW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IHByb2R1Y3RTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKFxyXG4gIHtcclxuICAgIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgZGVzY3JpcHRpb246IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgY2F0ZWdvcnk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgYnJhbmQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgaW1hZ2U6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgcHJpY2U6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLjAsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBjb3VudEluU3RvY2s6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgcmF0aW5nOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMC4wLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgbnVtUmV2aWV3czogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgfSxcclxuICB7IHRpbWVzdGFtcHM6IHRydWUgfVxyXG4pO1xyXG5jb25zdCBQcm9kdWN0ID0gbW9uZ29vc2UubW9kZWwoJ1Byb2R1Y3QnLCBwcm9kdWN0U2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgUHJvZHVjdDsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQWdDO0FBRWhDLE1BQU1BLGFBQWEsR0FBRyxJQUFJQyxpQkFBUSxDQUFDQyxNQUFNLENBQ3ZDO0VBQ0VDLElBQUksRUFBRTtJQUFFQyxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUN0Q0MsV0FBVyxFQUFFO0lBQUVILElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQzdDRSxRQUFRLEVBQUU7SUFBRUosSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDMUNHLEtBQUssRUFBRTtJQUFFTCxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUN2Q0ksS0FBSyxFQUFFO0lBQUVOLElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ3ZDSyxLQUFLLEVBQUU7SUFBRVAsSUFBSSxFQUFFUSxNQUFNO0lBQUVDLE9BQU8sRUFBRSxHQUFHO0lBQUVQLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDckRRLFlBQVksRUFBRTtJQUFFVixJQUFJLEVBQUVRLE1BQU07SUFBRUMsT0FBTyxFQUFFLENBQUM7SUFBRVAsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUMxRFMsTUFBTSxFQUFFO0lBQUVYLElBQUksRUFBRVEsTUFBTTtJQUFFQyxPQUFPLEVBQUUsR0FBRztJQUFFUCxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ3REVSxVQUFVLEVBQUU7SUFBRVosSUFBSSxFQUFFUSxNQUFNO0lBQUVDLE9BQU8sRUFBRSxDQUFDO0lBQUVQLFFBQVEsRUFBRTtFQUFLO0FBQ3pELENBQUMsRUFDRDtFQUFFVyxVQUFVLEVBQUU7QUFBSyxDQUFDLENBQ3JCO0FBQ0QsTUFBTUMsT0FBTyxHQUFHakIsaUJBQVEsQ0FBQ2tCLEtBQUssQ0FBQyxTQUFTLEVBQUVuQixhQUFhLENBQUM7QUFBQyxlQUMxQ2tCLE9BQU87QUFBQSJ9","map":{"version":3,"names":["productSchema","mongoose","Schema","name","type","String","required","description","category","brand","image","price","Number","default","countInStock","rating","numReviews","timestamps","Product","model"],"sourceRoot":"C:\\Users\\fraan\\Desktop\\practica\\newecommerce3\\backend\\models\\","sources":["productModel.js"],"sourcesContent":["import mongoose from 'mongoose';\r\n\r\nconst productSchema = new mongoose.Schema(\r\n  {\r\n    name: { type: String, required: true },\r\n    description: { type: String, required: true },\r\n    category: { type: String, required: true },\r\n    brand: { type: String, required: true },\r\n    image: { type: String, required: true },\r\n    price: { type: Number, default: 0.0, required: true },\r\n    countInStock: { type: Number, default: 0, required: true },\r\n    rating: { type: Number, default: 0.0, required: true },\r\n    numReviews: { type: Number, default: 0, required: true },\r\n  },\r\n  { timestamps: true }\r\n);\r\nconst Product = mongoose.model('Product', productSchema);\r\nexport default Product;"],"mappings":";;;;;;AAAA;AAAgC;AAEhC,MAAMA,aAAa,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CACvC;EACEC,IAAI,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtCC,WAAW,EAAE;IAAEH,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC7CE,QAAQ,EAAE;IAAEJ,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC1CG,KAAK,EAAE;IAAEL,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACvCI,KAAK,EAAE;IAAEN,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACvCK,KAAK,EAAE;IAAEP,IAAI,EAAEQ,MAAM;IAAEC,OAAO,EAAE,GAAG;IAAEP,QAAQ,EAAE;EAAK,CAAC;EACrDQ,YAAY,EAAE;IAAEV,IAAI,EAAEQ,MAAM;IAAEC,OAAO,EAAE,CAAC;IAAEP,QAAQ,EAAE;EAAK,CAAC;EAC1DS,MAAM,EAAE;IAAEX,IAAI,EAAEQ,MAAM;IAAEC,OAAO,EAAE,GAAG;IAAEP,QAAQ,EAAE;EAAK,CAAC;EACtDU,UAAU,EAAE;IAAEZ,IAAI,EAAEQ,MAAM;IAAEC,OAAO,EAAE,CAAC;IAAEP,QAAQ,EAAE;EAAK;AACzD,CAAC,EACD;EAAEW,UAAU,EAAE;AAAK,CAAC,CACrB;AACD,MAAMC,OAAO,GAAGjB,iBAAQ,CAACkB,KAAK,CAAC,SAAS,EAAEnB,aAAa,CAAC;AAAC,eAC1CkB,OAAO;AAAA"}},"mtime":1667423871534},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\routers\\\\uploadRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _utils = require(\"../utils\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst storage = _multer.default.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  }\n});\nconst upload = (0, _multer.default)({\n  storage\n});\nconst uploadRouter = _express.default.Router();\nuploadRouter.post('/', _utils.isAuth, _utils.isAdmin, upload.single('image'), (req, res) => {\n  res.status(201).send({\n    image: `/${req.file.path}`\n  });\n});\nvar _default = uploadRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzdG9yYWdlIiwibXVsdGVyIiwiZGlza1N0b3JhZ2UiLCJkZXN0aW5hdGlvbiIsInJlcSIsImZpbGUiLCJjYiIsImZpbGVuYW1lIiwiRGF0ZSIsIm5vdyIsInVwbG9hZCIsInVwbG9hZFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiaXNBdXRoIiwiaXNBZG1pbiIsInNpbmdsZSIsInJlcyIsInN0YXR1cyIsInNlbmQiLCJpbWFnZSIsInBhdGgiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcZnJhYW5cXERlc2t0b3BcXHByYWN0aWNhXFxuZXdlY29tbWVyY2UzXFxiYWNrZW5kXFxyb3V0ZXJzXFwiLCJzb3VyY2VzIjpbInVwbG9hZFJvdXRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IG11bHRlciBmcm9tICdtdWx0ZXInO1xyXG5pbXBvcnQgeyBpc0F1dGgsIGlzQWRtaW4gfSBmcm9tICcuLi91dGlscyc7XHJcblxyXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcclxuICBkZXN0aW5hdGlvbihyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICBjYihudWxsLCAndXBsb2Fkcy8nKTtcclxuICB9LFxyXG4gIGZpbGVuYW1lKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgIGNiKG51bGwsIGAke0RhdGUubm93KCl9LmpwZ2ApO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuY29uc3QgdXBsb2FkID0gbXVsdGVyKHsgc3RvcmFnZSB9KTtcclxuY29uc3QgdXBsb2FkUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnVwbG9hZFJvdXRlci5wb3N0KCcvJywgaXNBdXRoLCBpc0FkbWluLCB1cGxvYWQuc2luZ2xlKCdpbWFnZScpLCAocmVxLCByZXMpID0+IHtcclxuICByZXMuc3RhdHVzKDIwMSkuc2VuZCh7IGltYWdlOiBgLyR7cmVxLmZpbGUucGF0aH1gIH0pO1xyXG59KTtcclxuZXhwb3J0IGRlZmF1bHQgdXBsb2FkUm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQTJDO0FBRTNDLE1BQU1BLE9BQU8sR0FBR0MsZUFBTSxDQUFDQyxXQUFXLENBQUM7RUFDakNDLFdBQVcsQ0FBQ0MsR0FBRyxFQUFFQyxJQUFJLEVBQUVDLEVBQUUsRUFBRTtJQUN6QkEsRUFBRSxDQUFDLElBQUksRUFBRSxVQUFVLENBQUM7RUFDdEIsQ0FBQztFQUNEQyxRQUFRLENBQUNILEdBQUcsRUFBRUMsSUFBSSxFQUFFQyxFQUFFLEVBQUU7SUFDdEJBLEVBQUUsQ0FBQyxJQUFJLEVBQUcsR0FBRUUsSUFBSSxDQUFDQyxHQUFHLEVBQUcsTUFBSyxDQUFDO0VBQy9CO0FBQ0YsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsTUFBTSxHQUFHLElBQUFULGVBQU0sRUFBQztFQUFFRDtBQUFRLENBQUMsQ0FBQztBQUNsQyxNQUFNVyxZQUFZLEdBQUdDLGdCQUFPLENBQUNDLE1BQU0sRUFBRTtBQUVyQ0YsWUFBWSxDQUFDRyxJQUFJLENBQUMsR0FBRyxFQUFFQyxhQUFNLEVBQUVDLGNBQU8sRUFBRU4sTUFBTSxDQUFDTyxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQ2IsR0FBRyxFQUFFYyxHQUFHLEtBQUs7RUFDNUVBLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7SUFBRUMsS0FBSyxFQUFHLElBQUdqQixHQUFHLENBQUNDLElBQUksQ0FBQ2lCLElBQUs7RUFBRSxDQUFDLENBQUM7QUFDdEQsQ0FBQyxDQUFDO0FBQUMsZUFDWVgsWUFBWTtBQUFBIn0=","map":{"version":3,"names":["storage","multer","diskStorage","destination","req","file","cb","filename","Date","now","upload","uploadRouter","express","Router","post","isAuth","isAdmin","single","res","status","send","image","path"],"sourceRoot":"C:\\Users\\fraan\\Desktop\\practica\\newecommerce3\\backend\\routers\\","sources":["uploadRouter.js"],"sourcesContent":["import express from 'express';\r\nimport multer from 'multer';\r\nimport { isAuth, isAdmin } from '../utils';\r\n\r\nconst storage = multer.diskStorage({\r\n  destination(req, file, cb) {\r\n    cb(null, 'uploads/');\r\n  },\r\n  filename(req, file, cb) {\r\n    cb(null, `${Date.now()}.jpg`);\r\n  },\r\n});\r\n\r\nconst upload = multer({ storage });\r\nconst uploadRouter = express.Router();\r\n\r\nuploadRouter.post('/', isAuth, isAdmin, upload.single('image'), (req, res) => {\r\n  res.status(201).send({ image: `/${req.file.path}` });\r\n});\r\nexport default uploadRouter;"],"mappings":";;;;;;AAAA;AACA;AACA;AAA2C;AAE3C,MAAMA,OAAO,GAAGC,eAAM,CAACC,WAAW,CAAC;EACjCC,WAAW,CAACC,GAAG,EAAEC,IAAI,EAAEC,EAAE,EAAE;IACzBA,EAAE,CAAC,IAAI,EAAE,UAAU,CAAC;EACtB,CAAC;EACDC,QAAQ,CAACH,GAAG,EAAEC,IAAI,EAAEC,EAAE,EAAE;IACtBA,EAAE,CAAC,IAAI,EAAG,GAAEE,IAAI,CAACC,GAAG,EAAG,MAAK,CAAC;EAC/B;AACF,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAG,IAAAT,eAAM,EAAC;EAAED;AAAQ,CAAC,CAAC;AAClC,MAAMW,YAAY,GAAGC,gBAAO,CAACC,MAAM,EAAE;AAErCF,YAAY,CAACG,IAAI,CAAC,GAAG,EAAEC,aAAM,EAAEC,cAAO,EAAEN,MAAM,CAACO,MAAM,CAAC,OAAO,CAAC,EAAE,CAACb,GAAG,EAAEc,GAAG,KAAK;EAC5EA,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IAAEC,KAAK,EAAG,IAAGjB,GAAG,CAACC,IAAI,CAACiB,IAAK;EAAE,CAAC,CAAC;AACtD,CAAC,CAAC;AAAC,eACYX,YAAY;AAAA"}},"mtime":1667425235909},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\\\\backend\\\\routers\\\\uploadRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Desktop\\\\practica\\\\newecommerce3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _utils = require(\"../utils\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst storage = _multer.default.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  }\n});\nconst upload = (0, _multer.default)({\n  storage\n});\nconst uploadRouter = _express.default.Router();\nuploadRouter.post('/', _utils.isAuth, _utils.isAdmin, upload.single('image'), (req, res) => {\n  res.status(201).send({\n    image: `/${req.file.path}`\n  });\n});\nvar _default = uploadRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzdG9yYWdlIiwibXVsdGVyIiwiZGlza1N0b3JhZ2UiLCJkZXN0aW5hdGlvbiIsInJlcSIsImZpbGUiLCJjYiIsImZpbGVuYW1lIiwiRGF0ZSIsIm5vdyIsInVwbG9hZCIsInVwbG9hZFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiaXNBdXRoIiwiaXNBZG1pbiIsInNpbmdsZSIsInJlcyIsInN0YXR1cyIsInNlbmQiLCJpbWFnZSIsInBhdGgiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcZnJhYW5cXERlc2t0b3BcXHByYWN0aWNhXFxuZXdlY29tbWVyY2UzXFxiYWNrZW5kXFxyb3V0ZXJzXFwiLCJzb3VyY2VzIjpbInVwbG9hZFJvdXRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IG11bHRlciBmcm9tICdtdWx0ZXInO1xyXG5pbXBvcnQgeyBpc0F1dGgsIGlzQWRtaW4gfSBmcm9tICcuLi91dGlscyc7XHJcblxyXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcclxuICBkZXN0aW5hdGlvbihyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICBjYihudWxsLCAndXBsb2Fkcy8nKTtcclxuICB9LFxyXG4gIGZpbGVuYW1lKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgIGNiKG51bGwsIGAke0RhdGUubm93KCl9LmpwZ2ApO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuY29uc3QgdXBsb2FkID0gbXVsdGVyKHsgc3RvcmFnZSB9KTtcclxuY29uc3QgdXBsb2FkUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnVwbG9hZFJvdXRlci5wb3N0KCcvJywgaXNBdXRoLCBpc0FkbWluLCB1cGxvYWQuc2luZ2xlKCdpbWFnZScpLCAocmVxLCByZXMpID0+IHtcclxuICByZXMuc3RhdHVzKDIwMSkuc2VuZCh7IGltYWdlOiBgLyR7cmVxLmZpbGUucGF0aH1gIH0pO1xyXG59KTtcclxuZXhwb3J0IGRlZmF1bHQgdXBsb2FkUm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQTJDO0FBRTNDLE1BQU1BLE9BQU8sR0FBR0MsZUFBTSxDQUFDQyxXQUFXLENBQUM7RUFDakNDLFdBQVcsQ0FBQ0MsR0FBRyxFQUFFQyxJQUFJLEVBQUVDLEVBQUUsRUFBRTtJQUN6QkEsRUFBRSxDQUFDLElBQUksRUFBRSxVQUFVLENBQUM7RUFDdEIsQ0FBQztFQUNEQyxRQUFRLENBQUNILEdBQUcsRUFBRUMsSUFBSSxFQUFFQyxFQUFFLEVBQUU7SUFDdEJBLEVBQUUsQ0FBQyxJQUFJLEVBQUcsR0FBRUUsSUFBSSxDQUFDQyxHQUFHLEVBQUcsTUFBSyxDQUFDO0VBQy9CO0FBQ0YsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsTUFBTSxHQUFHLElBQUFULGVBQU0sRUFBQztFQUFFRDtBQUFRLENBQUMsQ0FBQztBQUNsQyxNQUFNVyxZQUFZLEdBQUdDLGdCQUFPLENBQUNDLE1BQU0sRUFBRTtBQUVyQ0YsWUFBWSxDQUFDRyxJQUFJLENBQUMsR0FBRyxFQUFFQyxhQUFNLEVBQUVDLGNBQU8sRUFBRU4sTUFBTSxDQUFDTyxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQ2IsR0FBRyxFQUFFYyxHQUFHLEtBQUs7RUFDNUVBLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7SUFBRUMsS0FBSyxFQUFHLElBQUdqQixHQUFHLENBQUNDLElBQUksQ0FBQ2lCLElBQUs7RUFBRSxDQUFDLENBQUM7QUFDdEQsQ0FBQyxDQUFDO0FBQUMsZUFDWVgsWUFBWTtBQUFBIn0=","map":{"version":3,"names":["storage","multer","diskStorage","destination","req","file","cb","filename","Date","now","upload","uploadRouter","express","Router","post","isAuth","isAdmin","single","res","status","send","image","path"],"sourceRoot":"C:\\Users\\fraan\\Desktop\\practica\\newecommerce3\\backend\\routers\\","sources":["uploadRouter.js"],"sourcesContent":["import express from 'express';\r\nimport multer from 'multer';\r\nimport { isAuth, isAdmin } from '../utils';\r\n\r\nconst storage = multer.diskStorage({\r\n  destination(req, file, cb) {\r\n    cb(null, 'uploads/');\r\n  },\r\n  filename(req, file, cb) {\r\n    cb(null, `${Date.now()}.jpg`);\r\n  },\r\n});\r\n\r\nconst upload = multer({ storage });\r\nconst uploadRouter = express.Router();\r\n\r\nuploadRouter.post('/', isAuth, isAdmin, upload.single('image'), (req, res) => {\r\n  res.status(201).send({ image: `/${req.file.path}` });\r\n});\r\nexport default uploadRouter;"],"mappings":";;;;;;AAAA;AACA;AACA;AAA2C;AAE3C,MAAMA,OAAO,GAAGC,eAAM,CAACC,WAAW,CAAC;EACjCC,WAAW,CAACC,GAAG,EAAEC,IAAI,EAAEC,EAAE,EAAE;IACzBA,EAAE,CAAC,IAAI,EAAE,UAAU,CAAC;EACtB,CAAC;EACDC,QAAQ,CAACH,GAAG,EAAEC,IAAI,EAAEC,EAAE,EAAE;IACtBA,EAAE,CAAC,IAAI,EAAG,GAAEE,IAAI,CAACC,GAAG,EAAG,MAAK,CAAC;EAC/B;AACF,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAG,IAAAT,eAAM,EAAC;EAAED;AAAQ,CAAC,CAAC;AAClC,MAAMW,YAAY,GAAGC,gBAAO,CAACC,MAAM,EAAE;AAErCF,YAAY,CAACG,IAAI,CAAC,GAAG,EAAEC,aAAM,EAAEC,cAAO,EAAEN,MAAM,CAACO,MAAM,CAAC,OAAO,CAAC,EAAE,CAACb,GAAG,EAAEc,GAAG,KAAK;EAC5EA,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IAAEC,KAAK,EAAG,IAAGjB,GAAG,CAACC,IAAI,CAACiB,IAAK;EAAE,CAAC,CAAC;AACtD,CAAC,CAAC;AAAC,eACYX,YAAY;AAAA"}},"mtime":1667425235909},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\\\\backend\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _userRouter = _interopRequireDefault(require(\"./routers/userRouter\"));\nvar _config = _interopRequireDefault(require(\"./config\"));\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\nvar _orderRouter = _interopRequireDefault(require(\"./routers/orderRouter\"));\nvar _productRouter = _interopRequireDefault(require(\"./routers/productRouter\"));\nvar _uploadRouter = _interopRequireDefault(require(\"./routers/uploadRouter\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n_mongoose.default.connect(_config.default.MONGODB_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  dbName: 'test2'\n}).then(() => {\n  console.log(\"Connected to mongodb.\");\n}).catch(error => {\n  console.log(error.reason);\n});\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_bodyParser.default.json());\napp.use('/api/uploads', _uploadRouter.default);\napp.use(\"/api/users\", _userRouter.default);\napp.use('/api/products', _productRouter.default);\napp.use('/api/orders', _orderRouter.default);\napp.get('/api/paypal/clientId', (req, res) => {\n  res.send({\n    clientId: _config.default.PAYPAL_CLIENT_ID\n  });\n});\napp.use('/uploads', _express.default.static(_path.default.join(__dirname, '/../uploads')));\napp.use(_express.default.static(_path.default.join(__dirname, '/../frontend')));\napp.get('*', (req, res) => {\n  res.sendFile(_path.default.join(__dirname, '/../frontend/index.html'));\n});\napp.use((err, req, res, next) => {\n  const status = err.name && err.name === \"ValidationError\" ? 400 : 500;\n  res.status(status).send({\n    message: err.message\n  });\n});\napp.listen(_config.default.PORT, () => {\n  console.log(\"serve at http://localhost:5000\");\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsImNvbm5lY3QiLCJjb25maWciLCJNT05HT0RCX1VSTCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsImRiTmFtZSIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnJvciIsInJlYXNvbiIsImFwcCIsImV4cHJlc3MiLCJ1c2UiLCJjb3JzIiwiYm9keVBhcnNlciIsImpzb24iLCJ1cGxvYWRSb3V0ZXIiLCJ1c2VyUm91dGVyIiwicHJvZHVjdFJvdXRlciIsIm9yZGVyUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwic2VuZCIsImNsaWVudElkIiwiUEFZUEFMX0NMSUVOVF9JRCIsInN0YXRpYyIsInBhdGgiLCJqb2luIiwiX19kaXJuYW1lIiwic2VuZEZpbGUiLCJlcnIiLCJuZXh0Iiwic3RhdHVzIiwibmFtZSIsIm1lc3NhZ2UiLCJsaXN0ZW4iLCJQT1JUIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGZyYWFuXFxEb2N1bWVudHNcXGVjb21tZXJjZXNcXE51ZXZhIGNhcnBldGFcXGJhY2tlbmRcXCIsInNvdXJjZXMiOlsic2VydmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7IGltcG9ydCBjb3JzIGZyb20gXCJjb3JzXCI7IGltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjsgaW1wb3J0IHVzZXJSb3V0ZXIgZnJvbSBcIi4vcm91dGVycy91c2VyUm91dGVyXCI7IGltcG9ydCBjb25maWcgZnJvbSBcIi4vY29uZmlnXCI7IGltcG9ydCBib2R5UGFyc2VyIGZyb20gXCJib2R5LXBhcnNlclwiOyBpbXBvcnQgb3JkZXJSb3V0ZXIgZnJvbSBcIi4vcm91dGVycy9vcmRlclJvdXRlclwiOyBpbXBvcnQgcHJvZHVjdFJvdXRlciBmcm9tIFwiLi9yb3V0ZXJzL3Byb2R1Y3RSb3V0ZXJcIjsgaW1wb3J0IHVwbG9hZFJvdXRlciBmcm9tIFwiLi9yb3V0ZXJzL3VwbG9hZFJvdXRlclwiOyBpbXBvcnQgcGF0aCBmcm9tICdwYXRoJzsgbW9uZ29vc2UuY29ubmVjdChjb25maWcuTU9OR09EQl9VUkwsIHsgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLCB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsIGRiTmFtZTogJ3Rlc3QyJywgfSkudGhlbigoKSA9PiB7IGNvbnNvbGUubG9nKFwiQ29ubmVjdGVkIHRvIG1vbmdvZGIuXCIpOyB9KS5jYXRjaCgoZXJyb3IpID0+IHsgY29uc29sZS5sb2coZXJyb3IucmVhc29uKTsgfSk7IGNvbnN0IGFwcCA9IGV4cHJlc3MoKTsgYXBwLnVzZShjb3JzKCkpOyBhcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTsgYXBwLnVzZSgnL2FwaS91cGxvYWRzJywgdXBsb2FkUm91dGVyKTsgYXBwLnVzZShcIi9hcGkvdXNlcnNcIiwgdXNlclJvdXRlcik7IGFwcC51c2UoJy9hcGkvcHJvZHVjdHMnLCBwcm9kdWN0Um91dGVyKTsgYXBwLnVzZSgnL2FwaS9vcmRlcnMnLCBvcmRlclJvdXRlcik7IGFwcC5nZXQoJy9hcGkvcGF5cGFsL2NsaWVudElkJywgKHJlcSwgcmVzKSA9PiB7IHJlcy5zZW5kKHsgY2xpZW50SWQ6IGNvbmZpZy5QQVlQQUxfQ0xJRU5UX0lEIH0pOyB9KTsgYXBwLnVzZSgnL3VwbG9hZHMnLCBleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lLCAnLy4uL3VwbG9hZHMnKSkpOyBhcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICcvLi4vZnJvbnRlbmQnKSkpOyBhcHAuZ2V0KCcqJywgKHJlcSwgcmVzKSA9PiB7IHJlcy5zZW5kRmlsZShwYXRoLmpvaW4oX19kaXJuYW1lLCAnLy4uL2Zyb250ZW5kL2luZGV4Lmh0bWwnKSk7IH0pOyBhcHAudXNlKChlcnIsIHJlcSwgcmVzLCBuZXh0KSA9PiB7IGNvbnN0IHN0YXR1cyA9IGVyci5uYW1lICYmIGVyci5uYW1lID09PSBcIlZhbGlkYXRpb25FcnJvclwiID8gNDAwIDogNTAwOyByZXMuc3RhdHVzKHN0YXR1cykuc2VuZCh7IG1lc3NhZ2U6IGVyci5tZXNzYWdlIH0pOyB9KTsgYXBwLmxpc3Rlbihjb25maWcuUE9SVCwgKCkgPT4geyBjb25zb2xlLmxvZyhcInNlcnZlIGF0IGh0dHA6Ly9sb2NhbGhvc3Q6NTAwMFwiKTsgfSk7Il0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQStCO0FBQXlCO0FBQWlDO0FBQStDO0FBQStCO0FBQXNDO0FBQWlEO0FBQXFEO0FBQW1EO0FBQXdCO0FBQUNBLGlCQUFRLENBQUNDLE9BQU8sQ0FBQ0MsZUFBTSxDQUFDQyxXQUFXLEVBQUU7RUFBRUMsZUFBZSxFQUFFLElBQUk7RUFBRUMsa0JBQWtCLEVBQUUsSUFBSTtFQUFFQyxNQUFNLEVBQUU7QUFBUyxDQUFDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLE1BQU07RUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUMsdUJBQXVCLENBQUM7QUFBRSxDQUFDLENBQUMsQ0FBQ0MsS0FBSyxDQUFFQyxLQUFLLElBQUs7RUFBRUgsT0FBTyxDQUFDQyxHQUFHLENBQUNFLEtBQUssQ0FBQ0MsTUFBTSxDQUFDO0FBQUUsQ0FBQyxDQUFDO0FBQUUsTUFBTUMsR0FBRyxHQUFHLElBQUFDLGdCQUFPLEdBQUU7QUFBRUQsR0FBRyxDQUFDRSxHQUFHLENBQUMsSUFBQUMsYUFBSSxHQUFFLENBQUM7QUFBRUgsR0FBRyxDQUFDRSxHQUFHLENBQUNFLG1CQUFVLENBQUNDLElBQUksRUFBRSxDQUFDO0FBQUVMLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLGNBQWMsRUFBRUkscUJBQVksQ0FBQztBQUFFTixHQUFHLENBQUNFLEdBQUcsQ0FBQyxZQUFZLEVBQUVLLG1CQUFVLENBQUM7QUFBRVAsR0FBRyxDQUFDRSxHQUFHLENBQUMsZUFBZSxFQUFFTSxzQkFBYSxDQUFDO0FBQUVSLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLGFBQWEsRUFBRU8sb0JBQVcsQ0FBQztBQUFFVCxHQUFHLENBQUNVLEdBQUcsQ0FBQyxzQkFBc0IsRUFBRSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUFFQSxHQUFHLENBQUNDLElBQUksQ0FBQztJQUFFQyxRQUFRLEVBQUV6QixlQUFNLENBQUMwQjtFQUFpQixDQUFDLENBQUM7QUFBRSxDQUFDLENBQUM7QUFBRWYsR0FBRyxDQUFDRSxHQUFHLENBQUMsVUFBVSxFQUFFRCxnQkFBTyxDQUFDZSxNQUFNLENBQUNDLGFBQUksQ0FBQ0MsSUFBSSxDQUFDQyxTQUFTLEVBQUUsYUFBYSxDQUFDLENBQUMsQ0FBQztBQUFFbkIsR0FBRyxDQUFDRSxHQUFHLENBQUNELGdCQUFPLENBQUNlLE1BQU0sQ0FBQ0MsYUFBSSxDQUFDQyxJQUFJLENBQUNDLFNBQVMsRUFBRSxjQUFjLENBQUMsQ0FBQyxDQUFDO0FBQUVuQixHQUFHLENBQUNVLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFBRUEsR0FBRyxDQUFDUSxRQUFRLENBQUNILGFBQUksQ0FBQ0MsSUFBSSxDQUFDQyxTQUFTLEVBQUUseUJBQXlCLENBQUMsQ0FBQztBQUFFLENBQUMsQ0FBQztBQUFFbkIsR0FBRyxDQUFDRSxHQUFHLENBQUMsQ0FBQ21CLEdBQUcsRUFBRVYsR0FBRyxFQUFFQyxHQUFHLEVBQUVVLElBQUksS0FBSztFQUFFLE1BQU1DLE1BQU0sR0FBR0YsR0FBRyxDQUFDRyxJQUFJLElBQUlILEdBQUcsQ0FBQ0csSUFBSSxLQUFLLGlCQUFpQixHQUFHLEdBQUcsR0FBRyxHQUFHO0VBQUVaLEdBQUcsQ0FBQ1csTUFBTSxDQUFDQSxNQUFNLENBQUMsQ0FBQ1YsSUFBSSxDQUFDO0lBQUVZLE9BQU8sRUFBRUosR0FBRyxDQUFDSTtFQUFRLENBQUMsQ0FBQztBQUFFLENBQUMsQ0FBQztBQUFFekIsR0FBRyxDQUFDMEIsTUFBTSxDQUFDckMsZUFBTSxDQUFDc0MsSUFBSSxFQUFFLE1BQU07RUFBRWhDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGdDQUFnQyxDQUFDO0FBQUUsQ0FBQyxDQUFDIn0=","map":{"version":3,"names":["mongoose","connect","config","MONGODB_URL","useNewUrlParser","useUnifiedTopology","dbName","then","console","log","catch","error","reason","app","express","use","cors","bodyParser","json","uploadRouter","userRouter","productRouter","orderRouter","get","req","res","send","clientId","PAYPAL_CLIENT_ID","static","path","join","__dirname","sendFile","err","next","status","name","message","listen","PORT"],"sourceRoot":"C:\\Users\\fraan\\Documents\\ecommerces\\Nueva carpeta\\backend\\","sources":["server.js"],"sourcesContent":["import express from \"express\"; import cors from \"cors\"; import mongoose from \"mongoose\"; import userRouter from \"./routers/userRouter\"; import config from \"./config\"; import bodyParser from \"body-parser\"; import orderRouter from \"./routers/orderRouter\"; import productRouter from \"./routers/productRouter\"; import uploadRouter from \"./routers/uploadRouter\"; import path from 'path'; mongoose.connect(config.MONGODB_URL, { useNewUrlParser: true, useUnifiedTopology: true, dbName: 'test2', }).then(() => { console.log(\"Connected to mongodb.\"); }).catch((error) => { console.log(error.reason); }); const app = express(); app.use(cors()); app.use(bodyParser.json()); app.use('/api/uploads', uploadRouter); app.use(\"/api/users\", userRouter); app.use('/api/products', productRouter); app.use('/api/orders', orderRouter); app.get('/api/paypal/clientId', (req, res) => { res.send({ clientId: config.PAYPAL_CLIENT_ID }); }); app.use('/uploads', express.static(path.join(__dirname, '/../uploads'))); app.use(express.static(path.join(__dirname, '/../frontend'))); app.get('*', (req, res) => { res.sendFile(path.join(__dirname, '/../frontend/index.html')); }); app.use((err, req, res, next) => { const status = err.name && err.name === \"ValidationError\" ? 400 : 500; res.status(status).send({ message: err.message }); }); app.listen(config.PORT, () => { console.log(\"serve at http://localhost:5000\"); });"],"mappings":";;AAAA;AAA+B;AAAyB;AAAiC;AAA+C;AAA+B;AAAsC;AAAiD;AAAqD;AAAmD;AAAwB;AAACA,iBAAQ,CAACC,OAAO,CAACC,eAAM,CAACC,WAAW,EAAE;EAAEC,eAAe,EAAE,IAAI;EAAEC,kBAAkB,EAAE,IAAI;EAAEC,MAAM,EAAE;AAAS,CAAC,CAAC,CAACC,IAAI,CAAC,MAAM;EAAEC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;AAAE,CAAC,CAAC,CAACC,KAAK,CAAEC,KAAK,IAAK;EAAEH,OAAO,CAACC,GAAG,CAACE,KAAK,CAACC,MAAM,CAAC;AAAE,CAAC,CAAC;AAAE,MAAMC,GAAG,GAAG,IAAAC,gBAAO,GAAE;AAAED,GAAG,CAACE,GAAG,CAAC,IAAAC,aAAI,GAAE,CAAC;AAAEH,GAAG,CAACE,GAAG,CAACE,mBAAU,CAACC,IAAI,EAAE,CAAC;AAAEL,GAAG,CAACE,GAAG,CAAC,cAAc,EAAEI,qBAAY,CAAC;AAAEN,GAAG,CAACE,GAAG,CAAC,YAAY,EAAEK,mBAAU,CAAC;AAAEP,GAAG,CAACE,GAAG,CAAC,eAAe,EAAEM,sBAAa,CAAC;AAAER,GAAG,CAACE,GAAG,CAAC,aAAa,EAAEO,oBAAW,CAAC;AAAET,GAAG,CAACU,GAAG,CAAC,sBAAsB,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EAAEA,GAAG,CAACC,IAAI,CAAC;IAAEC,QAAQ,EAAEzB,eAAM,CAAC0B;EAAiB,CAAC,CAAC;AAAE,CAAC,CAAC;AAAEf,GAAG,CAACE,GAAG,CAAC,UAAU,EAAED,gBAAO,CAACe,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAE,aAAa,CAAC,CAAC,CAAC;AAAEnB,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACe,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAE,cAAc,CAAC,CAAC,CAAC;AAAEnB,GAAG,CAACU,GAAG,CAAC,GAAG,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EAAEA,GAAG,CAACQ,QAAQ,CAACH,aAAI,CAACC,IAAI,CAACC,SAAS,EAAE,yBAAyB,CAAC,CAAC;AAAE,CAAC,CAAC;AAAEnB,GAAG,CAACE,GAAG,CAAC,CAACmB,GAAG,EAAEV,GAAG,EAAEC,GAAG,EAAEU,IAAI,KAAK;EAAE,MAAMC,MAAM,GAAGF,GAAG,CAACG,IAAI,IAAIH,GAAG,CAACG,IAAI,KAAK,iBAAiB,GAAG,GAAG,GAAG,GAAG;EAAEZ,GAAG,CAACW,MAAM,CAACA,MAAM,CAAC,CAACV,IAAI,CAAC;IAAEY,OAAO,EAAEJ,GAAG,CAACI;EAAQ,CAAC,CAAC;AAAE,CAAC,CAAC;AAAEzB,GAAG,CAAC0B,MAAM,CAACrC,eAAM,CAACsC,IAAI,EAAE,MAAM;EAAEhC,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC;AAAE,CAAC,CAAC"}},"mtime":1667530620203},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\\\\backend\\\\routers\\\\userRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\nvar _utils = require(\"../utils\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst userRouter = _express.default.Router();\nuserRouter.get(\"/createadmin\", (0, _expressAsyncHandler.default)(async (req, res) => {\n  try {\n    const user = new _userModel.default({\n      name: \"admin\",\n      email: \"admin@example.com\",\n      password: \"admin9999\",\n      isAdmin: true\n    });\n    const createdUser = await user.save();\n    res.send(createdUser);\n  } catch (err) {\n    res.status(500).send({\n      message: err.message\n    });\n  }\n}));\nuserRouter.post(\"/signin\", (0, _expressAsyncHandler.default)(async (req, res) => {\n  const signinUser = await _userModel.default.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n  if (!signinUser) {\n    res.status(401).send({\n      message: \"Invalid Email or Password\"\n    });\n  } else {\n    res.send({\n      _id: signinUser._id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: (0, _utils.generateToken)(signinUser)\n    });\n  }\n}));\nuserRouter.post(\"/register\", (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: req.body.password\n  });\n  const createdUser = await user.save();\n  if (!createdUser) {\n    res.status(401).send({\n      message: \"Invalid User Data\"\n    });\n  } else {\n    res.send({\n      _id: createdUser._id,\n      name: createdUser.name,\n      email: createdUser.email,\n      isAdmin: createdUser.isAdmin,\n      token: (0, _utils.generateToken)(createdUser)\n    });\n  }\n}));\nuserRouter.put(\"/:id\", _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n  if (!user) {\n    res.status(404).send({\n      message: \"User Not Found\"\n    });\n  } else {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.password = req.body.password || user.password;\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser._id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      token: (0, _utils.generateToken)(updatedUser)\n    });\n  }\n}));\nvar _default = userRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImV4cHJlc3NBc3luY0hhbmRsZXIiLCJyZXEiLCJyZXMiLCJ1c2VyIiwiVXNlciIsIm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiaXNBZG1pbiIsImNyZWF0ZWRVc2VyIiwic2F2ZSIsInNlbmQiLCJlcnIiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsInNpZ25pblVzZXIiLCJmaW5kT25lIiwiYm9keSIsIl9pZCIsInRva2VuIiwiZ2VuZXJhdGVUb2tlbiIsInB1dCIsImlzQXV0aCIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiLCJ1cGRhdGVkVXNlciJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxmcmFhblxcRG9jdW1lbnRzXFxlY29tbWVyY2VzXFxOdWV2YSBjYXJwZXRhXFxiYWNrZW5kXFxyb3V0ZXJzXFwiLCJzb3VyY2VzIjpbInVzZXJSb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IFVzZXIgZnJvbSBcIi4uL21vZGVscy91c2VyTW9kZWxcIjtcclxuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSBcImV4cHJlc3MtYXN5bmMtaGFuZGxlclwiO1xyXG5pbXBvcnQgeyBnZW5lcmF0ZVRva2VuLCBpc0F1dGggfSBmcm9tIFwiLi4vdXRpbHNcIjtcclxuXHJcbmNvbnN0IHVzZXJSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxudXNlclJvdXRlci5nZXQoXHJcbiAgXCIvY3JlYXRlYWRtaW5cIixcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHtcclxuICAgICAgICBuYW1lOiBcImFkbWluXCIsXHJcbiAgICAgICAgZW1haWw6IFwiYWRtaW5AZXhhbXBsZS5jb21cIixcclxuICAgICAgICBwYXNzd29yZDogXCJhZG1pbjk5OTlcIixcclxuICAgICAgICBpc0FkbWluOiB0cnVlLFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgY3JlYXRlZFVzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcclxuICAgICAgcmVzLnNlbmQoY3JlYXRlZFVzZXIpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogZXJyLm1lc3NhZ2UgfSk7XHJcbiAgICB9XHJcbiAgfSlcclxuKTtcclxudXNlclJvdXRlci5wb3N0KFxyXG4gIFwiL3NpZ25pblwiLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBzaWduaW5Vc2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtcclxuICAgICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxyXG4gICAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmQsXHJcbiAgICB9KTtcclxuICAgIGlmICghc2lnbmluVXNlcikge1xyXG4gICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7XHJcbiAgICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIEVtYWlsIG9yIFBhc3N3b3JkXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzLnNlbmQoe1xyXG4gICAgICAgIF9pZDogc2lnbmluVXNlci5faWQsXHJcbiAgICAgICAgbmFtZTogc2lnbmluVXNlci5uYW1lLFxyXG4gICAgICAgIGVtYWlsOiBzaWduaW5Vc2VyLmVtYWlsLFxyXG4gICAgICAgIGlzQWRtaW46IHNpZ25pblVzZXIuaXNBZG1pbixcclxuICAgICAgICB0b2tlbjogZ2VuZXJhdGVUb2tlbihzaWduaW5Vc2VyKSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSlcclxuKTtcclxudXNlclJvdXRlci5wb3N0KFxyXG4gIFwiL3JlZ2lzdGVyXCIsXHJcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih7XHJcbiAgICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXHJcbiAgICAgIGVtYWlsOiByZXEuYm9keS5lbWFpbCxcclxuICAgICAgcGFzc3dvcmQ6IHJlcS5ib2R5LnBhc3N3b3JkLFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBjcmVhdGVkVXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xyXG4gICAgaWYgKCFjcmVhdGVkVXNlcikge1xyXG4gICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7XHJcbiAgICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIFVzZXIgRGF0YVwiLFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlcy5zZW5kKHtcclxuICAgICAgICBfaWQ6IGNyZWF0ZWRVc2VyLl9pZCxcclxuICAgICAgICBuYW1lOiBjcmVhdGVkVXNlci5uYW1lLFxyXG4gICAgICAgIGVtYWlsOiBjcmVhdGVkVXNlci5lbWFpbCxcclxuICAgICAgICBpc0FkbWluOiBjcmVhdGVkVXNlci5pc0FkbWluLFxyXG4gICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKGNyZWF0ZWRVc2VyKSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSlcclxuKTtcclxuXHJcbnVzZXJSb3V0ZXIucHV0KFxyXG4gIFwiLzppZFwiLFxyXG4gIGlzQXV0aCxcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XHJcblxyXG4gICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcclxuICAgICAgICBtZXNzYWdlOiBcIlVzZXIgTm90IEZvdW5kXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdXNlci5uYW1lID0gcmVxLmJvZHkubmFtZSB8fCB1c2VyLm5hbWU7XHJcbiAgICAgIHVzZXIuZW1haWwgPSByZXEuYm9keS5lbWFpbCB8fCB1c2VyLmVtYWlsO1xyXG4gICAgICB1c2VyLnBhc3N3b3JkID0gcmVxLmJvZHkucGFzc3dvcmQgfHwgdXNlci5wYXNzd29yZDtcclxuICAgICAgY29uc3QgdXBkYXRlZFVzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcclxuICAgICAgcmVzLnNlbmQoe1xyXG4gICAgICAgIF9pZDogdXBkYXRlZFVzZXIuX2lkLFxyXG4gICAgICAgIG5hbWU6IHVwZGF0ZWRVc2VyLm5hbWUsXHJcbiAgICAgICAgZW1haWw6IHVwZGF0ZWRVc2VyLmVtYWlsLFxyXG4gICAgICAgIGlzQWRtaW46IHVwZGF0ZWRVc2VyLmlzQWRtaW4sXHJcbiAgICAgICAgdG9rZW46IGdlbmVyYXRlVG9rZW4odXBkYXRlZFVzZXIpLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG5leHBvcnQgZGVmYXVsdCB1c2VyUm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQWlEO0FBRWpELE1BQU1BLFVBQVUsR0FBR0MsZ0JBQU8sQ0FBQ0MsTUFBTSxFQUFFO0FBRW5DRixVQUFVLENBQUNHLEdBQUcsQ0FDWixjQUFjLEVBQ2QsSUFBQUMsNEJBQW1CLEVBQUMsT0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDdEMsSUFBSTtJQUNGLE1BQU1DLElBQUksR0FBRyxJQUFJQyxrQkFBSSxDQUFDO01BQ3BCQyxJQUFJLEVBQUUsT0FBTztNQUNiQyxLQUFLLEVBQUUsbUJBQW1CO01BQzFCQyxRQUFRLEVBQUUsV0FBVztNQUNyQkMsT0FBTyxFQUFFO0lBQ1gsQ0FBQyxDQUFDO0lBQ0YsTUFBTUMsV0FBVyxHQUFHLE1BQU1OLElBQUksQ0FBQ08sSUFBSSxFQUFFO0lBQ3JDUixHQUFHLENBQUNTLElBQUksQ0FBQ0YsV0FBVyxDQUFDO0VBQ3ZCLENBQUMs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","map":{"version":3,"names":["userRouter","express","Router","get","expressAsyncHandler","req","res","user","User","name","email","password","isAdmin","createdUser","save","send","err","status","message","post","signinUser","findOne","body","_id","token","generateToken","put","isAuth","findById","params","id","updatedUser"],"sourceRoot":"C:\\Users\\fraan\\Documents\\ecommerces\\Nueva carpeta\\backend\\routers\\","sources":["userRouter.js"],"sourcesContent":["import express from \"express\";\r\nimport User from \"../models/userModel\";\r\nimport expressAsyncHandler from \"express-async-handler\";\r\nimport { generateToken, isAuth } from \"../utils\";\r\n\r\nconst userRouter = express.Router();\r\n\r\nuserRouter.get(\r\n  \"/createadmin\",\r\n  expressAsyncHandler(async (req, res) => {\r\n    try {\r\n      const user = new User({\r\n        name: \"admin\",\r\n        email: \"admin@example.com\",\r\n        password: \"admin9999\",\r\n        isAdmin: true,\r\n      });\r\n      const createdUser = await user.save();\r\n      res.send(createdUser);\r\n    } catch (err) {\r\n      res.status(500).send({ message: err.message });\r\n    }\r\n  })\r\n);\r\nuserRouter.post(\r\n  \"/signin\",\r\n  expressAsyncHandler(async (req, res) => {\r\n    const signinUser = await User.findOne({\r\n      email: req.body.email,\r\n      password: req.body.password,\r\n    });\r\n    if (!signinUser) {\r\n      res.status(401).send({\r\n        message: \"Invalid Email or Password\",\r\n      });\r\n    } else {\r\n      res.send({\r\n        _id: signinUser._id,\r\n        name: signinUser.name,\r\n        email: signinUser.email,\r\n        isAdmin: signinUser.isAdmin,\r\n        token: generateToken(signinUser),\r\n      });\r\n    }\r\n  })\r\n);\r\nuserRouter.post(\r\n  \"/register\",\r\n  expressAsyncHandler(async (req, res) => {\r\n    const user = new User({\r\n      name: req.body.name,\r\n      email: req.body.email,\r\n      password: req.body.password,\r\n    });\r\n    const createdUser = await user.save();\r\n    if (!createdUser) {\r\n      res.status(401).send({\r\n        message: \"Invalid User Data\",\r\n      });\r\n    } else {\r\n      res.send({\r\n        _id: createdUser._id,\r\n        name: createdUser.name,\r\n        email: createdUser.email,\r\n        isAdmin: createdUser.isAdmin,\r\n        token: generateToken(createdUser),\r\n      });\r\n    }\r\n  })\r\n);\r\n\r\nuserRouter.put(\r\n  \"/:id\",\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res) => {\r\n    const user = await User.findById(req.params.id);\r\n\r\n    if (!user) {\r\n      res.status(404).send({\r\n        message: \"User Not Found\",\r\n      });\r\n    } else {\r\n      user.name = req.body.name || user.name;\r\n      user.email = req.body.email || user.email;\r\n      user.password = req.body.password || user.password;\r\n      const updatedUser = await user.save();\r\n      res.send({\r\n        _id: updatedUser._id,\r\n        name: updatedUser.name,\r\n        email: updatedUser.email,\r\n        isAdmin: updatedUser.isAdmin,\r\n        token: generateToken(updatedUser),\r\n      });\r\n    }\r\n  })\r\n);\r\nexport default userRouter;\r\n"],"mappings":"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"}},"mtime":1667334628618},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\\\\backend\\\\models\\\\userModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    index: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    required: true,\n    default: false\n  }\n});\nconst User = _mongoose.default.model('User', userSchema);\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZW1haWwiLCJpbmRleCIsInVuaXF1ZSIsInBhc3N3b3JkIiwiaXNBZG1pbiIsIkJvb2xlYW4iLCJkZWZhdWx0IiwiVXNlciIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGZyYWFuXFxEb2N1bWVudHNcXGVjb21tZXJjZXNcXE51ZXZhIGNhcnBldGFcXGJhY2tlbmRcXG1vZGVsc1xcIiwic291cmNlcyI6WyJ1c2VyTW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJzsgY29uc3QgdXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoeyBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSwgZW1haWw6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgaW5kZXg6IHRydWUsIHVuaXF1ZTogdHJ1ZSwgfSwgcGFzc3dvcmQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LCBpc0FkbWluOiB7IHR5cGU6IEJvb2xlYW4sIHJlcXVpcmVkOiB0cnVlLCBkZWZhdWx0OiBmYWxzZSB9LCB9KTsgY29uc3QgVXNlciA9IG1vbmdvb3NlLm1vZGVsKCdVc2VyJywgdXNlclNjaGVtYSk7IGV4cG9ydCBkZWZhdWx0IFVzZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUFnQztBQUFDLE1BQU1BLFVBQVUsR0FBRyxJQUFJQyxpQkFBUSxDQUFDQyxNQUFNLENBQUM7RUFBRUMsSUFBSSxFQUFFO0lBQUVDLElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQUVDLEtBQUssRUFBRTtJQUFFSCxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFLElBQUk7SUFBRUUsS0FBSyxFQUFFLElBQUk7SUFBRUMsTUFBTSxFQUFFO0VBQU0sQ0FBQztFQUFFQyxRQUFRLEVBQUU7SUFBRU4sSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFBRUssT0FBTyxFQUFFO0lBQUVQLElBQUksRUFBRVEsT0FBTztJQUFFTixRQUFRLEVBQUUsSUFBSTtJQUFFTyxPQUFPLEVBQUU7RUFBTTtBQUFHLENBQUMsQ0FBQztBQUFFLE1BQU1DLElBQUksR0FBR2IsaUJBQVEsQ0FBQ2MsS0FBSyxDQUFDLE1BQU0sRUFBRWYsVUFBVSxDQUFDO0FBQUMsZUFBZ0JjLElBQUk7QUFBQSJ9","map":{"version":3,"names":["userSchema","mongoose","Schema","name","type","String","required","email","index","unique","password","isAdmin","Boolean","default","User","model"],"sourceRoot":"C:\\Users\\fraan\\Documents\\ecommerces\\Nueva carpeta\\backend\\models\\","sources":["userModel.js"],"sourcesContent":["import mongoose from 'mongoose'; const userSchema = new mongoose.Schema({ name: { type: String, required: true }, email: { type: String, required: true, index: true, unique: true, }, password: { type: String, required: true }, isAdmin: { type: Boolean, required: true, default: false }, }); const User = mongoose.model('User', userSchema); export default User;"],"mappings":";;;;;;AAAA;AAAgC;AAAC,MAAMA,UAAU,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EAAEC,IAAI,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAAEC,KAAK,EAAE;IAAEH,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE,IAAI;IAAEE,KAAK,EAAE,IAAI;IAAEC,MAAM,EAAE;EAAM,CAAC;EAAEC,QAAQ,EAAE;IAAEN,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAAEK,OAAO,EAAE;IAAEP,IAAI,EAAEQ,OAAO;IAAEN,QAAQ,EAAE,IAAI;IAAEO,OAAO,EAAE;EAAM;AAAG,CAAC,CAAC;AAAE,MAAMC,IAAI,GAAGb,iBAAQ,CAACc,KAAK,CAAC,MAAM,EAAEf,UAAU,CAAC;AAAC,eAAgBc,IAAI;AAAA"}},"mtime":1667530698817},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\\\\backend\\\\utils.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAuth = exports.isAdmin = exports.generateToken = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _config = _interopRequireDefault(require(\"./config\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst generateToken = user => {\n  return _jsonwebtoken.default.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin\n  }, _config.default.JWT_SECRET);\n};\nexports.generateToken = generateToken;\nconst isAuth = (req, res, next) => {\n  const bearerToken = req.headers.authorization;\n  if (!bearerToken) {\n    res.status(401).send({\n      message: \"Token is not supplied\"\n    });\n  } else {\n    const token = bearerToken.slice(7, bearerToken.length);\n    _jsonwebtoken.default.verify(token, _config.default.JWT_SECRET, (err, data) => {\n      if (err) {\n        res.status(401).send({\n          message: \"Invalid Token\"\n        });\n      } else {\n        req.user = data;\n        next();\n      }\n    });\n  }\n};\nexports.isAuth = isAuth;\nconst isAdmin = (req, res, next) => {\n  if (req.user && req.user.isAdmin) {\n    next();\n  } else {\n    res.status(401).send({\n      message: 'Token is not valid for admin user'\n    });\n  }\n};\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZW5lcmF0ZVRva2VuIiwidXNlciIsImp3dCIsInNpZ24iLCJfaWQiLCJuYW1lIiwiZW1haWwiLCJpc0FkbWluIiwiY29uZmlnIiwiSldUX1NFQ1JFVCIsImlzQXV0aCIsInJlcSIsInJlcyIsIm5leHQiLCJiZWFyZXJUb2tlbiIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJ0b2tlbiIsInNsaWNlIiwibGVuZ3RoIiwidmVyaWZ5IiwiZXJyIiwiZGF0YSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxmcmFhblxcRG9jdW1lbnRzXFxlY29tbWVyY2VzXFxOdWV2YSBjYXJwZXRhXFxiYWNrZW5kXFwiLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiOyBpbXBvcnQgY29uZmlnIGZyb20gXCIuL2NvbmZpZ1wiOyBleHBvcnQgY29uc3QgZ2VuZXJhdGVUb2tlbiA9ICh1c2VyKSA9PiB7IHJldHVybiBqd3Quc2lnbiggeyBfaWQ6IHVzZXIuX2lkLCBuYW1lOiB1c2VyLm5hbWUsIGVtYWlsOiB1c2VyLmVtYWlsLCBpc0FkbWluOiB1c2VyLmlzQWRtaW4sIH0sIGNvbmZpZy5KV1RfU0VDUkVUICk7IH07IGV4cG9ydCBjb25zdCBpc0F1dGggPSAocmVxLCByZXMsIG5leHQpID0+IHsgY29uc3QgYmVhcmVyVG9rZW4gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uOyBpZiAoIWJlYXJlclRva2VuKSB7IHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogXCJUb2tlbiBpcyBub3Qgc3VwcGxpZWRcIiB9KTsgfSBlbHNlIHsgY29uc3QgdG9rZW4gPSBiZWFyZXJUb2tlbi5zbGljZSg3LCBiZWFyZXJUb2tlbi5sZW5ndGgpOyBqd3QudmVyaWZ5KHRva2VuLCBjb25maWcuSldUX1NFQ1JFVCwgKGVyciwgZGF0YSkgPT4geyBpZiAoZXJyKSB7IHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogXCJJbnZhbGlkIFRva2VuXCIgfSk7IH0gZWxzZSB7IHJlcS51c2VyID0gZGF0YTsgbmV4dCgpOyB9IH0pOyB9IH07IGV4cG9ydCBjb25zdCBpc0FkbWluID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7IGlmIChyZXEudXNlciAmJiByZXEudXNlci5pc0FkbWluKSB7IG5leHQoKTsgfSBlbHNlIHsgcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnVG9rZW4gaXMgbm90IHZhbGlkIGZvciBhZG1pbiB1c2VyJyB9KTsgfSB9OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBZ0M7QUFBOEI7QUFBUSxNQUFNQSxhQUFhLEdBQUlDLElBQUksSUFBSztFQUFFLE9BQU9DLHFCQUFHLENBQUNDLElBQUksQ0FBRTtJQUFFQyxHQUFHLEVBQUVILElBQUksQ0FBQ0csR0FBRztJQUFFQyxJQUFJLEVBQUVKLElBQUksQ0FBQ0ksSUFBSTtJQUFFQyxLQUFLLEVBQUVMLElBQUksQ0FBQ0ssS0FBSztJQUFFQyxPQUFPLEVBQUVOLElBQUksQ0FBQ007RUFBUyxDQUFDLEVBQUVDLGVBQU0sQ0FBQ0MsVUFBVSxDQUFFO0FBQUUsQ0FBQztBQUFDO0FBQVEsTUFBTUMsTUFBTSxHQUFHLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFBRSxNQUFNQyxXQUFXLEdBQUdILEdBQUcsQ0FBQ0ksT0FBTyxDQUFDQyxhQUFhO0VBQUUsSUFBSSxDQUFDRixXQUFXLEVBQUU7SUFBRUYsR0FBRyxDQUFDSyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFFQyxPQUFPLEVBQUU7SUFBd0IsQ0FBQyxDQUFDO0VBQUUsQ0FBQyxNQUFNO0lBQUUsTUFBTUMsS0FBSyxHQUFHTixXQUFXLENBQUNPLEtBQUssQ0FBQyxDQUFDLEVBQUVQLFdBQVcsQ0FBQ1EsTUFBTSxDQUFDO0lBQUVwQixxQkFBRyxDQUFDcUIsTUFBTSxDQUFDSCxLQUFLLEVBQUVaLGVBQU0sQ0FBQ0MsVUFBVSxFQUFFLENBQUNlLEdBQUcsRUFBRUMsSUFBSSxLQUFLO01BQUUsSUFBSUQsR0FBRyxFQUFFO1FBQUVaLEdBQUcsQ0FBQ0ssTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFBRUMsT0FBTyxFQUFFO1FBQWdCLENBQUMsQ0FBQztNQUFFLENBQUMsTUFBTTtRQUFFUixHQUFHLENBQUNWLElBQUksR0FBR3dCLElBQUk7UUFBRVosSUFBSSxFQUFFO01BQUU7SUFBRSxDQUFDLENBQUM7RUFBRTtBQUFFLENBQUM7QUFBQztBQUFRLE1BQU1OLE9BQU8sR0FBRyxDQUFDSSxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0VBQUUsSUFBSUYsR0FBRyxDQUFDVixJQUFJLElBQUlVLEdBQUcsQ0FBQ1YsSUFBSSxDQUFDTSxPQUFPLEVBQUU7SUFBRU0sSUFBSSxFQUFFO0VBQUUsQ0FBQyxNQUFNO0lBQUVELEdBQUcsQ0FBQ0ssTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBRUMsT0FBTyxFQUFFO0lBQW9DLENBQUMsQ0FBQztFQUFFO0FBQUUsQ0FBQztBQUFDIn0=","map":{"version":3,"names":["generateToken","user","jwt","sign","_id","name","email","isAdmin","config","JWT_SECRET","isAuth","req","res","next","bearerToken","headers","authorization","status","send","message","token","slice","length","verify","err","data"],"sourceRoot":"C:\\Users\\fraan\\Documents\\ecommerces\\Nueva carpeta\\backend\\","sources":["utils.js"],"sourcesContent":["import jwt from \"jsonwebtoken\"; import config from \"./config\"; export const generateToken = (user) => { return jwt.sign( { _id: user._id, name: user.name, email: user.email, isAdmin: user.isAdmin, }, config.JWT_SECRET ); }; export const isAuth = (req, res, next) => { const bearerToken = req.headers.authorization; if (!bearerToken) { res.status(401).send({ message: \"Token is not supplied\" }); } else { const token = bearerToken.slice(7, bearerToken.length); jwt.verify(token, config.JWT_SECRET, (err, data) => { if (err) { res.status(401).send({ message: \"Invalid Token\" }); } else { req.user = data; next(); } }); } }; export const isAdmin = (req, res, next) => { if (req.user && req.user.isAdmin) { next(); } else { res.status(401).send({ message: 'Token is not valid for admin user' }); } };"],"mappings":";;;;;;AAAA;AAAgC;AAA8B;AAAQ,MAAMA,aAAa,GAAIC,IAAI,IAAK;EAAE,OAAOC,qBAAG,CAACC,IAAI,CAAE;IAAEC,GAAG,EAAEH,IAAI,CAACG,GAAG;IAAEC,IAAI,EAAEJ,IAAI,CAACI,IAAI;IAAEC,KAAK,EAAEL,IAAI,CAACK,KAAK;IAAEC,OAAO,EAAEN,IAAI,CAACM;EAAS,CAAC,EAAEC,eAAM,CAACC,UAAU,CAAE;AAAE,CAAC;AAAC;AAAQ,MAAMC,MAAM,GAAG,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAAE,MAAMC,WAAW,GAAGH,GAAG,CAACI,OAAO,CAACC,aAAa;EAAE,IAAI,CAACF,WAAW,EAAE;IAAEF,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAE;IAAwB,CAAC,CAAC;EAAE,CAAC,MAAM;IAAE,MAAMC,KAAK,GAAGN,WAAW,CAACO,KAAK,CAAC,CAAC,EAAEP,WAAW,CAACQ,MAAM,CAAC;IAAEpB,qBAAG,CAACqB,MAAM,CAACH,KAAK,EAAEZ,eAAM,CAACC,UAAU,EAAE,CAACe,GAAG,EAAEC,IAAI,KAAK;MAAE,IAAID,GAAG,EAAE;QAAEZ,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAAEC,OAAO,EAAE;QAAgB,CAAC,CAAC;MAAE,CAAC,MAAM;QAAER,GAAG,CAACV,IAAI,GAAGwB,IAAI;QAAEZ,IAAI,EAAE;MAAE;IAAE,CAAC,CAAC;EAAE;AAAE,CAAC;AAAC;AAAQ,MAAMN,OAAO,GAAG,CAACI,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAAE,IAAIF,GAAG,CAACV,IAAI,IAAIU,GAAG,CAACV,IAAI,CAACM,OAAO,EAAE;IAAEM,IAAI,EAAE;EAAE,CAAC,MAAM;IAAED,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAE;IAAoC,CAAC,CAAC;EAAE;AAAE,CAAC;AAAC"}},"mtime":1667530546970},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\\\\backend\\\\config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n_dotenv.default.config();\nvar _default = {\n  PORT: process.env.PORT || 5000,\n  MONGODB_URL: process.env.MONGODB_URL,\n  JWT_SECRET: process.env.JWT_SECRET,\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJQT1JUIiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJMIiwiSldUX1NFQ1JFVCIsIlBBWVBBTF9DTElFTlRfSUQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcZnJhYW5cXERvY3VtZW50c1xcZWNvbW1lcmNlc1xcTnVldmEgY2FycGV0YVxcYmFja2VuZFxcIiwic291cmNlcyI6WyJjb25maWcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnOyBkb3RlbnYuY29uZmlnKCk7IGV4cG9ydCBkZWZhdWx0IHsgUE9SVDogcHJvY2Vzcy5lbnYuUE9SVCB8fCA1MDAwLCBNT05HT0RCX1VSTDogcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkwsIEpXVF9TRUNSRVQ6IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsIFBBWVBBTF9DTElFTlRfSUQ6IHByb2Nlc3MuZW52LlBBWVBBTF9DTElFTlRfSUQsIH07Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUE0QjtBQUFDQSxlQUFNLENBQUNDLE1BQU0sRUFBRTtBQUFDLGVBQWdCO0VBQUVDLElBQUksRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLElBQUksSUFBSSxJQUFJO0VBQUVHLFdBQVcsRUFBRUYsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFdBQVc7RUFBRUMsVUFBVSxFQUFFSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0UsVUFBVTtFQUFFQyxnQkFBZ0IsRUFBRUosT0FBTyxDQUFDQyxHQUFHLENBQUNHO0FBQWtCLENBQUM7QUFBQSJ9","map":{"version":3,"names":["dotenv","config","PORT","process","env","MONGODB_URL","JWT_SECRET","PAYPAL_CLIENT_ID"],"sourceRoot":"C:\\Users\\fraan\\Documents\\ecommerces\\Nueva carpeta\\backend\\","sources":["config.js"],"sourcesContent":["import dotenv from 'dotenv'; dotenv.config(); export default { PORT: process.env.PORT || 5000, MONGODB_URL: process.env.MONGODB_URL, JWT_SECRET: process.env.JWT_SECRET, PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID, };"],"mappings":";;;;;;AAAA;AAA4B;AAACA,eAAM,CAACC,MAAM,EAAE;AAAC,eAAgB;EAAEC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACF,IAAI,IAAI,IAAI;EAAEG,WAAW,EAAEF,OAAO,CAACC,GAAG,CAACC,WAAW;EAAEC,UAAU,EAAEH,OAAO,CAACC,GAAG,CAACE,UAAU;EAAEC,gBAAgB,EAAEJ,OAAO,CAACC,GAAG,CAACG;AAAkB,CAAC;AAAA"}},"mtime":1667530638906},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\\\\backend\\\\routers\\\\orderRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\nvar _utils = require(\"../utils\");\nvar _orderModel = _interopRequireDefault(require(\"../models/orderModel\"));\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst orderRouter = _express.default.Router();\norderRouter.get('/summary', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.aggregate([{\n    $group: {\n      _id: null,\n      numOrders: {\n        $sum: 1\n      },\n      totalSales: {\n        $sum: '$totalPrice'\n      }\n    }\n  }]);\n  const users = await _userModel.default.aggregate([{\n    $group: {\n      _id: null,\n      numUsers: {\n        $sum: 1\n      }\n    }\n  }]);\n  res.send({\n    users,\n    orders\n  });\n}));\norderRouter.get('/', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.find({}).populate('user');\n  res.send(orders);\n}));\norderRouter.get(\"/mine\", _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.find({\n    user: req.user._id\n  });\n  res.send(orders);\n}));\norderRouter.get(\"/:id\", _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send({\n      message: \"Order Not Found\"\n    });\n  }\n}));\norderRouter.post(\"/\", _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = new _orderModel.default({\n    orderItems: req.body.orderItems,\n    user: req.user._id,\n    shipping: req.body.shipping,\n    payment: req.body.payment,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    totalPrice: req.body.totalPrice\n  });\n  const createdOrder = await order.save();\n  res.status(201).send({\n    message: \"New Order Created\",\n    order: createdOrder\n  });\n}));\norderRouter.delete('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n  if (order) {\n    const deletedOrder = await order.remove();\n    res.send({\n      message: 'Order Deleted',\n      product: deletedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\norderRouter.put(\"/:id/pay\", _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.payment.paymentResult = {\n      payerID: req.body.payerID,\n      paymentID: req.body.paymentID,\n      orderID: req.body.orderID\n    };\n    const updatedOrder = await order.save();\n    res.send({\n      message: \"Order Paid\",\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: \"Order Not Found.\"\n    });\n  }\n}));\norderRouter.put('/:id/deliver', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n  if (order) {\n    order.isDelivered = true;\n    order.deliveredAt = Date.now();\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Delivered',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found.'\n    });\n  }\n}));\nvar _default = orderRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJvcmRlclJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJpc0F1dGgiLCJpc0FkbWluIiwiZXhwcmVzc0FzeW5jSGFuZGxlciIsInJlcSIsInJlcyIsIm9yZGVycyIsIk9yZGVyIiwiYWdncmVnYXRlIiwiJGdyb3VwIiwiX2lkIiwibnVtT3JkZXJzIiwiJHN1bSIsInRvdGFsU2FsZXMiLCJ1c2VycyIsIlVzZXIiLCJudW1Vc2VycyIsInNlbmQiLCJmaW5kIiwicG9wdWxhdGUiLCJ1c2VyIiwib3JkZXIiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwic3RhdHVzIiwibWVzc2FnZSIsInBvc3QiLCJvcmRlckl0ZW1zIiwiYm9keSIsInNoaXBwaW5nIiwicGF5bWVudCIsIml0ZW1zUHJpY2UiLCJ0YXhQcmljZSIsInNoaXBwaW5nUHJpY2UiLCJ0b3RhbFByaWNlIiwiY3JlYXRlZE9yZGVyIiwic2F2ZSIsImRlbGV0ZSIsImRlbGV0ZWRPcmRlciIsInJlbW92ZSIsInByb2R1Y3QiLCJwdXQiLCJpc1BhaWQiLCJwYWlkQXQiLCJEYXRlIiwibm93IiwicGF5bWVudFJlc3VsdCIsInBheWVySUQiLCJwYXltZW50SUQiLCJvcmRlcklEIiwidXBkYXRlZE9yZGVyIiwiaXNEZWxpdmVyZWQiLCJkZWxpdmVyZWRBdCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxmcmFhblxcRG9jdW1lbnRzXFxlY29tbWVyY2VzXFxOdWV2YSBjYXJwZXRhXFxiYWNrZW5kXFxyb3V0ZXJzXFwiLCJzb3VyY2VzIjpbIm9yZGVyUm91dGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7IGltcG9ydCBleHByZXNzQXN5bmNIYW5kbGVyIGZyb20gXCJleHByZXNzLWFzeW5jLWhhbmRsZXJcIjsgaW1wb3J0IHsgaXNBdXRoLCBpc0FkbWluIH0gZnJvbSAnLi4vdXRpbHMnOyBpbXBvcnQgT3JkZXIgZnJvbSBcIi4uL21vZGVscy9vcmRlck1vZGVsXCI7IGltcG9ydCBVc2VyIGZyb20gJy4uL21vZGVscy91c2VyTW9kZWwnOyBjb25zdCBvcmRlclJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7IG9yZGVyUm91dGVyLmdldCggJy9zdW1tYXJ5JywgaXNBdXRoLCBpc0FkbWluLCBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4geyBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5hZ2dyZWdhdGUoWyB7ICRncm91cDogeyBfaWQ6IG51bGwsIG51bU9yZGVyczogeyAkc3VtOiAxIH0sIHRvdGFsU2FsZXM6IHsgJHN1bTogJyR0b3RhbFByaWNlJyB9LCB9LCB9LCBdKTsgY29uc3QgdXNlcnMgPSBhd2FpdCBVc2VyLmFnZ3JlZ2F0ZShbIHsgJGdyb3VwOiB7IF9pZDogbnVsbCwgbnVtVXNlcnM6IHsgJHN1bTogMSB9LCB9LCB9LCBdKTsgcmVzLnNlbmQoeyB1c2Vycywgb3JkZXJzIH0pOyB9KSApOyBvcmRlclJvdXRlci5nZXQoICcvJywgaXNBdXRoLCBpc0FkbWluLCBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4geyBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5maW5kKHt9KS5wb3B1bGF0ZSgndXNlcicpOyByZXMuc2VuZChvcmRlcnMpOyB9KSApOyBvcmRlclJvdXRlci5nZXQoIFwiL21pbmVcIiwgaXNBdXRoLCBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4geyBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5maW5kKHsgdXNlcjogcmVxLnVzZXIuX2lkIH0pOyByZXMuc2VuZChvcmRlcnMpOyB9KSApOyBvcmRlclJvdXRlci5nZXQoIFwiLzppZFwiLCBpc0F1dGgsIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7IGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7IGlmIChvcmRlcikgeyByZXMuc2VuZChvcmRlcik7IH0gZWxzZSB7IHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogXCJPcmRlciBOb3QgRm91bmRcIiB9KTsgfSB9KSApOyBvcmRlclJvdXRlci5wb3N0KCBcIi9cIiwgaXNBdXRoLCBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4geyBjb25zdCBvcmRlciA9IG5ldyBPcmRlcih7IG9yZGVySXRlbXM6IHJlcS5ib2R5Lm9yZGVySXRlbXMsIHVzZXI6IHJlcS51c2VyLl9pZCwgc2hpcHBpbmc6IHJlcS5ib2R5LnNoaXBwaW5nLCBwYXltZW50OiByZXEuYm9keS5wYXltZW50LCBpdGVtc1ByaWNlOiByZXEuYm9keS5pdGVtc1ByaWNlLCB0YXhQcmljZTogcmVxLmJvZHkudGF4UHJpY2UsIHNoaXBwaW5nUHJpY2U6IHJlcS5ib2R5LnNoaXBwaW5nUHJpY2UsIHRvdGFsUHJpY2U6IHJlcS5ib2R5LnRvdGFsUHJpY2UsIH0pOyBjb25zdCBjcmVhdGVkT3JkZXIgPSBhd2FpdCBvcmRlci5zYXZlKCk7IHJlcy5zdGF0dXMoMjAxKS5zZW5kKHsgbWVzc2FnZTogXCJOZXcgT3JkZXIgQ3JlYXRlZFwiLCBvcmRlcjogY3JlYXRlZE9yZGVyIH0pOyB9KSApOyBvcmRlclJvdXRlci5kZWxldGUoICcvOmlkJywgaXNBdXRoLCBpc0FkbWluLCBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4geyBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpOyBpZiAob3JkZXIpIHsgY29uc3QgZGVsZXRlZE9yZGVyID0gYXdhaXQgb3JkZXIucmVtb3ZlKCk7IHJlcy5zZW5kKHsgbWVzc2FnZTogJ09yZGVyIERlbGV0ZWQnLCBwcm9kdWN0OiBkZWxldGVkT3JkZXIgfSk7IH0gZWxzZSB7IHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ09yZGVyIE5vdCBGb3VuZCcgfSk7IH0gfSkgKTsgb3JkZXJSb3V0ZXIucHV0KCBcIi86aWQvcGF5XCIsIGlzQXV0aCwgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHsgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTsgaWYgKG9yZGVyKSB7IG9yZGVyLmlzUGFpZCA9IHRydWU7IG9yZGVyLnBhaWRBdCA9IERhdGUubm93KCk7IG9yZGVyLnBheW1lbnQucGF5bWVudFJlc3VsdCA9IHsgcGF5ZXJJRDogcmVxLmJvZHkucGF5ZXJJRCwgcGF5bWVudElEOiByZXEuYm9keS5wYXltZW50SUQsIG9yZGVySUQ6IHJlcS5ib2R5Lm9yZGVySUQsIH07IGNvbnN0IHVwZGF0ZWRPcmRlciA9IGF3YWl0IG9yZGVyLnNhdmUoKTsgcmVzLnNlbmQoeyBtZXNzYWdlOiBcIk9yZGVyIFBhaWRcIiwgb3JkZXI6IHVwZGF0ZWRPcmRlciB9KTsgfSBlbHNlIHsgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiBcIk9yZGVyIE5vdCBGb3VuZC5cIiB9KTsgfSB9KSApOyBvcmRlclJvdXRlci5wdXQoICcvOmlkL2RlbGl2ZXInLCBpc0F1dGgsIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7IGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7IGlmIChvcmRlcikgeyBvcmRlci5pc0RlbGl2ZXJlZCA9IHRydWU7IG9yZGVyLmRlbGl2ZXJlZEF0ID0gRGF0ZS5ub3coKTsgY29uc3QgdXBkYXRlZE9yZGVyID0gYXdhaXQgb3JkZXIuc2F2ZSgpOyByZXMuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBEZWxpdmVyZWQnLCBvcmRlcjogdXBkYXRlZE9yZGVyIH0pOyB9IGVsc2UgeyByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBOb3QgRm91bmQuJyB9KTsgfSB9KSApOyBleHBvcnQgZGVmYXVsdCBvcmRlclJvdXRlciJdLCJtYXBwaW5ncyI6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","map":{"version":3,"names":["orderRouter","express","Router","get","isAuth","isAdmin","expressAsyncHandler","req","res","orders","Order","aggregate","$group","_id","numOrders","$sum","totalSales","users","User","numUsers","send","find","populate","user","order","findById","params","id","status","message","post","orderItems","body","shipping","payment","itemsPrice","taxPrice","shippingPrice","totalPrice","createdOrder","save","delete","deletedOrder","remove","product","put","isPaid","paidAt","Date","now","paymentResult","payerID","paymentID","orderID","updatedOrder","isDelivered","deliveredAt"],"sourceRoot":"C:\\Users\\fraan\\Documents\\ecommerces\\Nueva carpeta\\backend\\routers\\","sources":["orderRouter.js"],"sourcesContent":["import express from \"express\"; import expressAsyncHandler from \"express-async-handler\"; import { isAuth, isAdmin } from '../utils'; import Order from \"../models/orderModel\"; import User from '../models/userModel'; const orderRouter = express.Router(); orderRouter.get( '/summary', isAuth, isAdmin, expressAsyncHandler(async (req, res) => { const orders = await Order.aggregate([ { $group: { _id: null, numOrders: { $sum: 1 }, totalSales: { $sum: '$totalPrice' }, }, }, ]); const users = await User.aggregate([ { $group: { _id: null, numUsers: { $sum: 1 }, }, }, ]); res.send({ users, orders }); }) ); orderRouter.get( '/', isAuth, isAdmin, expressAsyncHandler(async (req, res) => { const orders = await Order.find({}).populate('user'); res.send(orders); }) ); orderRouter.get( \"/mine\", isAuth, expressAsyncHandler(async (req, res) => { const orders = await Order.find({ user: req.user._id }); res.send(orders); }) ); orderRouter.get( \"/:id\", isAuth, expressAsyncHandler(async (req, res) => { const order = await Order.findById(req.params.id); if (order) { res.send(order); } else { res.status(404).send({ message: \"Order Not Found\" }); } }) ); orderRouter.post( \"/\", isAuth, expressAsyncHandler(async (req, res) => { const order = new Order({ orderItems: req.body.orderItems, user: req.user._id, shipping: req.body.shipping, payment: req.body.payment, itemsPrice: req.body.itemsPrice, taxPrice: req.body.taxPrice, shippingPrice: req.body.shippingPrice, totalPrice: req.body.totalPrice, }); const createdOrder = await order.save(); res.status(201).send({ message: \"New Order Created\", order: createdOrder }); }) ); orderRouter.delete( '/:id', isAuth, isAdmin, expressAsyncHandler(async (req, res) => { const order = await Order.findById(req.params.id); if (order) { const deletedOrder = await order.remove(); res.send({ message: 'Order Deleted', product: deletedOrder }); } else { res.status(404).send({ message: 'Order Not Found' }); } }) ); orderRouter.put( \"/:id/pay\", isAuth, expressAsyncHandler(async (req, res) => { const order = await Order.findById(req.params.id); if (order) { order.isPaid = true; order.paidAt = Date.now(); order.payment.paymentResult = { payerID: req.body.payerID, paymentID: req.body.paymentID, orderID: req.body.orderID, }; const updatedOrder = await order.save(); res.send({ message: \"Order Paid\", order: updatedOrder }); } else { res.status(404).send({ message: \"Order Not Found.\" }); } }) ); orderRouter.put( '/:id/deliver', isAuth, expressAsyncHandler(async (req, res) => { const order = await Order.findById(req.params.id); if (order) { order.isDelivered = true; order.deliveredAt = Date.now(); const updatedOrder = await order.save(); res.send({ message: 'Order Delivered', order: updatedOrder }); } else { res.status(404).send({ message: 'Order Not Found.' }); } }) ); export default orderRouter"],"mappings":"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"}},"mtime":1667530647028},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\\\\backend\\\\models\\\\orderModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst orderSchema = new _mongoose.default.Schema({\n  orderItems: [{\n    name: {\n      type: String,\n      required: true\n    },\n    image: {\n      type: String,\n      required: true\n    },\n    price: {\n      type: Number,\n      required: true\n    },\n    qty: {\n      type: Number,\n      required: true\n    },\n    product: {\n      type: _mongoose.default.Schema.Types.ObjectId,\n      ref: \"Product\",\n      required: true\n    }\n  }],\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: \"User\",\n    required: true\n  },\n  shipping: {\n    address: String,\n    city: String,\n    postalCode: String,\n    country: String\n  },\n  payment: {\n    paymentMethod: String,\n    paymentResult: {\n      orderID: String,\n      payerID: String,\n      paymentID: String\n    }\n  },\n  itemsPrice: Number,\n  taxPrice: Number,\n  shippingPrice: Number,\n  totalPrice: Number,\n  isPaid: {\n    type: Boolean,\n    required: true,\n    default: false\n  },\n  paidAt: Date,\n  isDelivered: {\n    type: Boolean,\n    required: true,\n    default: false\n  },\n  deliveredAt: Date\n}, {\n  timestamps: true\n});\nconst Order = _mongoose.default.model('Order', orderSchema);\nvar _default = Order;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJvcmRlclNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwib3JkZXJJdGVtcyIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJpbWFnZSIsInByaWNlIiwiTnVtYmVyIiwicXR5IiwicHJvZHVjdCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ1c2VyIiwic2hpcHBpbmciLCJhZGRyZXNzIiwiY2l0eSIsInBvc3RhbENvZGUiLCJjb3VudHJ5IiwicGF5bWVudCIsInBheW1lbnRNZXRob2QiLCJwYXltZW50UmVzdWx0Iiwib3JkZXJJRCIsInBheWVySUQiLCJwYXltZW50SUQiLCJpdGVtc1ByaWNlIiwidGF4UHJpY2UiLCJzaGlwcGluZ1ByaWNlIiwidG90YWxQcmljZSIsImlzUGFpZCIsIkJvb2xlYW4iLCJkZWZhdWx0IiwicGFpZEF0IiwiRGF0ZSIsImlzRGVsaXZlcmVkIiwiZGVsaXZlcmVkQXQiLCJ0aW1lc3RhbXBzIiwiT3JkZXIiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxmcmFhblxcRG9jdW1lbnRzXFxlY29tbWVyY2VzXFxOdWV2YSBjYXJwZXRhXFxiYWNrZW5kXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsib3JkZXJNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7IGNvbnN0IG9yZGVyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSggeyBvcmRlckl0ZW1zOiBbIHsgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sIGltYWdlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSwgcHJpY2U6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LCBxdHk6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LCBwcm9kdWN0OiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiBcIlByb2R1Y3RcIiwgcmVxdWlyZWQ6IHRydWUsIH0sIH0sIF0sIHVzZXI6IHsgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6IFwiVXNlclwiLCByZXF1aXJlZDogdHJ1ZSB9LCBzaGlwcGluZzogeyBhZGRyZXNzOiBTdHJpbmcsIGNpdHk6IFN0cmluZywgcG9zdGFsQ29kZTogU3RyaW5nLCBjb3VudHJ5OiBTdHJpbmcsIH0sIHBheW1lbnQ6IHsgcGF5bWVudE1ldGhvZDogU3RyaW5nLCBwYXltZW50UmVzdWx0OiB7IG9yZGVySUQ6IFN0cmluZywgcGF5ZXJJRDogU3RyaW5nLCBwYXltZW50SUQ6IFN0cmluZywgfSwgfSwgaXRlbXNQcmljZTogTnVtYmVyLCB0YXhQcmljZTogTnVtYmVyLCBzaGlwcGluZ1ByaWNlOiBOdW1iZXIsIHRvdGFsUHJpY2U6IE51bWJlciwgaXNQYWlkOiB7IHR5cGU6IEJvb2xlYW4sIHJlcXVpcmVkOiB0cnVlLCBkZWZhdWx0OiBmYWxzZSB9LCBwYWlkQXQ6IERhdGUsIGlzRGVsaXZlcmVkOiB7IHR5cGU6IEJvb2xlYW4sIHJlcXVpcmVkOiB0cnVlLCBkZWZhdWx0OiBmYWxzZSB9LCBkZWxpdmVyZWRBdDogRGF0ZSwgfSwgeyB0aW1lc3RhbXBzOiB0cnVlLCB9ICk7IGNvbnN0IE9yZGVyID0gbW9uZ29vc2UubW9kZWwoJ09yZGVyJywgb3JkZXJTY2hlbWEpOyBleHBvcnQgZGVmYXVsdCBPcmRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQWdDO0FBQUMsTUFBTUEsV0FBVyxHQUFHLElBQUlDLGlCQUFRLENBQUNDLE1BQU0sQ0FBRTtFQUFFQyxVQUFVLEVBQUUsQ0FBRTtJQUFFQyxJQUFJLEVBQUU7TUFBRUMsSUFBSSxFQUFFQyxNQUFNO01BQUVDLFFBQVEsRUFBRTtJQUFLLENBQUM7SUFBRUMsS0FBSyxFQUFFO01BQUVILElBQUksRUFBRUMsTUFBTTtNQUFFQyxRQUFRLEVBQUU7SUFBSyxDQUFDO0lBQUVFLEtBQUssRUFBRTtNQUFFSixJQUFJLEVBQUVLLE1BQU07TUFBRUgsUUFBUSxFQUFFO0lBQUssQ0FBQztJQUFFSSxHQUFHLEVBQUU7TUFBRU4sSUFBSSxFQUFFSyxNQUFNO01BQUVILFFBQVEsRUFBRTtJQUFLLENBQUM7SUFBRUssT0FBTyxFQUFFO01BQUVQLElBQUksRUFBRUosaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDVyxLQUFLLENBQUNDLFFBQVE7TUFBRUMsR0FBRyxFQUFFLFNBQVM7TUFBRVIsUUFBUSxFQUFFO0lBQU07RUFBRyxDQUFDLENBQUc7RUFBRVMsSUFBSSxFQUFFO0lBQUVYLElBQUksRUFBRUosaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDVyxLQUFLLENBQUNDLFFBQVE7SUFBRUMsR0FBRyxFQUFFLE1BQU07SUFBRVIsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUFFVSxRQUFRLEVBQUU7SUFBRUMsT0FBTyxFQUFFWixNQUFNO0lBQUVhLElBQUksRUFBRWIsTUFBTTtJQUFFYyxVQUFVLEVBQUVkLE1BQU07SUFBRWUsT0FBTyxFQUFFZjtFQUFRLENBQUM7RUFBRWdCLE9BQU8sRUFBRTtJQUFFQyxhQUFhLEVBQUVqQixNQUFNO0lBQUVrQixhQUFhLEVBQUU7TUFBRUMsT0FBTyxFQUFFbkIsTUFBTTtNQUFFb0IsT0FBTyxFQUFFcEIsTUFBTTtNQUFFcUIsU0FBUyxFQUFFckI7SUFBUTtFQUFHLENBQUM7RUFBRXNCLFVBQVUsRUFBRWxCLE1BQU07RUFBRW1CLFFBQVEsRUFBRW5CLE1BQU07RUFBRW9CLGFBQWEsRUFBRXBCLE1BQU07RUFBRXFCLFVBQVUsRUFBRXJCLE1BQU07RUFBRXNCLE1BQU0sRUFBRTtJQUFFM0IsSUFBSSxFQUFFNEIsT0FBTztJQUFFMUIsUUFBUSxFQUFFLElBQUk7SUFBRTJCLE9BQU8sRUFBRTtFQUFNLENBQUM7RUFBRUMsTUFBTSxFQUFFQyxJQUFJO0VBQUVDLFdBQVcsRUFBRTtJQUFFaEMsSUFBSSxFQUFFNEIsT0FBTztJQUFFMUIsUUFBUSxFQUFFLElBQUk7SUFBRTJCLE9BQU8sRUFBRTtFQUFNLENBQUM7RUFBRUksV0FBVyxFQUFFRjtBQUFNLENBQUMsRUFBRTtFQUFFRyxVQUFVLEVBQUU7QUFBTSxDQUFDLENBQUU7QUFBRSxNQUFNQyxLQUFLLEdBQUd2QyxpQkFBUSxDQUFDd0MsS0FBSyxDQUFDLE9BQU8sRUFBRXpDLFdBQVcsQ0FBQztBQUFDLGVBQWdCd0MsS0FBSztBQUFBIn0=","map":{"version":3,"names":["orderSchema","mongoose","Schema","orderItems","name","type","String","required","image","price","Number","qty","product","Types","ObjectId","ref","user","shipping","address","city","postalCode","country","payment","paymentMethod","paymentResult","orderID","payerID","paymentID","itemsPrice","taxPrice","shippingPrice","totalPrice","isPaid","Boolean","default","paidAt","Date","isDelivered","deliveredAt","timestamps","Order","model"],"sourceRoot":"C:\\Users\\fraan\\Documents\\ecommerces\\Nueva carpeta\\backend\\models\\","sources":["orderModel.js"],"sourcesContent":["import mongoose from \"mongoose\"; const orderSchema = new mongoose.Schema( { orderItems: [ { name: { type: String, required: true }, image: { type: String, required: true }, price: { type: Number, required: true }, qty: { type: Number, required: true }, product: { type: mongoose.Schema.Types.ObjectId, ref: \"Product\", required: true, }, }, ], user: { type: mongoose.Schema.Types.ObjectId, ref: \"User\", required: true }, shipping: { address: String, city: String, postalCode: String, country: String, }, payment: { paymentMethod: String, paymentResult: { orderID: String, payerID: String, paymentID: String, }, }, itemsPrice: Number, taxPrice: Number, shippingPrice: Number, totalPrice: Number, isPaid: { type: Boolean, required: true, default: false }, paidAt: Date, isDelivered: { type: Boolean, required: true, default: false }, deliveredAt: Date, }, { timestamps: true, } ); const Order = mongoose.model('Order', orderSchema); export default Order;"],"mappings":";;;;;;AAAA;AAAgC;AAAC,MAAMA,WAAW,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CAAE;EAAEC,UAAU,EAAE,CAAE;IAAEC,IAAI,EAAE;MAAEC,IAAI,EAAEC,MAAM;MAAEC,QAAQ,EAAE;IAAK,CAAC;IAAEC,KAAK,EAAE;MAAEH,IAAI,EAAEC,MAAM;MAAEC,QAAQ,EAAE;IAAK,CAAC;IAAEE,KAAK,EAAE;MAAEJ,IAAI,EAAEK,MAAM;MAAEH,QAAQ,EAAE;IAAK,CAAC;IAAEI,GAAG,EAAE;MAAEN,IAAI,EAAEK,MAAM;MAAEH,QAAQ,EAAE;IAAK,CAAC;IAAEK,OAAO,EAAE;MAAEP,IAAI,EAAEJ,iBAAQ,CAACC,MAAM,CAACW,KAAK,CAACC,QAAQ;MAAEC,GAAG,EAAE,SAAS;MAAER,QAAQ,EAAE;IAAM;EAAG,CAAC,CAAG;EAAES,IAAI,EAAE;IAAEX,IAAI,EAAEJ,iBAAQ,CAACC,MAAM,CAACW,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAE,MAAM;IAAER,QAAQ,EAAE;EAAK,CAAC;EAAEU,QAAQ,EAAE;IAAEC,OAAO,EAAEZ,MAAM;IAAEa,IAAI,EAAEb,MAAM;IAAEc,UAAU,EAAEd,MAAM;IAAEe,OAAO,EAAEf;EAAQ,CAAC;EAAEgB,OAAO,EAAE;IAAEC,aAAa,EAAEjB,MAAM;IAAEkB,aAAa,EAAE;MAAEC,OAAO,EAAEnB,MAAM;MAAEoB,OAAO,EAAEpB,MAAM;MAAEqB,SAAS,EAAErB;IAAQ;EAAG,CAAC;EAAEsB,UAAU,EAAElB,MAAM;EAAEmB,QAAQ,EAAEnB,MAAM;EAAEoB,aAAa,EAAEpB,MAAM;EAAEqB,UAAU,EAAErB,MAAM;EAAEsB,MAAM,EAAE;IAAE3B,IAAI,EAAE4B,OAAO;IAAE1B,QAAQ,EAAE,IAAI;IAAE2B,OAAO,EAAE;EAAM,CAAC;EAAEC,MAAM,EAAEC,IAAI;EAAEC,WAAW,EAAE;IAAEhC,IAAI,EAAE4B,OAAO;IAAE1B,QAAQ,EAAE,IAAI;IAAE2B,OAAO,EAAE;EAAM,CAAC;EAAEI,WAAW,EAAEF;AAAM,CAAC,EAAE;EAAEG,UAAU,EAAE;AAAM,CAAC,CAAE;AAAE,MAAMC,KAAK,GAAGvC,iBAAQ,CAACwC,KAAK,CAAC,OAAO,EAAEzC,WAAW,CAAC;AAAC,eAAgBwC,KAAK;AAAA"}},"mtime":1667530687470},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\\\\backend\\\\routers\\\\productRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\nvar _utils = require(\"../utils\");\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst productRouter = _express.default.Router();\nproductRouter.get(\"/\", (0, _expressAsyncHandler.default)(async (req, res) => {\n  const products = await _productModel.default.find({});\n  res.send(products);\n}));\nproductRouter.get(\"/:id\", (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n  res.send(product);\n}));\nproductRouter.post(\"/\", _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = new _productModel.default({\n    name: \"sample product\",\n    description: \"sample desc\",\n    category: \"sample category\",\n    brand: \"sample brand\",\n    image: \"/images/product-1.jpg\"\n  });\n  const createdProduct = await product.save();\n  if (createdProduct) {\n    res.status(201).send({\n      message: \"Product Created\",\n      product: createdProduct\n    });\n  } else {\n    res.status(500).send({\n      message: \"Error in creating product\"\n    });\n  }\n}));\nproductRouter.put(\"/:id\", _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.brand = req.body.brand;\n    product.category = req.body.category;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n    if (updatedProduct) {\n      res.send({\n        message: \"Product Updated\",\n        product: updatedProduct\n      });\n    } else {\n      res.status(500).send({\n        message: \"Error in updaing product\"\n      });\n    }\n  } else {\n    res.status(404).send({\n      message: \"Product Not Found\"\n    });\n  }\n}));\nproductRouter.delete('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n  if (product) {\n    const deletedProduct = await product.remove();\n    res.send({\n      message: 'Product Deleted',\n      product: deletedProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nvar _default = productRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0Um91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImV4cHJlc3NBc3luY0hhbmRsZXIiLCJyZXEiLCJyZXMiLCJwcm9kdWN0cyIsIlByb2R1Y3QiLCJmaW5kIiwic2VuZCIsInByb2R1Y3QiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwicG9zdCIsImlzQXV0aCIsImlzQWRtaW4iLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJjYXRlZ29yeSIsImJyYW5kIiwiaW1hZ2UiLCJjcmVhdGVkUHJvZHVjdCIsInNhdmUiLCJzdGF0dXMiLCJtZXNzYWdlIiwicHV0IiwicHJvZHVjdElkIiwiYm9keSIsInByaWNlIiwiY291bnRJblN0b2NrIiwidXBkYXRlZFByb2R1Y3QiLCJkZWxldGUiLCJkZWxldGVkUHJvZHVjdCIsInJlbW92ZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxmcmFhblxcRG9jdW1lbnRzXFxlY29tbWVyY2VzXFxOdWV2YSBjYXJwZXRhXFxiYWNrZW5kXFxyb3V0ZXJzXFwiLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjsgaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSBcImV4cHJlc3MtYXN5bmMtaGFuZGxlclwiOyBpbXBvcnQgeyBpc0F1dGgsIGlzQWRtaW4gfSBmcm9tIFwiLi4vdXRpbHNcIjsgaW1wb3J0IFByb2R1Y3QgZnJvbSBcIi4uL21vZGVscy9wcm9kdWN0TW9kZWxcIjsgY29uc3QgcHJvZHVjdFJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7IHByb2R1Y3RSb3V0ZXIuZ2V0KCBcIi9cIiwgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHsgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBQcm9kdWN0LmZpbmQoe30pOyByZXMuc2VuZChwcm9kdWN0cyk7IH0pICk7IHByb2R1Y3RSb3V0ZXIuZ2V0KCBcIi86aWRcIiwgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHsgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7IHJlcy5zZW5kKHByb2R1Y3QpOyB9KSApOyBwcm9kdWN0Um91dGVyLnBvc3QoIFwiL1wiLCBpc0F1dGgsIGlzQWRtaW4sIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7IGNvbnN0IHByb2R1Y3QgPSBuZXcgUHJvZHVjdCh7IG5hbWU6IFwic2FtcGxlIHByb2R1Y3RcIiwgZGVzY3JpcHRpb246IFwic2FtcGxlIGRlc2NcIiwgY2F0ZWdvcnk6IFwic2FtcGxlIGNhdGVnb3J5XCIsIGJyYW5kOiBcInNhbXBsZSBicmFuZFwiLCBpbWFnZTogXCIvaW1hZ2VzL3Byb2R1Y3QtMS5qcGdcIiwgfSk7IGNvbnN0IGNyZWF0ZWRQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5zYXZlKCk7IGlmIChjcmVhdGVkUHJvZHVjdCkgeyByZXMgLnN0YXR1cygyMDEpIC5zZW5kKHsgbWVzc2FnZTogXCJQcm9kdWN0IENyZWF0ZWRcIiwgcHJvZHVjdDogY3JlYXRlZFByb2R1Y3QgfSk7IH0gZWxzZSB7IHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogXCJFcnJvciBpbiBjcmVhdGluZyBwcm9kdWN0XCIgfSk7IH0gfSkgKTsgcHJvZHVjdFJvdXRlci5wdXQoIFwiLzppZFwiLCBpc0F1dGgsIGlzQWRtaW4sIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7IGNvbnN0IHByb2R1Y3RJZCA9IHJlcS5wYXJhbXMuaWQ7IGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHByb2R1Y3RJZCk7IGlmIChwcm9kdWN0KSB7IHByb2R1Y3QubmFtZSA9IHJlcS5ib2R5Lm5hbWU7IHByb2R1Y3QucHJpY2UgPSByZXEuYm9keS5wcmljZTsgcHJvZHVjdC5pbWFnZSA9IHJlcS5ib2R5LmltYWdlOyBwcm9kdWN0LmJyYW5kID0gcmVxLmJvZHkuYnJhbmQ7IHByb2R1Y3QuY2F0ZWdvcnkgPSByZXEuYm9keS5jYXRlZ29yeTsgcHJvZHVjdC5jb3VudEluU3RvY2sgPSByZXEuYm9keS5jb3VudEluU3RvY2s7IHByb2R1Y3QuZGVzY3JpcHRpb24gPSByZXEuYm9keS5kZXNjcmlwdGlvbjsgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKTsgaWYgKHVwZGF0ZWRQcm9kdWN0KSB7IHJlcy5zZW5kKHsgbWVzc2FnZTogXCJQcm9kdWN0IFVwZGF0ZWRcIiwgcHJvZHVjdDogdXBkYXRlZFByb2R1Y3QgfSk7IH0gZWxzZSB7IHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogXCJFcnJvciBpbiB1cGRhaW5nIHByb2R1Y3RcIiB9KTsgfSB9IGVsc2UgeyByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6IFwiUHJvZHVjdCBOb3QgRm91bmRcIiB9KTsgfSB9KSApOyBwcm9kdWN0Um91dGVyLmRlbGV0ZSggJy86aWQnLCBpc0F1dGgsIGlzQWRtaW4sIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7IGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpOyBpZiAocHJvZHVjdCkgeyBjb25zdCBkZWxldGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3QucmVtb3ZlKCk7IHJlcy5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgRGVsZXRlZCcsIHByb2R1Y3Q6IGRlbGV0ZWRQcm9kdWN0IH0pOyB9IGVsc2UgeyByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IE5vdCBGb3VuZCcgfSk7IH0gfSkgKTsgZXhwb3J0IGRlZmF1bHQgcHJvZHVjdFJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQStCO0FBQXlEO0FBQTRDO0FBQTZDO0FBQUMsTUFBTUEs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","map":{"version":3,"names":["productRouter","express","Router","get","expressAsyncHandler","req","res","products","Product","find","send","product","findById","params","id","post","isAuth","isAdmin","name","description","category","brand","image","createdProduct","save","status","message","put","productId","body","price","countInStock","updatedProduct","delete","deletedProduct","remove"],"sourceRoot":"C:\\Users\\fraan\\Documents\\ecommerces\\Nueva carpeta\\backend\\routers\\","sources":["productRouter.js"],"sourcesContent":["import express from \"express\"; import expressAsyncHandler from \"express-async-handler\"; import { isAuth, isAdmin } from \"../utils\"; import Product from \"../models/productModel\"; const productRouter = express.Router(); productRouter.get( \"/\", expressAsyncHandler(async (req, res) => { const products = await Product.find({}); res.send(products); }) ); productRouter.get( \"/:id\", expressAsyncHandler(async (req, res) => { const product = await Product.findById(req.params.id); res.send(product); }) ); productRouter.post( \"/\", isAuth, isAdmin, expressAsyncHandler(async (req, res) => { const product = new Product({ name: \"sample product\", description: \"sample desc\", category: \"sample category\", brand: \"sample brand\", image: \"/images/product-1.jpg\", }); const createdProduct = await product.save(); if (createdProduct) { res .status(201) .send({ message: \"Product Created\", product: createdProduct }); } else { res.status(500).send({ message: \"Error in creating product\" }); } }) ); productRouter.put( \"/:id\", isAuth, isAdmin, expressAsyncHandler(async (req, res) => { const productId = req.params.id; const product = await Product.findById(productId); if (product) { product.name = req.body.name; product.price = req.body.price; product.image = req.body.image; product.brand = req.body.brand; product.category = req.body.category; product.countInStock = req.body.countInStock; product.description = req.body.description; const updatedProduct = await product.save(); if (updatedProduct) { res.send({ message: \"Product Updated\", product: updatedProduct }); } else { res.status(500).send({ message: \"Error in updaing product\" }); } } else { res.status(404).send({ message: \"Product Not Found\" }); } }) ); productRouter.delete( '/:id', isAuth, isAdmin, expressAsyncHandler(async (req, res) => { const product = await Product.findById(req.params.id); if (product) { const deletedProduct = await product.remove(); res.send({ message: 'Product Deleted', product: deletedProduct }); } else { res.status(404).send({ message: 'Product Not Found' }); } }) ); export default productRouter;"],"mappings":"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"}},"mtime":1667530656352},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\\\\backend\\\\models\\\\productModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst productSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  brand: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    default: 0.0,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0.0,\n    required: true\n  },\n  numReviews: {\n    type: Number,\n    default: 0,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Product = _mongoose.default.model('Product', productSchema);\nvar _default = Product;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0U2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZGVzY3JpcHRpb24iLCJjYXRlZ29yeSIsImJyYW5kIiwiaW1hZ2UiLCJwcmljZSIsIk51bWJlciIsImRlZmF1bHQiLCJjb3VudEluU3RvY2siLCJyYXRpbmciLCJudW1SZXZpZXdzIiwidGltZXN0YW1wcyIsIlByb2R1Y3QiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxmcmFhblxcRG9jdW1lbnRzXFxlY29tbWVyY2VzXFxOdWV2YSBjYXJwZXRhXFxiYWNrZW5kXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsicHJvZHVjdE1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7IGNvbnN0IHByb2R1Y3RTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKCB7IG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LCBkZXNjcmlwdGlvbjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sIGNhdGVnb3J5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSwgYnJhbmQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LCBpbWFnZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sIHByaWNlOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMC4wLCByZXF1aXJlZDogdHJ1ZSB9LCBjb3VudEluU3RvY2s6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLCByZXF1aXJlZDogdHJ1ZSB9LCByYXRpbmc6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLjAsIHJlcXVpcmVkOiB0cnVlIH0sIG51bVJldmlld3M6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLCByZXF1aXJlZDogdHJ1ZSB9LCB9LCB7IHRpbWVzdGFtcHM6IHRydWUgfSApOyBjb25zdCBQcm9kdWN0ID0gbW9uZ29vc2UubW9kZWwoJ1Byb2R1Y3QnLCBwcm9kdWN0U2NoZW1hKTsgZXhwb3J0IGRlZmF1bHQgUHJvZHVjdDsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQWdDO0FBQUMsTUFBTUEsYUFBYSxHQUFHLElBQUlDLGlCQUFRLENBQUNDLE1BQU0sQ0FBRTtFQUFFQyxJQUFJLEVBQUU7SUFBRUMsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFBRUMsV0FBVyxFQUFFO0lBQUVILElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQUVFLFFBQVEsRUFBRTtJQUFFSixJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUFFRyxLQUFLLEVBQUU7SUFBRUwsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFBRUksS0FBSyxFQUFFO0lBQUVOLElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQUVLLEtBQUssRUFBRTtJQUFFUCxJQUFJLEVBQUVRLE1BQU07SUFBRUMsT0FBTyxFQUFFLEdBQUc7SUFBRVAsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUFFUSxZQUFZLEVBQUU7SUFBRVYsSUFBSSxFQUFFUSxNQUFNO0lBQUVDLE9BQU8sRUFBRSxDQUFDO0lBQUVQLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFBRVMsTUFBTSxFQUFFO0lBQUVYLElBQUksRUFBRVEsTUFBTTtJQUFFQyxPQUFPLEVBQUUsR0FBRztJQUFFUCxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQUVVLFVBQVUsRUFBRTtJQUFFWixJQUFJLEVBQUVRLE1BQU07SUFBRUMsT0FBTyxFQUFFLENBQUM7SUFBRVAsUUFBUSxFQUFFO0VBQUs7QUFBRyxDQUFDLEVBQUU7RUFBRVcsVUFBVSxFQUFFO0FBQUssQ0FBQyxDQUFFO0FBQUUsTUFBTUMsT0FBTyxHQUFHakIsaUJBQVEsQ0FBQ2tCLEtBQUssQ0FBQyxTQUFTLEVBQUVuQixhQUFhLENBQUM7QUFBQyxlQUFnQmtCLE9BQU87QUFBQSJ9","map":{"version":3,"names":["productSchema","mongoose","Schema","name","type","String","required","description","category","brand","image","price","Number","default","countInStock","rating","numReviews","timestamps","Product","model"],"sourceRoot":"C:\\Users\\fraan\\Documents\\ecommerces\\Nueva carpeta\\backend\\models\\","sources":["productModel.js"],"sourcesContent":["import mongoose from 'mongoose'; const productSchema = new mongoose.Schema( { name: { type: String, required: true }, description: { type: String, required: true }, category: { type: String, required: true }, brand: { type: String, required: true }, image: { type: String, required: true }, price: { type: Number, default: 0.0, required: true }, countInStock: { type: Number, default: 0, required: true }, rating: { type: Number, default: 0.0, required: true }, numReviews: { type: Number, default: 0, required: true }, }, { timestamps: true } ); const Product = mongoose.model('Product', productSchema); export default Product;"],"mappings":";;;;;;AAAA;AAAgC;AAAC,MAAMA,aAAa,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CAAE;EAAEC,IAAI,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAAEC,WAAW,EAAE;IAAEH,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAAEE,QAAQ,EAAE;IAAEJ,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAAEG,KAAK,EAAE;IAAEL,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAAEI,KAAK,EAAE;IAAEN,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAAEK,KAAK,EAAE;IAAEP,IAAI,EAAEQ,MAAM;IAAEC,OAAO,EAAE,GAAG;IAAEP,QAAQ,EAAE;EAAK,CAAC;EAAEQ,YAAY,EAAE;IAAEV,IAAI,EAAEQ,MAAM;IAAEC,OAAO,EAAE,CAAC;IAAEP,QAAQ,EAAE;EAAK,CAAC;EAAES,MAAM,EAAE;IAAEX,IAAI,EAAEQ,MAAM;IAAEC,OAAO,EAAE,GAAG;IAAEP,QAAQ,EAAE;EAAK,CAAC;EAAEU,UAAU,EAAE;IAAEZ,IAAI,EAAEQ,MAAM;IAAEC,OAAO,EAAE,CAAC;IAAEP,QAAQ,EAAE;EAAK;AAAG,CAAC,EAAE;EAAEW,UAAU,EAAE;AAAK,CAAC,CAAE;AAAE,MAAMC,OAAO,GAAGjB,iBAAQ,CAACkB,KAAK,CAAC,SAAS,EAAEnB,aAAa,CAAC;AAAC,eAAgBkB,OAAO;AAAA"}},"mtime":1667530692959},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\\\\backend\\\\routers\\\\uploadRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _utils = require(\"../utils\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst storage = _multer.default.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  }\n});\nconst upload = (0, _multer.default)({\n  storage\n});\nconst uploadRouter = _express.default.Router();\nuploadRouter.post('/', _utils.isAuth, _utils.isAdmin, upload.single('image'), (req, res) => {\n  res.status(201).send({\n    image: `/${req.file.path}`\n  });\n});\nvar _default = uploadRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzdG9yYWdlIiwibXVsdGVyIiwiZGlza1N0b3JhZ2UiLCJkZXN0aW5hdGlvbiIsInJlcSIsImZpbGUiLCJjYiIsImZpbGVuYW1lIiwiRGF0ZSIsIm5vdyIsInVwbG9hZCIsInVwbG9hZFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiaXNBdXRoIiwiaXNBZG1pbiIsInNpbmdsZSIsInJlcyIsInN0YXR1cyIsInNlbmQiLCJpbWFnZSIsInBhdGgiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcZnJhYW5cXERvY3VtZW50c1xcZWNvbW1lcmNlc1xcTnVldmEgY2FycGV0YVxcYmFja2VuZFxccm91dGVyc1xcIiwic291cmNlcyI6WyJ1cGxvYWRSb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7IGltcG9ydCBtdWx0ZXIgZnJvbSAnbXVsdGVyJzsgaW1wb3J0IHsgaXNBdXRoLCBpc0FkbWluIH0gZnJvbSAnLi4vdXRpbHMnOyBjb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHsgZGVzdGluYXRpb24ocmVxLCBmaWxlLCBjYikgeyBjYihudWxsLCAndXBsb2Fkcy8nKTsgfSwgZmlsZW5hbWUocmVxLCBmaWxlLCBjYikgeyBjYihudWxsLCBgJHtEYXRlLm5vdygpfS5qcGdgKTsgfSwgfSk7IGNvbnN0IHVwbG9hZCA9IG11bHRlcih7IHN0b3JhZ2UgfSk7IGNvbnN0IHVwbG9hZFJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7IHVwbG9hZFJvdXRlci5wb3N0KCcvJywgaXNBdXRoLCBpc0FkbWluLCB1cGxvYWQuc2luZ2xlKCdpbWFnZScpLCAocmVxLCByZXMpID0+IHsgcmVzLnN0YXR1cygyMDEpLnNlbmQoeyBpbWFnZTogYC8ke3JlcS5maWxlLnBhdGh9YCB9KTsgfSk7IGV4cG9ydCBkZWZhdWx0IHVwbG9hZFJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQStCO0FBQTZCO0FBQTJDO0FBQUMsTUFBTUEsT0FBTyxHQUFHQyxlQUFNLENBQUNDLFdBQVcsQ0FBQztFQUFFQyxXQUFXLENBQUNDLEdBQUcsRUFBRUMsSUFBSSxFQUFFQyxFQUFFLEVBQUU7SUFBRUEsRUFBRSxDQUFDLElBQUksRUFBRSxVQUFVLENBQUM7RUFBRSxDQUFDO0VBQUVDLFFBQVEsQ0FBQ0gsR0FBRyxFQUFFQyxJQUFJLEVBQUVDLEVBQUUsRUFBRTtJQUFFQSxFQUFFLENBQUMsSUFBSSxFQUFHLEdBQUVFLElBQUksQ0FBQ0MsR0FBRyxFQUFHLE1BQUssQ0FBQztFQUFFO0FBQUcsQ0FBQyxDQUFDO0FBQUUsTUFBTUMsTUFBTSxHQUFHLElBQUFULGVBQU0sRUFBQztFQUFFRDtBQUFRLENBQUMsQ0FBQztBQUFFLE1BQU1XLFlBQVksR0FBR0MsZ0JBQU8sQ0FBQ0MsTUFBTSxFQUFFO0FBQUVGLFlBQVksQ0FBQ0csSUFBSSxDQUFDLEdBQUcsRUFBRUMsYUFBTSxFQUFFQyxjQUFPLEVBQUVOLE1BQU0sQ0FBQ08sTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUNiLEdBQUcsRUFBRWMsR0FBRyxLQUFLO0VBQUVBLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7SUFBRUMsS0FBSyxFQUFHLElBQUdqQixHQUFHLENBQUNDLElBQUksQ0FBQ2lCLElBQUs7RUFBRSxDQUFDLENBQUM7QUFBRSxDQUFDLENBQUM7QUFBQyxlQUFnQlgsWUFBWTtBQUFBIn0=","map":{"version":3,"names":["storage","multer","diskStorage","destination","req","file","cb","filename","Date","now","upload","uploadRouter","express","Router","post","isAuth","isAdmin","single","res","status","send","image","path"],"sourceRoot":"C:\\Users\\fraan\\Documents\\ecommerces\\Nueva carpeta\\backend\\routers\\","sources":["uploadRouter.js"],"sourcesContent":["import express from 'express'; import multer from 'multer'; import { isAuth, isAdmin } from '../utils'; const storage = multer.diskStorage({ destination(req, file, cb) { cb(null, 'uploads/'); }, filename(req, file, cb) { cb(null, `${Date.now()}.jpg`); }, }); const upload = multer({ storage }); const uploadRouter = express.Router(); uploadRouter.post('/', isAuth, isAdmin, upload.single('image'), (req, res) => { res.status(201).send({ image: `/${req.file.path}` }); }); export default uploadRouter;"],"mappings":";;;;;;AAAA;AAA+B;AAA6B;AAA2C;AAAC,MAAMA,OAAO,GAAGC,eAAM,CAACC,WAAW,CAAC;EAAEC,WAAW,CAACC,GAAG,EAAEC,IAAI,EAAEC,EAAE,EAAE;IAAEA,EAAE,CAAC,IAAI,EAAE,UAAU,CAAC;EAAE,CAAC;EAAEC,QAAQ,CAACH,GAAG,EAAEC,IAAI,EAAEC,EAAE,EAAE;IAAEA,EAAE,CAAC,IAAI,EAAG,GAAEE,IAAI,CAACC,GAAG,EAAG,MAAK,CAAC;EAAE;AAAG,CAAC,CAAC;AAAE,MAAMC,MAAM,GAAG,IAAAT,eAAM,EAAC;EAAED;AAAQ,CAAC,CAAC;AAAE,MAAMW,YAAY,GAAGC,gBAAO,CAACC,MAAM,EAAE;AAAEF,YAAY,CAACG,IAAI,CAAC,GAAG,EAAEC,aAAM,EAAEC,cAAO,EAAEN,MAAM,CAACO,MAAM,CAAC,OAAO,CAAC,EAAE,CAACb,GAAG,EAAEc,GAAG,KAAK;EAAEA,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IAAEC,KAAK,EAAG,IAAGjB,GAAG,CAACC,IAAI,CAACiB,IAAK;EAAE,CAAC,CAAC;AAAE,CAAC,CAAC;AAAC,eAAgBX,YAAY;AAAA"}},"mtime":1667530661481},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\",\"filename\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\\\\backend\\\\routers\\\\userRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\fraan\\\\Documents\\\\ecommerces\\\\Nueva carpeta\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\nvar _utils = require(\"../utils\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst userRouter = _express.default.Router();\nuserRouter.get(\"/createadmin\", (0, _expressAsyncHandler.default)(async (req, res) => {\n  try {\n    const user = new _userModel.default({\n      name: \"admin\",\n      email: \"admin@example.com\",\n      password: \"admin9999\",\n      isAdmin: true\n    });\n    const createdUser = await user.save();\n    res.send(createdUser);\n  } catch (err) {\n    res.status(500).send({\n      message: err.message\n    });\n  }\n}));\nuserRouter.post(\"/signin\", (0, _expressAsyncHandler.default)(async (req, res) => {\n  const signinUser = await _userModel.default.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n  if (!signinUser) {\n    res.status(401).send({\n      message: \"Invalid Email or Password\"\n    });\n  } else {\n    res.send({\n      _id: signinUser._id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: (0, _utils.generateToken)(signinUser)\n    });\n  }\n}));\nuserRouter.post(\"/register\", (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: req.body.password\n  });\n  const createdUser = await user.save();\n  if (!createdUser) {\n    res.status(401).send({\n      message: \"Invalid User Data\"\n    });\n  } else {\n    res.send({\n      _id: createdUser._id,\n      name: createdUser.name,\n      email: createdUser.email,\n      isAdmin: createdUser.isAdmin,\n      token: (0, _utils.generateToken)(createdUser)\n    });\n  }\n}));\nuserRouter.put(\"/:id\", _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n  if (!user) {\n    res.status(404).send({\n      message: \"User Not Found\"\n    });\n  } else {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.password = req.body.password || user.password;\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser._id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      token: (0, _utils.generateToken)(updatedUser)\n    });\n  }\n}));\nvar _default = userRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImV4cHJlc3NBc3luY0hhbmRsZXIiLCJyZXEiLCJyZXMiLCJ1c2VyIiwiVXNlciIsIm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiaXNBZG1pbiIsImNyZWF0ZWRVc2VyIiwic2F2ZSIsInNlbmQiLCJlcnIiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsInNpZ25pblVzZXIiLCJmaW5kT25lIiwiYm9keSIsIl9pZCIsInRva2VuIiwiZ2VuZXJhdGVUb2tlbiIsInB1dCIsImlzQXV0aCIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiLCJ1cGRhdGVkVXNlciJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxmcmFhblxcRG9jdW1lbnRzXFxlY29tbWVyY2VzXFxOdWV2YSBjYXJwZXRhXFxiYWNrZW5kXFxyb3V0ZXJzXFwiLCJzb3VyY2VzIjpbInVzZXJSb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjsgaW1wb3J0IFVzZXIgZnJvbSBcIi4uL21vZGVscy91c2VyTW9kZWxcIjsgaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSBcImV4cHJlc3MtYXN5bmMtaGFuZGxlclwiOyBpbXBvcnQgeyBnZW5lcmF0ZVRva2VuLCBpc0F1dGggfSBmcm9tIFwiLi4vdXRpbHNcIjsgY29uc3QgdXNlclJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7IHVzZXJSb3V0ZXIuZ2V0KCBcIi9jcmVhdGVhZG1pblwiLCBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4geyB0cnkgeyBjb25zdCB1c2VyID0gbmV3IFVzZXIoeyBuYW1lOiBcImFkbWluXCIsIGVtYWlsOiBcImFkbWluQGV4YW1wbGUuY29tXCIsIHBhc3N3b3JkOiBcImFkbWluOTk5OVwiLCBpc0FkbWluOiB0cnVlLCB9KTsgY29uc3QgY3JlYXRlZFVzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTsgcmVzLnNlbmQoY3JlYXRlZFVzZXIpOyB9IGNhdGNoIChlcnIpIHsgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBlcnIubWVzc2FnZSB9KTsgfSB9KSApOyB1c2VyUm91dGVyLnBvc3QoIFwiL3NpZ25pblwiLCBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4geyBjb25zdCBzaWduaW5Vc2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgZW1haWw6IHJlcS5ib2R5LmVtYWlsLCBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmQsIH0pOyBpZiAoIXNpZ25pblVzZXIpIHsgcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiBcIkludmFsaWQgRW1haWwgb3IgUGFzc3dvcmRcIiwgfSk7IH0gZWxzZSB7IHJlcy5zZW5kKHsgX2lkOiBzaWduaW5Vc2VyLl9pZCwgbmFtZTogc2lnbmluVXNlci5uYW1lLCBlbWFpbDogc2lnbmluVXNlci5lbWFpbCwgaXNBZG1pbjogc2lnbmluVXNlci5pc0FkbWluLCB0b2tlbjogZ2VuZXJhdGVUb2tlbihzaWduaW5Vc2VyKSwgfSk7IH0gfSkgKTsgdXNlclJvdXRlci5wb3N0KCBcIi9yZWdpc3RlclwiLCBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4geyBjb25zdCB1c2VyID0gbmV3IFVzZXIoeyBuYW1lOiByZXEuYm9keS5uYW1lLCBlbWFpbDogcmVxLmJvZHkuZW1haWwsIHBhc3N3b3JkOiByZXEuYm9keS5wYXNzd29yZCwgfSk7IGNvbnN0IGNyZWF0ZWRVc2VyID0gYXdhaXQgdXNlci5zYXZlKCk7IGlmICghY3JlYXRlZFVzZXIpIHsgcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiBcIkludmFsaWQgVXNlciBEYXRhXCIsIH0pOyB9IGVsc2UgeyByZXMuc2VuZCh7IF9pZDogY3JlYXRlZFVzZXIuX2lkLCBuYW1lOiBjcmVhdGVkVXNlci5uYW1lLCBlbWFpbDogY3JlYXRlZFVzZXIuZW1haWwsIGlzQWRtaW46IGNyZWF0ZWRVc2VyLmlzQWRtaW4sIHRva2VuOiBnZW5lcmF0ZVRva2VuKGNyZWF0ZWRVc2VyKSwgfSk7IH0gfSkgKTsgdXNlclJvdXRlci5wdXQoIFwiLzppZFwiLCBpc0F1dGgsIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7IGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpOyBpZiAoIXVzZXIpIHsgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiBcIlVzZXIgTm90IEZvdW5kXCIsIH0pOyB9IGVsc2UgeyB1c2VyLm5hbWUgPSByZXEuYm9keS5uYW1lIHx8IHVzZXIubmFtZTsgdXNlci5lbWFpbCA9IHJlcS5ib2R5LmVtYWlsIHx8IHVzZXIuZW1haWw7IHVzZXIucGFzc3dvcmQgPSByZXEuYm9keS5wYXNzd29yZCB8fCB1c2VyLnBhc3N3b3JkOyBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpOyByZXMuc2VuZCh7IF9pZDogdXBkYXRlZFVzZXIuX2lkLCBuYW1lOiB1cGRhdGVkVXNlci5uYW1lLCBlbWFpbDogdXBkYXRlZFVzZXIuZW1haWwsIGlzQWRtaW46IHVwZGF0ZWRVc2VyLmlzQWRtaW4sIHRva2VuOiBnZW5lcmF0ZVRva2VuKHVwZGF0ZWRVc2VyKSwgfSk7IH0gfSkgKTsgZXhwb3J0IGRlZmF1bHQgdXNlclJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQStCO0FBQXdDO0FBQXlEO0FBQWlEO0FBQUMsTUFBTUEsVUFBVSxHQUFHQyxnQkFBTyxDQUFDQyxNQUFNLEVBQUU7QUFBRUYsVUFBVSxDQUFDRyxHQUFHLENBQUUsY0FBYyxFQUFFLElBQUFDLDRCQUFtQixFQUFDLE9BQU9DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQUUsSUFBSTtJQUFFLE1BQU1DLElBQUksR0FBRyxJQUFJQyxrQkFBSSxDQUFDO01BQUVDLElBQUksRUFBRSxPQUFPO01BQUVDLEtBQUssRUFBRSxtQkFBbUI7TUFBRUMsUUFBUSxFQUFFLFdBQVc7TUFBRUMsT0FBTyxFQUFFO0lBQU0sQ0FBQyxDQUFDO0lBQUUsTUFBTUMsV0FBVyxHQUFHLE1BQU1OLElBQUksQ0FBQ08sSUFBSSxFQUFFO0lBQUVSLEdBQUcsQ0FBQ1MsSUFBSSxDQUFDRixXQUFXLENBQUM7RUFBRSxDQUFDLENBQUMsT0FBT0csR0FBRyxFQUFFO0lBQUVWLEdBQUcsQ0FBQ1csTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRixJQUFJLENBQUM7TUFBRUcsT0FBTyxFQUFFRixHQUFHLENBQUNFO0lBQVEsQ0FBQyxDQUFDO0VBQUU7QUFBRSxDQUFDLENBQUMsQ0FBRTtBQUFFbEIsVUFBVSxDQUFDbUIsSUFBSSxDQUFFLFNBQVMsRUFBRSxJQUFBZiw0QkFBbUIsRUFBQyxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUFFLE1BQU1jLFVBQVUsR0FBRyxNQUFNWixrQkFBSSxDQUFDYSxPQUFPLENBQUM7SUFBRVgsS0FBSyxFQUFFTCxHQUFHLENBQUNpQixJQUFJLENBQUNaLEtBQUs7SUFBRUMsUUFBUSxFQUFFTixHQUFHLENBQUNpQixJQUFJLENBQUNYO0VBQVUsQ0FBQyxDQUFDO0VBQUUsSUFBSSxDQUFDUyxVQUFVLEVBQUU7SUFBRWQsR0FBRyxDQUFDVyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNGLElBQUksQ0FBQztNQUFFRyxPQUFPLEVBQUU7SUFBNkIsQ0FBQyxDQUFDO0VBQUUsQ0FBQyxNQUFNO0lBQUVaLEdBQUcsQ0FBQ1MsSUFBSSxDQUFDO01BQUVRLEdBQUcsRUFBRUgsVUFBVSxDQUFDRyxHQUFHO01BQUVkLElBQUksRUFBRVcsVUFBVSxDQUFDWCxJQUFJO01BQUVDLEtBQUssRUFBRVUsVUFBVSxDQUFDVixLQUFLO01BQUVFLE9BQU8sRUFBRVEsVUFBVSxDQUFDUixPQUFPO01BQUVZLEtBQUssRUFBRSxJQUFBQyxvQkFBYSxFQUFDTCxVQUFVO0lBQUcsQ0FBQyxDQUFDO0VBQUU7QUFBRSxDQUFDLENBQUMsQ0FBRTtBQUFFcEIsVUFBVSxDQUFDbUIsSUFBSSxDQUFFLFdBQVcsRUFBRSxJQUFBZiw0QkFBbUIsRUFBQyxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUFFLE1BQU1DLElBQUksR0FBRyxJQUFJQyxrQkFBSSxDQUFDO0lBQUVDLElBQUksRUFBRUosR0FBRyxDQUFDaUIsSUFBSSxDQUFDYixJQUFJO0lBQUVDLEtBQUssRUFBRUwsR0FBRyxDQUFDaUIsSUFBSSxDQUFDWixLQUFLO0lBQUVDLFFBQVEsRUFBRU4sR0FBRyxDQUFDaUIsSUFBSSxDQUFDWDtFQUFVLENBQUMsQ0FBQztFQUFFLE1BQU1FLFdBQVcsR0FBRyxNQUFNTixJQUFJLENBQUNPLElBQUksRUFBRTtFQUFFLElBQUksQ0FBQ0QsV0FBVyxFQUFFO0lBQUVQLEdBQUcsQ0FBQ1csTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRixJQUFJLENBQUM7TUFBRUcsT0FBTyxFQUFFO0lBQXFCLENBQUMsQ0FBQztFQUFFLENBQUMsTUFBTTtJQUFFWixHQUFHLENBQUNTLElBQUksQ0FBQztNQUFFUSxHQUFHLEVBQUVWLFdBQVcsQ0FBQ1UsR0FBRztNQUFFZCxJQUFJLEVBQUVJLFdBQVcsQ0FBQ0osSUFBSTtNQUFFQyxLQUFLLEVBQUVHLFdBQVcsQ0FBQ0gsS0FBSztNQUFFRSxPQUFPLEVBQUVDLFdBQVcsQ0FBQ0QsT0FBTztNQUFFWSxLQUFLLEVBQUUsSUFBQUMsb0JBQWEsRUFBQ1osV0FBVztJQUFHLENBQUMsQ0FBQztFQUFFO0FBQUUsQ0FBQyxDQUFDLENBQUU7QUFBRWIsVUFBVSxDQUFDMEIsR0FBRyxDQUFFLE1BQU0sRUFBRUMsYUFBTSxFQUFFLElBQUF2Qiw0QkFBbUIsRUFBQyxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUFFLE1BQU1DLElBQUksR0FBRyxNQUFNQyxrQkFBSSxDQUFDb0IsUUFBUSxDQUFDdkIsR0FBRyxDQUFDd0IsTUFBTSxDQUFDQyxFQUFFLENBQUM7RUFBRSxJQUFJLENBQUN2QixJQUFJLEVBQUU7SUFBRUQsR0FBRyxDQUFDVyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNGLElBQUksQ0FBQztNQUFFRyxPQUFPLEVBQUU7SUFBa0IsQ0FBQyxDQUFDO0VBQUUsQ0FBQyxNQUFNO0lBQUVYLElBQUksQ0FBQ0UsSUFBSSxHQUFHSixHQUFHLENBQUNpQixJQUFJLENBQUNiLElBQUksSUFBSUYsSUFBSSxDQUFDRSxJQUFJO0lBQUVGLElBQUksQ0FBQ0csS0FBSyxHQUFHTCxHQUFHLENBQUNpQixJQUFJLENBQUNaLEtBQUssSUFBSUgsSUFBSSxDQUFDRyxLQUFLO0lBQUVILElBQUksQ0FBQ0ksUUFBUSxHQUFHTixHQUFHLENBQUNpQixJQUFJLENBQUNYLFFBQVEsSUFBSUosSUFBSSxDQUFDSSxRQUFRO0lBQUUsTUFBTW9CLFdBQVcsR0FBRyxNQUFNeEIsSUFBSSxDQUFDTyxJQUFJLEVBQUU7SUFBRVIsR0FBRyxDQUFDUyxJQUFJLENBQUM7TUFBRVEsR0FBRyxFQUFFUSxXQUFXLENBQUNSLEdBQUc7TUFBRWQsSUFBSSxFQUFFc0IsV0FBVyxDQUFDdEIsSUFBSTtNQUFFQyxLQUFLLEVBQUVxQixXQUFXLENBQUNyQixLQUFLO01BQUVFLE9BQU8sRUFBRW1CLFdBQVcsQ0FBQ25CLE9BQU87TUFBRVksS0FBSyxFQUFFLElBQUFDLG9CQUFhLEVBQUNNLFdBQVc7SUFBRyxDQUFDLENBQUM7RUFBRTtBQUFFLENBQUMsQ0FBQyxDQUFFO0FBQUMsZUFBZ0IvQixVQUFVO0FBQUEifQ==","map":{"version":3,"names":["userRouter","express","Router","get","expressAsyncHandler","req","res","user","User","name","email","password","isAdmin","createdUser","save","send","err","status","message","post","signinUser","findOne","body","_id","token","generateToken","put","isAuth","findById","params","id","updatedUser"],"sourceRoot":"C:\\Users\\fraan\\Documents\\ecommerces\\Nueva carpeta\\backend\\routers\\","sources":["userRouter.js"],"sourcesContent":["import express from \"express\"; import User from \"../models/userModel\"; import expressAsyncHandler from \"express-async-handler\"; import { generateToken, isAuth } from \"../utils\"; const userRouter = express.Router(); userRouter.get( \"/createadmin\", expressAsyncHandler(async (req, res) => { try { const user = new User({ name: \"admin\", email: \"admin@example.com\", password: \"admin9999\", isAdmin: true, }); const createdUser = await user.save(); res.send(createdUser); } catch (err) { res.status(500).send({ message: err.message }); } }) ); userRouter.post( \"/signin\", expressAsyncHandler(async (req, res) => { const signinUser = await User.findOne({ email: req.body.email, password: req.body.password, }); if (!signinUser) { res.status(401).send({ message: \"Invalid Email or Password\", }); } else { res.send({ _id: signinUser._id, name: signinUser.name, email: signinUser.email, isAdmin: signinUser.isAdmin, token: generateToken(signinUser), }); } }) ); userRouter.post( \"/register\", expressAsyncHandler(async (req, res) => { const user = new User({ name: req.body.name, email: req.body.email, password: req.body.password, }); const createdUser = await user.save(); if (!createdUser) { res.status(401).send({ message: \"Invalid User Data\", }); } else { res.send({ _id: createdUser._id, name: createdUser.name, email: createdUser.email, isAdmin: createdUser.isAdmin, token: generateToken(createdUser), }); } }) ); userRouter.put( \"/:id\", isAuth, expressAsyncHandler(async (req, res) => { const user = await User.findById(req.params.id); if (!user) { res.status(404).send({ message: \"User Not Found\", }); } else { user.name = req.body.name || user.name; user.email = req.body.email || user.email; user.password = req.body.password || user.password; const updatedUser = await user.save(); res.send({ _id: updatedUser._id, name: updatedUser.name, email: updatedUser.email, isAdmin: updatedUser.isAdmin, token: generateToken(updatedUser), }); } }) ); export default userRouter;"],"mappings":"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"}},"mtime":1667530668283}}